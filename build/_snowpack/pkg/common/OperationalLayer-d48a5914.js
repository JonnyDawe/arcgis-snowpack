import { e as e$2, y as y$1, i as i$1, a, aL as o$1, aM as t, a1 as e$3, o as o$2, P as r, f as r$1, bB as e$4, bG as p$2, M, A as k, bH as d$3, s } from './Identifiable-c8406192.js';
import './config-b3bf08ce.js';
import { p as p$3 } from './persistableUrlUtils-b4be11a9.js';
import { d as d$2 } from './TimeExtent-155cb8a4.js';
import { w as w$1 } from './fieldUtils-a9f71c96.js';
import { m as m$2 } from './lengthUtils-cb1a7b62.js';

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
var p$1;let i=p$1=class extends a{async collectRequiredFields(r,o){return w$1(r,o,this.expression)}clone(){return new p$1({expression:this.expression,title:this.title})}};e$2([y$1({type:String,json:{write:!0}})],i.prototype,"expression",void 0),e$2([y$1({type:String,json:{write:!0}})],i.prototype,"title",void 0),i=p$1=e$2([i$1("esri.layers.support.FeatureExpressionInfo")],i);var c$2=i;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function e$1(){const n=Object.keys(m$2);return n.sort(),n}const o=e$1();

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
var l$2;const m$1=o$1()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),d$1=new t({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let c$1=l$2=class extends a{constructor(){super(...arguments),this.offset=null;}readFeatureExpressionInfo(e,r){return null!=e?e:r.featureExpression&&0===r.featureExpression.value?{expression:"0"}:void 0}writeFeatureExpressionInfo(e,r,o,t){r[o]=e.write(null,t),"0"===e.expression&&(r.featureExpression={value:0});}get mode(){const{offset:e,featureExpressionInfo:o}=this;return this._isOverridden("mode")?this._get("mode"):r(e)||o?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e);}set unit(e){this._set("unit",e);}write(e,r){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,r):null}clone(){return new l$2({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};e$2([y$1({type:c$2,json:{write:!0}})],c$1.prototype,"featureExpressionInfo",void 0),e$2([e$3("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],c$1.prototype,"readFeatureExpressionInfo",null),e$2([o$2("featureExpressionInfo",{featureExpressionInfo:{type:c$2},"featureExpression.value":{type:[0]}})],c$1.prototype,"writeFeatureExpressionInfo",null),e$2([y$1({type:m$1.apiValues,nonNullable:!0,json:{type:m$1.jsonValues,read:m$1.read,write:{writer:m$1.write,isRequired:!0}}})],c$1.prototype,"mode",null),e$2([y$1({type:Number,json:{write:!0}})],c$1.prototype,"offset",void 0),e$2([y$1({type:o,json:{type:String,read:d$1.read,write:d$1.write}})],c$1.prototype,"unit",null),c$1=l$2=e$2([i$1("esri.layers.support.ElevationInfo")],c$1);var x=c$1;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const l$1={type:Boolean,value:!0,json:{origins:{"web-scene":{read:{source:["id","url","layerType"],reader(r,i){if(null!=i.screenSizePerspective||"defaults"!==this.originOf("screenSizePerspectiveEnabled"))return i.screenSizePerspective;e$4(this).store.set("screenSizePerspectiveEnabled",!1,0);}},write:{ignoreOrigin:!0,target:"screenSizePerspective",writer(e,r,n,t){("defaults"===this.originOf("screenSizePerspectiveEnabled")&&e||p$2(this,"screenSizePerspectiveEnabled",{},t))&&(r[n]=e);}}}}}},c={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,r)=>!r.disablePopup},write:{enabled:!0,writer(e,r,i){r[i]=!e;}}}},p={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},f={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:p$3}}},d={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},m={value:null,type:x,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function u(e){return {type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const y={type:Number,json:{origins:{"web-document":{default:1,write:!0,read:!0},"portal-item":{write:!0}}}},g={...y,json:{...y.json,origins:{"web-document":{...y.json.origins["web-document"],write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,r,i)=>i&&"service"!==i.origin||!r.drawingInfo||void 0===r.drawingInfo.transparency?r.layerDefinition&&r.layerDefinition.drawingInfo&&void 0!==r.layerDefinition.drawingInfo.transparency?r$1(r.layerDefinition.drawingInfo.transparency):void 0:r$1(r.drawingInfo.transparency)}}},w={type:d$2,readOnly:!0,get(){var e,r;if(null==(e=this.layer)||!e.timeInfo)return null;const i=null==(r=this.view)?void 0:r.timeExtent,n=this.layer.timeExtent,t=this.layer.useViewTime?i&&n?i.intersection(n):i||n:n;if(!t||t.isEmpty)return t;const o=this.layer.timeOffset,a=o?t.offset(-o.value,o.unit):t,s=this._get("timeExtent");return a.equals(s)?s:a}},v={type:M,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,r)=>{const i=M.fromJSON(e);return null!=r.spatialReference&&"object"==typeof r.spatialReference&&(i.spatialReference=k.fromJSON(r.spatialReference)),i}}}},read:!1}},b={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},j={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},S={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const e={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,VectorTileLayer:!0,WMS:!0,KML:!0,RasterDataLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,ArcGISFeatureLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0,CSV:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,VectorTileLayer:!0,WFS:!0,SubtypeGroupLayer:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const l=l=>{let y$2=class extends l{constructor(){super(...arguments),this.title=null;}writeListMode(e,r,t,i){(i&&"ground"===i.layerContainerType||e&&p$2(this,t,{},i))&&(r[t]=e);}writeOperationalLayerType(e,r,t,i){!e||i&&"tables"===i.layerContainerType||(r.layerType=e);}writeTitle(e,r){r.title=e||"Layer";}read(e,r){r&&(r.layer=this),d$3(this,e,(r=>super.read(e,r)),r);}write(e$1,r){if(r&&r.origin){const e$1=`${r.origin}/${r.layerContainerType||"operational-layers"}`,t=e[e$1];let i=t&&t[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===e$1&&(i=!1),!i)return r.messages&&r.messages.push(new s("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e$1}'`,{layer:this})),null}const t=super.write(e$1,{...r,layer:this}),i=!!r&&!!r.messages&&!!r.messages.filter((e=>e instanceof s&&"web-document-write:property-required"===e.name)).length;return !this.url&&i?null:t}beforeSave(){}};return e$2([y$1({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],y$2.prototype,"id",void 0),e$2([y$1({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],y$2.prototype,"listMode",void 0),e$2([o$2("listMode")],y$2.prototype,"writeListMode",null),e$2([y$1({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],y$2.prototype,"operationalLayerType",void 0),e$2([o$2("operationalLayerType")],y$2.prototype,"writeOperationalLayerType",null),e$2([y$1(y)],y$2.prototype,"opacity",void 0),e$2([y$1({type:String,json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,allowNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],y$2.prototype,"title",void 0),e$2([o$2("title")],y$2.prototype,"writeTitle",null),e$2([y$1({type:Boolean,json:{name:"visibility",origins:{"web-document":{name:"visibility",default:!0},"portal-item":{name:"visibility",read:{source:["visible","visibility"]}}}}})],y$2.prototype,"visible",void 0),y$2=e$2([i$1("esri.layers.mixins.OperationalLayer")],y$2),y$2};

export { S, l$1 as a, b, c, d, f, g, j, l, m, p, u, v, w, x, y };
