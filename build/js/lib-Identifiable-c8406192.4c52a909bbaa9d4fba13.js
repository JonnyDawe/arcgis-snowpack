(window.webpackJsonp=window.webpackJsonp||[]).push([[23],[function(e,t,r){"use strict";r.r(t),r.d(t,"$",(function(){return _r})),r.d(t,"A",(function(){return Ms})),r.d(t,"B",(function(){return Fn})),r.d(t,"C",(function(){return da})),r.d(t,"D",(function(){return dc})),r.d(t,"E",(function(){return Vn})),r.d(t,"F",(function(){return Xr})),r.d(t,"G",(function(){return O})),r.d(t,"H",(function(){return Ha})),r.d(t,"I",(function(){return Va})),r.d(t,"J",(function(){return o})),r.d(t,"K",(function(){return $a})),r.d(t,"L",(function(){return qs})),r.d(t,"M",(function(){return Qo})),r.d(t,"N",(function(){return K})),r.d(t,"O",(function(){return Wa})),r.d(t,"P",(function(){return s})),r.d(t,"Q",(function(){return ul})),r.d(t,"R",(function(){return ea})),r.d(t,"S",(function(){return Yn})),r.d(t,"T",(function(){return Cn})),r.d(t,"U",(function(){return xt})),r.d(t,"V",(function(){return En})),r.d(t,"W",(function(){return Qa})),r.d(t,"X",(function(){return Kn})),r.d(t,"Y",(function(){return c})),r.d(t,"Z",(function(){return ho})),r.d(t,"_",(function(){return bo})),r.d(t,"a",(function(){return rs})),r.d(t,"a$",(function(){return pr})),r.d(t,"a0",(function(){return di})),r.d(t,"a1",(function(){return Zs})),r.d(t,"a2",(function(){return j})),r.d(t,"a3",(function(){return ju})),r.d(t,"a4",(function(){return Hn})),r.d(t,"a5",(function(){return yn})),r.d(t,"a6",(function(){return Bn})),r.d(t,"a7",(function(){return pi})),r.d(t,"a8",(function(){return Dn})),r.d(t,"a9",(function(){return f})),r.d(t,"aA",(function(){return Ln})),r.d(t,"aB",(function(){return an})),r.d(t,"aC",(function(){return On})),r.d(t,"aD",(function(){return Xn})),r.d(t,"aE",(function(){return Wn})),r.d(t,"aF",(function(){return sa})),r.d(t,"aG",(function(){return re})),r.d(t,"aH",(function(){return Gt})),r.d(t,"aI",(function(){return oa})),r.d(t,"aJ",(function(){return Cu})),r.d(t,"aK",(function(){return Zc})),r.d(t,"aL",(function(){return Pa})),r.d(t,"aM",(function(){return ka})),r.d(t,"aN",(function(){return Q})),r.d(t,"aO",(function(){return A})),r.d(t,"aP",(function(){return Ft})),r.d(t,"aQ",(function(){return Wt})),r.d(t,"aR",(function(){return qt})),r.d(t,"aS",(function(){return Ht})),r.d(t,"aT",(function(){return Pl})),r.d(t,"aU",(function(){return Ce})),r.d(t,"aV",(function(){return It})),r.d(t,"aW",(function(){return Ds})),r.d(t,"aX",(function(){return zt})),r.d(t,"aY",(function(){return Vt})),r.d(t,"aZ",(function(){return Ee})),r.d(t,"a_",(function(){return wr})),r.d(t,"aa",(function(){return ei})),r.d(t,"ab",(function(){return wc})),r.d(t,"ac",(function(){return l})),r.d(t,"ad",(function(){return Un})),r.d(t,"ae",(function(){return jn})),r.d(t,"af",(function(){return Zn})),r.d(t,"ag",(function(){return un})),r.d(t,"ah",(function(){return ao})),r.d(t,"ai",(function(){return lo})),r.d(t,"aj",(function(){return $s})),r.d(t,"ak",(function(){return us})),r.d(t,"al",(function(){return Fs})),r.d(t,"am",(function(){return Xs})),r.d(t,"an",(function(){return _s})),r.d(t,"ao",(function(){return Ks})),r.d(t,"ap",(function(){return _})),r.d(t,"aq",(function(){return hs})),r.d(t,"ar",(function(){return Kc})),r.d(t,"as",(function(){return wo})),r.d(t,"at",(function(){return Ao})),r.d(t,"au",(function(){return ku})),r.d(t,"av",(function(){return gc})),r.d(t,"aw",(function(){return An})),r.d(t,"ax",(function(){return Il})),r.d(t,"ay",(function(){return Jn})),r.d(t,"az",(function(){return Tn})),r.d(t,"b",(function(){return Xi})),r.d(t,"b$",(function(){return ti})),r.d(t,"b0",(function(){return xi})),r.d(t,"b1",(function(){return Ur})),r.d(t,"b2",(function(){return zn})),r.d(t,"b3",(function(){return ra})),r.d(t,"b4",(function(){return rl})),r.d(t,"b5",(function(){return ps})),r.d(t,"b6",(function(){return Ar})),r.d(t,"b7",(function(){return w})),r.d(t,"b8",(function(){return Oi})),r.d(t,"b9",(function(){return de})),r.d(t,"bA",(function(){return xr})),r.d(t,"bB",(function(){return ie})),r.d(t,"bC",(function(){return Bi})),r.d(t,"bD",(function(){return Or})),r.d(t,"bE",(function(){return Sr})),r.d(t,"bF",(function(){return Yi})),r.d(t,"bG",(function(){return Ki})),r.d(t,"bH",(function(){return Vi})),r.d(t,"bI",(function(){return R})),r.d(t,"bJ",(function(){return h})),r.d(t,"bK",(function(){return $l})),r.d(t,"bL",(function(){return er})),r.d(t,"bM",(function(){return fl})),r.d(t,"bN",(function(){return po})),r.d(t,"bO",(function(){return Nc})),r.d(t,"bP",(function(){return M})),r.d(t,"bQ",(function(){return $n})),r.d(t,"bR",(function(){return qn})),r.d(t,"bS",(function(){return ne})),r.d(t,"bT",(function(){return wn})),r.d(t,"bU",(function(){return Mt})),r.d(t,"bV",(function(){return dn})),r.d(t,"bW",(function(){return bi})),r.d(t,"bX",(function(){return aa})),r.d(t,"bY",(function(){return cr})),r.d(t,"bZ",(function(){return tr})),r.d(t,"b_",(function(){return vt})),r.d(t,"ba",(function(){return eo})),r.d(t,"bb",(function(){return to})),r.d(t,"bc",(function(){return gs})),r.d(t,"bd",(function(){return bs})),r.d(t,"be",(function(){return ms})),r.d(t,"bf",(function(){return vs})),r.d(t,"bg",(function(){return ns})),r.d(t,"bh",(function(){return ds})),r.d(t,"bi",(function(){return bn})),r.d(t,"bj",(function(){return Ut})),r.d(t,"bk",(function(){return nr})),r.d(t,"bl",(function(){return jt})),r.d(t,"bm",(function(){return bt})),r.d(t,"bn",(function(){return Sc})),r.d(t,"bo",(function(){return fs})),r.d(t,"bp",(function(){return ys})),r.d(t,"bq",(function(){return _c})),r.d(t,"br",(function(){return Cl})),r.d(t,"bs",(function(){return or})),r.d(t,"bt",(function(){return rr})),r.d(t,"bu",(function(){return Iu})),r.d(t,"bv",(function(){return D})),r.d(t,"bw",(function(){return Tt})),r.d(t,"bx",(function(){return ca})),r.d(t,"by",(function(){return Ru})),r.d(t,"bz",(function(){return p})),r.d(t,"c",(function(){return zs})),r.d(t,"c$",(function(){return ha})),r.d(t,"c0",(function(){return St})),r.d(t,"c1",(function(){return Ct})),r.d(t,"c2",(function(){return la})),r.d(t,"c3",(function(){return d})),r.d(t,"c4",(function(){return yc})),r.d(t,"c5",(function(){return hn})),r.d(t,"c6",(function(){return b})),r.d(t,"c7",(function(){return u})),r.d(t,"c8",(function(){return ri})),r.d(t,"c9",(function(){return sr})),r.d(t,"cA",(function(){return mn})),r.d(t,"cB",(function(){return fn})),r.d(t,"cC",(function(){return xc})),r.d(t,"cD",(function(){return In})),r.d(t,"cE",(function(){return Rl})),r.d(t,"cF",(function(){return cn})),r.d(t,"cG",(function(){return Xc})),r.d(t,"cH",(function(){return Rn})),r.d(t,"cI",(function(){return Qn})),r.d(t,"cJ",(function(){return Wo})),r.d(t,"cK",(function(){return El})),r.d(t,"cL",(function(){return Yl})),r.d(t,"cM",(function(){return Me})),r.d(t,"cN",(function(){return Y})),r.d(t,"cO",(function(){return Oe})),r.d(t,"cP",(function(){return $t})),r.d(t,"cQ",(function(){return ve})),r.d(t,"cR",(function(){return fr})),r.d(t,"cS",(function(){return T})),r.d(t,"cT",(function(){return E})),r.d(t,"cU",(function(){return Zt})),r.d(t,"cV",(function(){return Dt})),r.d(t,"cW",(function(){return wt})),r.d(t,"cX",(function(){return on})),r.d(t,"cY",(function(){return y})),r.d(t,"cZ",(function(){return bc})),r.d(t,"c_",(function(){return fc})),r.d(t,"ca",(function(){return hu})),r.d(t,"cb",(function(){return qo})),r.d(t,"cc",(function(){return tu})),r.d(t,"cd",(function(){return Su})),r.d(t,"ce",(function(){return eu})),r.d(t,"cf",(function(){return uc})),r.d(t,"cg",(function(){return ac})),r.d(t,"ch",(function(){return cc})),r.d(t,"ci",(function(){return oc})),r.d(t,"cj",(function(){return mc})),r.d(t,"ck",(function(){return vc})),r.d(t,"cl",(function(){return pc})),r.d(t,"cm",(function(){return co})),r.d(t,"cn",(function(){return uo})),r.d(t,"co",(function(){return m})),r.d(t,"cp",(function(){return g})),r.d(t,"cq",(function(){return ln})),r.d(t,"cr",(function(){return v})),r.d(t,"cs",(function(){return lr})),r.d(t,"ct",(function(){return pu})),r.d(t,"cu",(function(){return ws})),r.d(t,"cv",(function(){return a})),r.d(t,"cw",(function(){return xu})),r.d(t,"cx",(function(){return xo})),r.d(t,"cy",(function(){return $o})),r.d(t,"cz",(function(){return vn})),r.d(t,"d",(function(){return jl})),r.d(t,"d0",(function(){return Jt})),r.d(t,"d1",(function(){return La})),r.d(t,"e",(function(){return i})),r.d(t,"f",(function(){return Lc})),r.d(t,"g",(function(){return Tc})),r.d(t,"h",(function(){return Nn})),r.d(t,"i",(function(){return it})),r.d(t,"j",(function(){return Ac})),r.d(t,"k",(function(){return Hs})),r.d(t,"l",(function(){return F})),r.d(t,"m",(function(){return zi})),r.d(t,"n",(function(){return k})),r.d(t,"o",(function(){return Di})),r.d(t,"p",(function(){return Rc})),r.d(t,"q",(function(){return jc})),r.d(t,"r",(function(){return kc})),r.d(t,"s",(function(){return ot})),r.d(t,"t",(function(){return Ec})),r.d(t,"u",(function(){return Ui})),r.d(t,"v",(function(){return ke})),r.d(t,"w",(function(){return Cc})),r.d(t,"x",(function(){return nc})),r.d(t,"y",(function(){return Se})),r.d(t,"z",(function(){return Nu}));r(25),r(18),r(87),r(140),r(124),r(88);var n=r(1);function i(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function s(e){return null!=e}function o(e){return null==e}function a(e){return void 0===e}function l(e,t){return s(e)?t(e):null}function c(e){return e}function u(e,t){if(o(e))throw new Error(t);return e}function h(e,t){return s(e)?e:"function"==typeof t?t():t}function p(e){return s(e)&&e.destroy(),null}function d(e){return s(e)&&e.dispose(),null}function f(e){return s(e)&&e.remove(),null}function y(e){return null}function m(e,t){const r=new Array;for(const n of e)r.push(v(n,null,t));return r}function g(e,t){for(const r of e)v(r,null,t)}function v(e,t,r){return s(e)?r(e):t}function b(e,t){return s(e)?t(e):null}function _(e,...t){let r=e,n=0;for(;n<t.length&&r;)r=r[t[n++]];return r}function w(e){return e}const x=/\{([^\}]+)\}/g;function S(e){return null==e?"":e}function O(e,t){return e.replace(x,"object"==typeof t?(e,r)=>S(Object(n.m)(r,t)):(e,r)=>S(t(r)))}function M(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,(e=>t&&-1!==t.indexOf(e)?e:`\\${e}`))}function A(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}function T(e){return(new DOMParser).parseFromString(e||"","text/html").body.innerText||""}const L={info:0,warn:1,error:2,none:3};class k{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=e.level&&(this.level=e.level),null!=e.writer&&(this.writer=e.writer),this._module=e.module,k._loggers[this.module]=this;const t=this.module.lastIndexOf(".");-1!==t&&(this._parent=k.getLogger(this.module.slice(0,t)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){const e=this;return{loggedMessages:e._loggedMessages,clearLoggedWarnings:()=>e._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(e={}){const t=k._loggers;return k._loggers=e,t},set throttlingDisabled(e){k._throttlingDisabled=e}}}static getLogger(e){let t=k._loggers[e];return t||(t=new k({module:e})),t}_log(e,t,...r){if(this._matchLevel(e)){if("always"!==t&&!k._throttlingDisabled){const n=this._argsToKey(r),i=this._loggedMessages[e].get(n);if("once"===t&&null!=i||"oncePerTick"===t&&i&&i>=k._tickCounter)return;this._loggedMessages[e].set(n,k._tickCounter),k._scheduleTickCounterIncrement()}for(const t of n.l.log.interceptors)if(t(e,this.module,...r))return;this._inheritedWriter()(e,this.module,...r)}}_parentWithMember(e,t){let r=this;for(;s(r);){const t=r[e];if(s(t))return t;r=r.parent}return t}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(e,t,...r){console[e](`[${t}]`,...r)}_matchLevel(e){const t=n.l.log.level?n.l.log.level:"warn";return L[this._parentWithMember("level",t)]<=L[e]}_argsToKey(...e){return A(JSON.stringify(e,((e,t)=>"object"!=typeof t||Array.isArray(t)?t:"[Object]")))}static _scheduleTickCounterIncrement(){k._tickCounterScheduled||(k._tickCounterScheduled=!0,Promise.resolve().then((()=>{k._tickCounter++,k._tickCounterScheduled=!1})))}}k._loggers={},k._tickCounter=0,k._tickCounterScheduled=!1,k._throttlingDisabled=!1;const P=k.getLogger("esri.core.Accessor");function C(e){return null==e?e:new Date(e)}function I(e){return null==e?e:!!e}function R(e){return null==e?e:e.toString()}function j(e){return null==e?e:(e=parseFloat(e),isNaN(e)?0:e)}function E(e){return null==e?e:Math.round(parseFloat(e))}function N(e){return e&&e.constructor&&void 0!==e.constructor.__accessorMetadata__}function G(e,t){return null!=t&&e&&!(t instanceof e)}function U(e){return e&&"isCollection"in e}function q(e){return e&&e.Type?"function"==typeof e.Type?e.Type:e.Type.base:null}function z(e,t){return!!N(t)&&(P.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+W(e)+"'"),!0)}function D(e,t){return null==t?t:U(e)?function(e,t){if(!t||!t.constructor||!U(t.constructor))return z(e,t)?t:new e(t);const r=q(e.prototype.itemType),n=q(t.constructor.prototype.itemType);return r?n?r===n?t:r.prototype.isPrototypeOf(n.prototype)?new e(t):(z(e,t),t):new e(t):t}(e,t):G(e,t)?z(e,t)?t:new e(t):t}function W(e){return e&&e.prototype&&e.prototype.declaredClass||"unknown"}function $(e){switch(e){case Number:return j;case K:return E;case Boolean:return I;case String:return R;case Date:return C;default:return D.bind(null,e)}}function F(e,t){const r=$(e);return 1===arguments.length?r:r(t)}function J(e,t,r){return 1===arguments.length?J.bind(null,e):t?Array.isArray(t)?t.map((t=>e(t,r))):[e(t,r)]:t}function B(e,t,r){return 0!==t&&Array.isArray(r)?r.map((r=>B(e,t-1,r))):e(r)}function V(e,t,r){if(2===arguments.length)return V.bind(null,e,t);if(!r)return r;let n=t,i=r=B(e,t,r);for(;n>0&&Array.isArray(i);)n--,i=i[0];if(void 0!==i)for(let e=0;e<n;e++)r=[r];return r}function H(e){return!!Array.isArray(e)&&!e.some((t=>{const r=typeof t;return!("string"===r||"number"===r||"function"===r&&e.length>1)}))}function Z(e,t){if(2===arguments.length)return Z(e).call(null,t);const r=new Set,n=e.filter((e=>"function"!=typeof e)),i=e.filter((e=>"function"==typeof e));for(const t of e)"string"!=typeof t&&"number"!=typeof t||r.add(t);let s=null,o=null;return(e,t)=>{if(null==e)return e;const a=typeof e,l="string"===a||"number"===a;return l&&(r.has(e)||i.some((e=>"string"===a&&e===String||"number"===a&&e===Number)))||"object"===a&&i.some((t=>!G(e,t)))?e:(l&&n.length?(s||(s=n.map((e=>"string"==typeof e?`'${e}'`:`${e}`)).join(", ")),P.error("Accessor#set",`'${e}' is not a valid value for this property, only the following values are valid: ${s}`)):"object"==typeof e&&i.length?(o||(o=i.map((e=>W(e))).join(", ")),P.error("Accessor#set",`'${e}' is not a valid value for this property, value must be one of ${o}`)):P.error("Accessor#set",`'${e}' is not a valid value for this property`),t&&(t.valid=!1),null)}}function Q(e,t){if(2===arguments.length)return Q(e).call(null,t);const r={},n=[],i=[];for(const t in e.typeMap){const s=e.typeMap[t];r[t]=F(s),n.push(W(s)),i.push(t)}const s=()=>`'${n.join("', '")}'`,o=()=>`'${i.join("', '")}'`,a="string"==typeof e.key?t=>t[e.key]:e.key;return t=>{if(e.base&&!G(e.base,t))return t;if(null==t)return t;const n=a(t)||e.defaultKeyValue,i=r[n];if(!i)return P.error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!G(e.typeMap[n],t))return t;if("string"==typeof e.key&&!N(t)){const r={};for(const n in t)n!==e.key&&(r[n]=t[n]);return i(r)}return i(t)}}class K{}const Y={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function X(e){switch(e.type){case"native":return F(e.value);case"array":return J(X(e.value));case"one-of":return function(e){let t=null;return(r,n)=>te(r,e)?r:(null==t&&(t=ee(e)),P.error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),n&&(n.valid=!1),null)}(e);default:return null}}function ee(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case K:return"integer";case Date:return"date";default:return W(e.value)}case"array":return`array of ${ee(e.value)}`;case"one-of":{const t=e.values.map((e=>ee(e)));return`one of ${t.slice(0,t.length-1)} or ${t[t.length-1]}`}}return"unknown"}function te(e,t){if(null==e)return!0;switch(t.type){case"native":switch(t.value){case Number:case K:return"number"==typeof e;case Boolean:return"boolean"==typeof e;case String:return"string"==typeof e}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some((e=>!te(e,t.value)));case"one-of":return t.values.some((t=>te(e,t)))}}function re(e){return ne((()=>e.forEach((e=>s(e)&&e.remove()))))}function ne(e){return{remove:()=>{e&&(e(),e=void 0)}}}function ie(e){return e?e.__accessor__?e.__accessor__:e.propertyInvalidated?e:null:null}function se(e,t,r){return oe(e,t,r?{policy:r,path:""}:null)}function oe(e,t,r){return t?Object.keys(t).reduce((function(e,i){let s=null,o="merge";if(r&&(s=r.path?`${r.path}.${i}`:i,o=r.policy(s)),"replace"===o)return e[i]=t[i],e;if(void 0===e[i])return e[i]=Object(n.o)(t[i]),e;let a=e[i],l=t[i];if(a===l)return e;if(Array.isArray(l)||Array.isArray(e))a=a?Array.isArray(a)?e[i]=a.concat():e[i]=[a]:e[i]=[],l&&(Array.isArray(l)||(l=[l]),l.forEach((e=>{-1===a.indexOf(e)&&a.push(e)})));else if(l&&"object"==typeof l)if(r){const t=r.path;r.path=s,e[i]=oe(a,l,r),r.path=t}else e[i]=oe(a,l,null);else e.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(e[i]=l);return e}),e||{}):e}function ae(e){return Array.isArray(e)?e:e.split(".")}function le(e){return e.indexOf(",")>-1?e.split(",").map((e=>e.trim())):[e.trim()]}function ce(e,t,r,n){const i=function(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...le(r));return t}return le(e)}(t);if(1!==i.length){return re(i.map((t=>n(e,t,r))))}return n(e,i[0],r)}function ue(e){let t=!1;return()=>{t||(t=!0,e())}}function he(e,t){const r="?"===e[e.length-1]?e.slice(0,-1):e;if(null!=t.getItemAt||Array.isArray(t)){const e=parseInt(r,10);if(!isNaN(e))return Array.isArray(t)?t[e]:t.getItemAt(e)}const n=ie(t);return function(e,t){return null!=e&&e.metadatas&&null!=e.metadatas[t]}(n,r)?n.get(r):t[r]}function pe(e,t,r){if(null==e)return e;const n=he(t[r],e);return!n&&r<t.length-1?void 0:r===t.length-1?n:pe(n,t,r+1)}function de(e,t,r=0){return"string"==typeof t&&-1===t.indexOf(".")?he(t,e):pe(e,ae(t),r)}function fe(e,t){return de(e,t)}function ye(e,t){return void 0!==de(t,e)}class me{constructor(e){this.autoDestroy=!1,this.properties=e}}function ge(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){const r=Object.create(t.properties),i=t.autoDestroy;for(const e in r)r[e]=Object(n.o)(r[e]);t=new me(r),t.autoDestroy=i,Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t=new me({}),Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function ve(e,t){const r=function(e){return ge(e).properties}(e);let n=r[t];return n||(n=r[t]={}),n}const be=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function _e(e){return be.test(e)?"replace":"merge"}function we(e,t,r){if(e&&t)if("object"==typeof t)for(const r of Object.getOwnPropertyNames(t))we(e,r,t[r]);else{if(-1!==t.indexOf(".")){const n=t.split("."),i=n.splice(n.length-1,1)[0];return void we(fe(e,n),i,r)}e[t]=r}}k.getLogger("esri.core.accessorSupport.set");const xe=k.getLogger("esri.core.accessorSupport.decorators.property");function Se(e={}){return(t,r,n)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const i=ve(t,r);n&&(n.get||n.set?(i.get=n.get||i.get,i.set=n.set||i.set):"value"in n&&("value"in e&&xe.warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),i.value=e.value=n.value)),null!=e.readOnly&&(i.readOnly=e.readOnly);const s=e.aliasOf;if(s){const e="string"==typeof s?s:s.source,t="string"==typeof s?null:!0===s.overridable;let n;i.dependsOn=[e],i.get=function(){let t=fe(this,e);if("function"==typeof t){n||(n=e.split(".").slice(0,-1).join("."));const r=fe(this,n);r&&(t=t.bind(r))}return t},i.readOnly||(i.set=t?function(e){void 0!==e?this._override(r,e):this._clearOverride(r)}:function(t){we(this,e,t)})}const o=e.type,a=e.types;i.cast||(o?i.cast=function(e){let t=0,r=e;if(function(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}(e))return X(e);for(;Array.isArray(r)&&1===r.length&&"string"!=typeof r[0]&&"number"!=typeof r[0];)r=r[0],t++;const n=r;if(H(n))return 0===t?Z(n):V(Z(n),t);if(1===t)return function(e,t){return 1===arguments.length?J(F.bind(null,e)):J(F.bind(null,e),t)}(n);if(t>1)return function(e,t,r){return 2===arguments.length?V(F.bind(null,e),t):V(F.bind(null,e),t,r)}(n,t);const i=e;return i.from?i.from:F(i)}(o):a&&(Array.isArray(a)?i.cast=J(Q(a[0])):i.cast=Q(a))),e.range&&(i.cast=Me(i.cast,e.range)),function(e,t){se(e,t,_e)}(i,e)}}function Oe(e,t,r){const n=ve(e,r);n.json||(n.json={});let i=n.json;return void 0!==t&&(i.origins||(i.origins={}),i.origins[t]||(i.origins[t]={}),i=i.origins[t]),i}function Me(e,t){return r=>{let n=+e(r);return null!=t.step&&(n=Math.round(n/t.step)*t.step),null!=t.min&&(n=Math.max(t.min,n)),null!=t.max&&(n=Math.min(t.max,n)),n}}const Ae=Object.prototype.toString;function Te(e){const t="__accessorMetadata__"in e?F(e):e;return function(...e){if(e.push(t),"number"==typeof e[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return Le.apply(this,e)}}function Le(e,t,r,n){ve(e,t).cast=n}function ke(...e){if(3!==e.length||"string"!=typeof e[1])return 1===e.length&&"[object Function]"===Ae.call(e[0])?Te(e[0]):1===e.length&&"string"==typeof e[0]?function(e){return function(t,r){ve(t,e).cast=t[r]}}(e[0]):void 0}class Pe{constructor(e,t,r){this.name=e,this.details=r,this.message=void 0,this instanceof Pe&&(this.message=t&&function(e,t){return e.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(function(e,r){if(""===r)return"$";const i=Object(n.m)(r,t),s=null==i?"":i;if(void 0===s)throw new Error(`could not find key "${r}" in template`);return s.toString()}))}(t,r)||"")}toString(){return"["+this.name+"]: "+this.message}}class Ce extends Pe{constructor(e,t,r){if(super(e,t,r),!(this instanceof Ce))return new Ce(e,t,r)}}function Ie(e){return!!e&&e.prototype&&e.prototype.declaredClass&&0===e.prototype.declaredClass.indexOf("esri.core.Collection")}Ce.prototype.type="warning";const Re=k.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function je(e,t,r){var i,s;e&&(!r&&!t.read||null!=(i=t.read)&&i.reader||!1===(null==(s=t.read)?void 0:s.enabled)||function(e){return"types"in e?De(e.types):ze(e.type)}(e)&&Object(n.i)("read.reader",Ee(e),t))}function Ee(e){var t;const r=null!=(t=e.ndimArray)?t:0;if(r>1)return function(e){var t;const r=Ne(e),n=Ge.bind(null,r),i=null!=(t=e.ndimArray)?t:0;return(e,t,r)=>{if(null==e)return e;e=n(e,r,i);let s=i,o=e;for(;s>0&&Array.isArray(o);)s--,o=o[0];if(void 0!==o)for(let t=0;t<s;t++)e=[e];return e}}(e);if(1===r)return Ue(e);if("type"in e&&qe(e.type)){var n,i;const t=null==(n=e.type.prototype)||null==(i=n.itemType)?void 0:i.Type,r=Ue("function"==typeof t?{type:t}:{types:t});return(t,n,i)=>{const s=r(t,n,i);return s?new e.type(s):s}}return Ne(e)}function Ne(e){return"type"in e?function(e){return e.prototype.read?(t,r,n)=>{if(null==t)return t;const i=typeof t;if("object"!==i)return void Re.error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${i}'`);const s=new e;return s.read(t,n),s}:e.fromJSON}(e.type):function(e){var t;let r=null;const n=null!=(t=e.errorContext)?t:"type";return(t,i,s)=>{if(null==t)return t;const o=typeof t;if("object"!==o)return void Re.error(`Expected JSON value of type 'object' to deserialize, but got '${o}'`);r||(r=function(e){const t={};for(const i in e.typeMap){var r,n;const s=e.typeMap[i],o=ge(s.prototype);if("function"==typeof e.key)continue;const a=o.properties[e.key];if(!a)continue;null!=(r=a.json)&&r.type&&Array.isArray(a.json.type)&&1===a.json.type.length&&"string"==typeof a.json.type[0]&&(t[a.json.type[0]]=s);const l=null==(n=a.json)?void 0:n.write;if(!l||!l.writer){t[i]=s;continue}const c=l.target,u="string"==typeof c?c:e.key,h={};l.writer(i,h,u),h[u]&&(t[h[u]]=s)}return t}(e));const a=e.key;if("string"!=typeof a)return;const l=t[a],c=l?r[l]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!c){const e=`Type '${l||"unknown"}' is not supported`;return s&&s.messages&&t&&s.messages.push(new Ce(`${n}:unsupported`,e,{definition:t,context:s})),void Re.error(e)}const u=new c;return u.read(t,s),u}}(e.types)}function Ge(e,t,r,n){return 0!==n&&Array.isArray(t)?t.map((t=>Ge(e,t,r,n-1))):e(t,void 0,r)}function Ue(e){const t=Ne(e);return(e,r,n)=>{if(null==e)return e;if(Array.isArray(e)){const r=[];for(const i of e){const e=t(i,void 0,n);void 0!==e&&r.push(e)}return r}const i=t(e,void 0,n);return void 0!==i?[i]:void 0}}function qe(e){if(!Ie(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&("function"==typeof t.Type?ze(t.Type):De(t.Type))}function ze(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||qe(e))}function De(e){for(const t in e.typeMap)if(!ze(e.typeMap[t]))return!1;return!0}function We(e){e.name&&(e.read&&"object"==typeof e.read?void 0===e.read.source&&(e.read.source=e.name):e.read={source:e.name},e.write&&"object"==typeof e.write?void 0===e.write.target&&(e.write.target=e.name):e.write={target:e.name})}function $e(e){"boolean"==typeof e.read?e.read={enabled:e.read}:"function"==typeof e.read?e.read={enabled:!0,reader:e.read}:e.read&&"object"==typeof e.read&&void 0===e.read.enabled&&(e.read.enabled=!0)}function Fe(e){"boolean"==typeof e.write?e.write={enabled:e.write}:"function"==typeof e.write?e.write={enabled:!0,writer:e.write}:e.write&&"object"==typeof e.write&&void 0===e.write.enabled&&(e.write.enabled=!0)}function Je(e,t){var r;if(!t.write||t.write.writer||!1===t.write.enabled&&!t.write.overridePolicy)return;const i=null!=(r=null==e?void 0:e.ndimArray)?r:0;e&&(1===i||"type"in e&&Ie(e.type))?t.write.writer=Ze:t.write.writer=i>1?function(e){return function(t,r,i,s){let o;if(null===t)o=null;else{o=Qe(t,s,e);let r=e,n=o;for(;r>0&&Array.isArray(n);)r--,n=n[0];if(void 0!==n)for(let e=0;e<r;e++)o=[o]}Object(n.i)(i,o,r)}}(i):Be}function Be(e,t,r,i){Object(n.i)(r,Ve(e,i),t)}function Ve(e,t){return e&&"function"==typeof e.write?e.write({},t):e&&"function"==typeof e.toJSON?e.toJSON():"number"==typeof e?He(e):e}function He(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function Ze(e,t,r,i){let s;null===e?s=null:e&&"function"==typeof e.map?(s=e.map((e=>Ve(e,i))),"function"==typeof s.toArray&&(s=s.toArray())):s=[Ve(e,i)],Object(n.i)(r,s,t)}function Qe(e,t,r){return 0!==r&&Array.isArray(e)?e.map((e=>Qe(e,t,r-1))):Ve(e,t)}function Ke(e,t){return Xe(e,"read",t)}function Ye(e,t){return Xe(e,"write",t)}function Xe(e,t,r){let n=e&&e.json;if(e&&e.json&&e.json.origins&&r){const i=e.json.origins[r.origin];i&&("any"===t||t in i)&&(n=i)}return n}function et(e){const t=function(e){return e.type?function(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!H(r);)r=r[0],t++;return{type:r,ndimArray:t}}(e):function(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}(e)}(e);if(e.json.origins)for(const r in e.json.origins){const n=e.json.origins[r];je(t,n,!1),Je(t,n)}je(t,e.json,!0),Je(t,e.json)}const tt=[{processPrototypePropertyMetadata(e,t){(function(e){if(e.json||(e.json={}),$e(e.json),Fe(e.json),We(e.json),e.json.origins)for(const t in e.json.origins)$e(e.json.origins[t]),Fe(e.json.origins[t]),We(e.json.origins[t]);return!0})(t)&&(function(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const e in r)if(t[e]){const n=t[e];r[e].forEach((e=>{t[e]=n})),delete t[e]}}}(t),et(t))}}];const rt=new Set,nt=new Set;function it(e){return t=>{t.prototype.declaredClass=e,function(e,t){for(const r of tt)if(r.processPrototypePropertyMetadata)for(const n in e){const i=e[n];r.processPrototypePropertyMetadata(n,i,e,t)}}(ge(t.prototype).properties,e),function(e){const t=e.prototype,r=t.declaredClass,n=ge(t).properties;!function(e,t){for(const r of tt)if(r.processClassPropertyMetadata)for(const n in e){const i=e[n];r.processClassPropertyMetadata(n,i,e,t)}}(n,r);const i={};for(const e of Object.getOwnPropertyNames(n)){const t=n[e];i[e]={enumerable:!0,configurable:!0,get:st(e,t),set(r){const n=this.__accessor__;if(void 0!==n){if(!Object.isFrozen(this)){if(n.initialized&&t.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${e}' of ${this.declaredClass}`);if(2===n.lifecycle&&t.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${e}' of ${this.declaredClass}`);n.set(e,r)}}else Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:r})}}}Object.defineProperties(e.prototype,i)}(t);const r=[],n=[];let i=t.prototype;for(;i;)i.hasOwnProperty("initialize")&&!rt.has(i.initialize)&&(rt.add(i.initialize),r.push(i.initialize)),i.hasOwnProperty("destroy")&&!nt.has(i.destroy)&&(nt.add(i.destroy),n.push(i.destroy)),i=Object.getPrototypeOf(i);rt.clear(),nt.clear();class s extends t{constructor(...e){if(super(...e),this.constructor===s&&"function"==typeof this.postscript){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let e=r.length-1;e>=0;e--)r[e].call(this)}}),n.length){let e=!1;Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!e){e=!0;for(let e=0;e<n.length;e++)n[e].call(this)}}})}this.postscript(...e)}}}return s.__accessorMetadata__=ge(t.prototype),s.prototype.declaredClass=e,s}}function st(e,t){return null==t.get?function(){return this.__accessor__.getterStatic(e)}:function(){return this.__accessor__.getterComputed(e)}}class ot extends Pe{constructor(e,t,r){if(super(e,t,r),!(this instanceof ot))return new ot(e,t,r)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,((e,t)=>{if(t&&"object"==typeof t&&"function"==typeof t.toJSON)return t;try{return Object(n.o)(t)}catch(e){return"[object]"}})))}}catch(e){throw k.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new ot(e.name,e.message,e.details)}}ot.prototype.type="error";const at=k.getLogger("esri.core.urlUtils"),lt=n.l.request,ct="esri/config: esriConfig.request.proxyUrl is not set.",ut=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,ht=/^\s*http:/i,pt=/^\s*https:/i,dt=/^\s*file:/i,ft=/:\d+$/,yt=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,mt=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),gt=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class vt{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let t=this.uri.match(mt);this.scheme=t[2]||(t[1]?"":null),this.authority=t[4]||(t[3]?"":null),this.path=t[5],this.query=t[7]||(t[6]?"":null),this.fragment=t[9]||(t[8]?"":null),null!=this.authority&&(t=this.authority.match(gt),this.user=t[3]||null,this.password=t[4]||null,this.host=t[6]||t[7],this.port=t[9]||null)}toString(){return this.uri}}const bt=new vt(n.l.applicationUrl),_t={},wt=(()=>{const e=bt.path,t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${bt.scheme}://${bt.host}${null!=bt.port?`:${bt.port}`:""}${t}`})();function xt(e){const t={path:null,query:null},r=new vt(e),n=e.indexOf("?");return null===r.query?t.path=e:(t.path=e.substring(0,n),t.query=St(r.query)),r.fragment&&(t.hash=r.fragment,null===r.query&&(t.path=t.path.substring(0,t.path.length-(r.fragment.length+1)))),t}function St(e){const t=e.split("&"),r={};for(const e of t){if(!e)continue;const t=e.indexOf("=");let n,i;t<0?(n=decodeURIComponent(e),i=""):(n=decodeURIComponent(e.slice(0,t)),i=decodeURIComponent(e.slice(t+1)));let s=r[n];"string"==typeof s&&(s=r[n]=[s]),Array.isArray(s)?s.push(i):r[n]=i}return r}function Ot(e){return e&&"object"==typeof e&&"toJSON"in e&&"function"==typeof e.toJSON}function Mt(e,t){return e?t&&"function"==typeof t?Object.keys(e).map((r=>encodeURIComponent(r)+"="+encodeURIComponent(t(r,e[r])))).join("&"):Object.keys(e).map((r=>{const n=e[r];if(null==n)return"";const i=encodeURIComponent(r)+"=",s=t&&t[r];return s?i+encodeURIComponent(s(n)):Array.isArray(n)?n.map((e=>Ot(e)?i+encodeURIComponent(JSON.stringify(e)):i+encodeURIComponent(e))).join("&"):Ot(n)?i+encodeURIComponent(JSON.stringify(n)):i+encodeURIComponent(n)})).filter((e=>e)).join("&"):""}function At(e=!1){let t,r=lt.proxyUrl;if("string"==typeof e){t=function(e){return pt.test(e)||"https"===bt.scheme&&Zt(e)}(e);const n=Ct(e);n&&(r=n.proxyUrl)}else t=!!e;if(!r)throw at.warn(ct),new ot("urlutils:proxy-not-set",ct);return t&&Yt()&&(r=Kt(r)),xt(r)}function Tt(e){const t=Ct(e);let r,n;if(t){const e=kt(t.proxyUrl);r=e.path,n=e.query?St(e.query):null}if(r){const t=xt(e);e=r+"?"+t.path;const i=Mt({...n,...t.query});i&&(e=`${e}?${i}`)}return e}const Lt={path:"",query:""};function kt(e){const t=e.indexOf("?");return-1!==t?(Lt.path=e.slice(0,t),Lt.query=e.slice(t+1)):(Lt.path=e,Lt.query=null),Lt}function Pt(e){return(e=Xt(e=function(e){return e&&"/"===e[e.length-1]?e:`${e}/`}(e=kt(e).path),!0)).toLowerCase()}function Ct(e){const t=lt.proxyRules,r=Pt(e);for(let e=0;e<t.length;e++)if(0===r.indexOf(t[e].urlPrefix))return t[e]}function It(e,t){return e=Rt(e),t=Rt(t),Xt(e)===Xt(t)}function Rt(e){const t=(e=qt(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function jt(e,t,r=!1){const n=ir(e),i=ir(t);return!(!r&&n.scheme!==i.scheme)&&null!=n.host&&null!=i.host&&n.host.toLowerCase()===i.host.toLowerCase()&&n.port===i.port}function Et(e){if("string"==typeof e){if(!Wt(e))return!0;e=ir(e)}if(jt(e,bt))return!0;const t=lt.trustedServers||[];for(let r=0;r<t.length;r++){const n=Nt(t[r]);for(let t=0;t<n.length;t++)if(jt(e,n[t]))return!0}return!1}function Nt(e){return _t[e]||(Qt(e)||Zt(e)?_t[e]=[new vt(Gt(e))]:_t[e]=[new vt(`http://${e}`),new vt(`https://${e}`)]),_t[e]}function Gt(e,t=wt,r){return Zt(e)?r&&r.preserveProtocolRelative?e:"http"===bt.scheme&&bt.authority===Dt(e).slice(2)?`http:${e}`:`https:${e}`:Qt(e)?e:zt("/"===e[0]?function(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return-1===r?e:e.slice(0,r)}(t):t,e)}function Ut(e,t=wt,r){if(!Wt(e))return e;const n=qt(e),i=n.toLowerCase(),s=qt(t).toLowerCase().replace(/\/+$/,""),o=r?qt(r).toLowerCase().replace(/\/+$/,""):null;if(o&&0!==s.indexOf(o))return e;const a=(e,t,r)=>-1===(r=e.indexOf(t,r))?e.length:r;let l=a(i,"/",i.indexOf("//")+2),c=-1;for(;i.slice(0,l+1)===s.slice(0,l)+"/"&&(c=l+1,l!==i.length);)l=a(i,"/",l+1);if(-1===c)return e;if(o&&c<o.length)return e;e=n.slice(c);const u=s.slice(c-1).replace(/[^/]+/g,"").length;if(u>0)for(let t=0;t<u;t++)e=`../${e}`;else e=`./${e}`;return e}function qt(e){return function(e){const t=lt.httpsDomains;if(!function(e){return ht.test(e)||"http"===bt.scheme&&Zt(e)}(e))return e;const r=e.indexOf("/",7);let n;if(n=-1===r?e:e.slice(0,r),n=n.toLowerCase().slice(7),ft.test(n)){if(!n.endsWith(":80"))return e;n=n.slice(0,-3),e=e.replace(":80","")}return"http"===bt.scheme&&n===bt.authority&&!yt.test(e)||(Yt()&&n===bt.authority||t&&t.some((e=>n===e||n.endsWith(`.${e}`)))||Yt()&&!Ct(e))&&(e=Kt(e)),e}(e=function(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(e=function(e){if(/^https?:\/\//i.test(e)){const t=kt(e);e=(e=t.path.replace(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}(e=Gt(e=e.trim()))))}function zt(...e){const t=e.filter(s);if(!t||!t.length)return;const r=[];if(Wt(t[0])){const e=t[0],n=e.indexOf("//");-1!==n&&(r.push(e.slice(0,n+1)),function(e){return dt.test(e)}(t[0])&&(r[0]+="/"),t[0]=e.slice(n+2))}else"/"===t[0][0]&&r.push("");const n=t.reduce(((e,t)=>t?e.concat(t.split("/")):e),[]);for(let e=0;e<n.length;e++){const t=n[e];".."===t&&r.length>0&&".."!==r[r.length-1]?r.pop():(!t&&e===n.length-1||t&&("."!==t||0===r.length))&&r.push(t)}return r.join("/")}function Dt(e,t=!1){if($t(e)||Ft(e))return null;let r=e.indexOf("://");if(-1===r&&Zt(e))r=2;else{if(-1===r)return null;r+=3}const n=e.indexOf("/",r);return-1!==n&&(e=e.slice(0,n)),t&&(e=Xt(e,!0)),e}function Wt(e){return Zt(e)||Qt(e)}function $t(e){return null!=e&&"blob:"===e.slice(0,5)}function Ft(e){return"data:"===e.slice(0,5)}function Jt(e){const t=Vt(e);if(!t||!t.isBase64)return null;const r=atob(t.data),n=new Uint8Array(r.length);for(let e=0;e<r.length;e++)n[e]=r.charCodeAt(e);return n.buffer}const Bt=/^data:(.*?)(;base64)?,(.*)$/;function Vt(e){const t=e.match(Bt);if(!t)return null;const[,r,n,i]=t;return{mediaType:r,isBase64:!!n,data:i}}function Ht(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}function Zt(e){return null!=e&&void 0!==e&&"/"===e[0]&&"/"===e[1]}function Qt(e){return ut.test(e)}function Kt(e){return Zt(e)?`https:${e}`:e.replace(ht,"https:")}function Yt(){return"https"===bt.scheme}function Xt(e,t=!1){return Zt(e)?e.slice(2):(e=e.replace(ut,""),t&&e.length>1&&"/"===e[0]&&"/"===e[1]&&(e=e.slice(2)),e)}function er(e){let t=0;if(Wt(e)){const r=e.indexOf("//");-1!==r&&(t=r+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function tr(e,t){if(!e)return"";const r=xt(e).path.replace(/\/+$/,""),n=r.substring(r.lastIndexOf("/")+1);if(null==t||!t.length)return n;const i=new RegExp(`.(${t.join("|")})$`,"ig");return n.replace(i,"")}function rr(e){return e.replace(/\/+$/,"")}function nr(e,t,r){if(!(t&&r&&e&&Wt(e)))return e;const n=e.indexOf("//"),i=e.indexOf("/",n+2),s=e.indexOf(":",n+2),o=Math.min(i<0?e.length:i,s<0?e.length:s);return e.slice(n+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,n+2)}${r}${e.slice(o)}`}function ir(e){return"string"==typeof e?new vt(Gt(e)):(e.scheme||(e.scheme=bt.scheme),e)}function sr(e){return hr.test(e)}function or(e,t){const r=xt(e),n=Object.keys(r.query||{});return n.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${n.join(", ")}.`),r.path}function ar(e,t,r){const n=xt(e),i=n.query||{};return i[t]=String(r),`${n.path}?${Mt(i)}`}function lr(e,t){const r=xt(e),n=r.query||{};for(const e in t)n[e]=t[e];const i=Mt(n);return i?`${r.path}?${i}`:r.path}function cr(e){if(o(e))return null;const t=e.match(ur);return t?t[1]:null}const ur=/.*?\.([^\/]*)$/,hr=/(^data:image\/svg|\.svg$)/i;function pr(){const e=dr.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=t=>e[t].toString(16);return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}const dr=n.e.crypto||n.e.msCrypto;function fr(e){return yr[function(e){return e instanceof Blob?e.type:function(e){const t=cr(e);return vr[t]||mr}(e.url)}(e)]||gr}const yr={},mr="text/plain",gr=yr[mr],vr={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip"};for(const e in vr)yr[vr[e]]=e;const br=new Set;function _r(e,t,r={}){if(Object(n.a)("esri-deprecation-warnings")){const{moduleName:n}=r;wr(e,"Property: "+((n?n+"::":"")+t),r)}}function wr(e,t,r={}){if(Object(n.a)("esri-deprecation-warnings")){const{replacement:n,version:i,see:s,warnOnce:o}=r;let a=t;n&&(a+=`\n\t🛠️ Replacement: ${n}`),i&&(a+=`\n\t⚙️ Version: ${i}`),s&&(a+=`\n\t🔗 See ${s} for more details.`),function(e,t,r=!1){r&&br.has(t)||(r&&br.add(t),e.warn(`🛑 DEPRECATED - ${t}`))}(e,a,o)}}const xr=7;function Sr(e){switch(e){case"defaults":return 0;case"service":return 2;case"portal-item":return 3;case"web-scene":return 4;case"web-map":return 5;case"user":return 6}}function Or(e){switch(e){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"user"}}function Mr(e){return Or(e)}class Ar{constructor(e,t,r,n=1,i=0){if(this.ctor=e,this.acquireFunction=t,this.releaseFunction=r,this.allocationSize=n,this._pool=new Array(i),this._initialSize=i,this.ctor)for(let e=0;e<i;e++)this._pool[e]=new this.ctor;this.allocationSize=Math.max(n,1)}destroy(){this.prune(0)}acquire(...e){let t;if(Ar.test.disabled)t=new this.ctor;else{if(0===this._pool.length){const e=this.allocationSize;for(let t=0;t<e;t++)this._pool[t]=new this.ctor}t=this._pool.pop()}return this.acquireFunction?this.acquireFunction(t,...e):function(e){return e&&e.acquire&&"function"==typeof e.acquire}(t)&&t.acquire(...e),t}release(e){e&&!Ar.test.disabled&&(this.releaseFunction?this.releaseFunction(e):function(e){return e&&e.release&&"function"==typeof e.release}(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let t=e;t<this._pool.length;++t){const e=this._pool[t];this._dispose(e)}this._pool.length=e}}_dispose(e){e.dispose&&"function"==typeof e.dispose&&e.dispose()}}Ar.test={disabled:!1};class Tr{constructor(e,t){this._observers=e,this._observer=t}remove(){this._observers.delete(this._observer)}}let Lr=!1;function kr(e){return void 0!==e.flags}class Pr{constructor(e,t,r){this.host=e,this.propertyName=t,this.metadata=r,this.flags=1,this._observers=null,this._accessed=null,this._handles=[],this.flags=1|(r.nonNullable?8:0)|(r.hasOwnProperty("value")?16:0)|(void 0===r.get?32:0)|(void 0===r.dependsOn?64:0)}destroy(){this._accessed&&(this._accessed.clear(),this._accessed=null),this._observers&&(this._observers.clear(),this._observers=null),this._clearObservationHandles()}onObservableAccessed(e){e!==this&&(null===this._accessed&&(this._accessed=new Set),this._accessed.add(e))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=32;const e=this._accessed;if(null===e)return;const t=this._handles;for(const r of e)t.push(r.observe(this));e.clear()}observe(e){return null===this._observers&&(this._observers=new Set),new Tr(this._observers.add(e),e)}notify(){2&~this.flags&&(this.flags|=1),this._notifyObservers()}invalidate(){this.notify()}commit(){this.flags&=-2,this._notifyObservers()}_notifyObservers(){if(null===this._observers)return;const e=this._observers.size,t=new Array(e);let r=e-1;for(const e of this._observers)t[r--]=e;const n=!Lr;for(;t.length;){const e=t.pop();if(kr(e)){if(2&~e.flags&&(e.flags|=1),null===e._observers)continue;for(const r of e._observers)t.push(r)}else n&&e.notify()}}_clearObservationHandles(){for(const e of this._handles)e.remove();this._handles.length=0}}class Cr{constructor(){this._values=new Map}clone(e){const t=new Cr;return this._values.forEach(((r,i)=>{e&&e.has(i)||t.set(i,Object(n.o)(r))})),t}get(e){return this._values.get(e)}originOf(){return 6}keys(){return[...this._values.keys()]}set(e,t){this._values.set(e,t)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}forEach(e){this._values.forEach(e)}}let Ir,Rr=[];const jr=k.getLogger("esri.core.Accessor");function Er(e){void 0!==Ir&&Ir.onObservableAccessed(e)}let Nr=!1,Gr=!1;function Ur(e,t,r){if(Nr)return qr(e,t,r);zr(e);const n=t.call(r);return Dr(),n}function qr(e,t,r){const n=Nr;Nr=!0,zr(e);let i=null;try{i=t.call(r)}catch(e){Gr&&jr.error(e)}return Dr(),Nr=n,i}function zr(e){Ir=e,Rr.push(e)}function Dr(){const e=Rr.pop();Ir=Rr.length>0?Rr[Rr.length-1]:void 0,void 0!==e&&e.onTrackingEnd()}function Wr(e,t){if(32&t.flags)return;const r=Gr;Gr=!1,64&t.flags?qr(t,t.metadata.get,e):Fr(e,t),Gr=r}const $r=[];function Fr(e,t){128&t.flags||(t.flags|=128,qr(t,(()=>{const r=t.metadata.dependsOn||$r;for(const t of r)if("string"==typeof t&&-1===t.indexOf("."))Jr(e,t,!1);else{const r=ae(t);for(let t=0,n=e;t<r.length&&null!=n&&"object"==typeof n;++t)n=Jr(n,r[t],t!==r.length-1)}})),t.flags&=-129)}function Jr(e,t,r){const n="?"===t[t.length-1]?t.slice(0,-1):t;if(null!=e.getItemAt||Array.isArray(e)){const t=parseInt(n,10);if(!isNaN(t))return Array.isArray(e)?e[t]:e.getItemAt(t)}const i=ie(e),s=null==i?void 0:i.properties.get(n);return s&&(Er(s),Wr(e,s)),r?e[n]:void 0}function Br(e,t,r){return void 0!==e}function Vr(e,t,r,n){return!(void 0===e||null==r&&8&e.flags&&(n.lifecycle,1))}function Hr(e){return e&&"function"==typeof e.destroy}k.getLogger("esri.core.accessorSupport.Properties");class Zr{constructor(e){this.host=e,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=0,this.store=new Cr,this._origin=6;const t=this.host.constructor.__accessorMetadata__,r=t.properties;for(const t in r){const n=new Pr(e,t,r[t]);this.properties.set(t,n)}this.metadatas=r,this._autoDestroy=t.autoDestroy}initialize(){this.lifecycle=1}constructed(){this.lifecycle=2}destroy(){if(this.destroyed=!0,this._autoDestroy)for(const[e,t]of this.properties){const r=this.internalGet(e);r&&Hr(r)&&(r.destroy(),8&~t.flags&&this._internalSet(t,null)),t.destroy()}else for(const[e,t]of this.properties)t.destroy()}get initialized(){return 0!==this.lifecycle}get(e){return this.properties.get(e).metadata.get?this.getterComputed(e):this.getterStatic(e)}getterStatic(e){const t=this.properties.get(e);if(void 0!==t)return Er(t),this.store.has(e)?this.store.get(e):t.metadata.value}getterComputed(e){const t=this.properties.get(e);Er(t);const r=this.store,n=t.flags,i=this.store.get(e);if(4&n)return i;if(r.has(e)&&(1&~n||Lr))return i;let s;t.flags|=4;const o=t.metadata.get;64&n?s=Ur(t,o,this.host):(Fr(this.host,t),s=o.call(this.host)),r.set(e,s,1);const a=this.store.get(e);return a===i?t.flags&=-2:t.commit(),t.flags&=-5,a}originOf(e){const t=this.store.originOf(e);if(void 0===t){const t=this.properties.get(e);if(void 0!==t&&16&t.flags)return"defaults"}return Or(t)}has(e){return!!this.properties.has(e)&&this.store.has(e)}keys(){return[...this.properties.keys()]}internalGet(e){const t=this.properties.get(e);if(Br(t))return this.store.has(e)?this.store.get(e):t.metadata.value}internalSet(e,t){const r=this.properties.get(e);Br(r)&&this._internalSet(r,t)}getDependsInfo(e,t,r){const n=this.properties.get(t);if(!Br(n))return"";const i=new Set,s=Ur({onObservableAccessed:e=>i.add(e),onTrackingEnd:()=>{}},(()=>{var t;return null==(t=n.metadata.get)?void 0:t.call(e)}));let o=`${r}${e.declaredClass.split(".").pop()}.${t}: ${s}\n`;if(0===i.size)return o;r+="  ";for(const e of i){if(!(e instanceof Pr))continue;const t=e.host,n=e.propertyName,i=ie(t);o+=i?i.getDependsInfo(t,n,r):`${r}${n}: undefined\n`}return o}setAtOrigin(e,t,r){const n=this.properties.get(e);if(Br(n))return this._setAtOrigin(n,t,r)}isOverridden(e){const t=this.properties.get(e);return void 0!==t&&!!(2&t.flags)}clearOverride(e){const t=this.properties.get(e);void 0!==t&&2&t.flags&&(t.flags&=-3,t.invalidate())}override(e,t){const r=this.properties.get(e);if(!Vr(r,0,t,this))return;const n=r.metadata.cast;if(n){const e=this._cast(n,t),{valid:r,value:i}=e;if(Qr.release(e),!r)return;t=i}r.flags|=2,this._internalSet(r,t)}set(e,t){const r=this.properties.get(e);if(!Vr(r,0,t,this))return;const n=r.metadata.cast;if(n){const e=this._cast(n,t),{valid:r,value:i}=e;if(Qr.release(e),!r)return;t=i}const i=r.metadata.set;i?i.call(this.host,t):this._internalSet(r,t)}setDefaultOrigin(e){this._origin=Sr(e)}getDefaultOrigin(){return Or(this._origin)}propertyInvalidated(e){const t=this.properties.get(e);void 0!==t&&t.invalidate()}propertyCommitted(e){const t=this.properties.get(e);void 0!==t&&t.commit()}_internalSet(e,t){const r=0!==this.lifecycle?this._origin:0;this._setAtOrigin(e,t,r)}_setAtOrigin(e,t,r){const i=this.store,s=e.propertyName;i.has(s,r)&&Object(n.g)(t,i.get(s))&&2&~e.flags&&r===i.originOf(s)||(Lr=!0,e.invalidate(),Lr=!1,i.set(s,t,r),e.commit(),Wr(this.host,e))}_cast(e,t){const r=Qr.acquire();return r.valid=!0,r.value=t,e&&(r.value=e.call(this.host,t,r)),r}}const Qr=new Ar(class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}}),Kr=Array.prototype.splice;function Yr(e){e.length=0}class Xr{constructor(e=50,t=50){this._pool=new Ar(Array,void 0,Yr,t,e)}acquire(){return this._pool.acquire()}copy(e){const t=this.acquire();return e.unshift(0,0),Kr.apply(t,e),e.splice(0,2),t}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return en.acquire()}static copy(e){return en.copy(e)}static release(e){return en.release(e)}static prune(){en.prune()}}const en=new Xr(100);const tn=n.e.queueMicrotask?n.e.queueMicrotask:e=>{n.e.Promise.resolve().then(e)},rn=[];let nn=[];function sn(e){rn.push(e),1===rn.length&&tn((()=>{for(const e of nn)e();const e=rn.slice();rn.length=0;for(const t of e)t()}))}!function(e){e.before=function(e){return nn.push(e),{remove(){nn=nn.filter((t=>t!==e))}}}}(sn||(sn={}));var on=sn;class an{constructor(e,t=29){this.name=e,this._counter=0,this._items=new Array(t)}record(e){this._items[++this._counter%this._items.length]=e}get median(){return this._items.slice().sort()[Math.floor(this._items.length/2)]}get average(){return this._items.reduce(((e,t)=>e+t),0)/this._items.length}get last(){return this._items[this._counter%this._items.length]}}class ln{constructor(e=1){this._seed=e}set seed(e){this._seed=null==e?Math.random()*ln._m:e}getInt(){return this._seed=(ln._a*this._seed+ln._c)%ln._m,this._seed}getFloat(){return this.getInt()/(ln._m-1)}getIntRange(e,t){return Math.round(this.getFloatRange(e,t))}getFloatRange(e,t){const r=t-e;return e+this.getInt()/ln._m*r}}function cn(e,t,r){if(o(e)&&o(t))return!0;if(o(e)||o(t)||e.length!==t.length)return!1;if(r){for(let n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function un(e,t,r){return e&&t?r?e.filter((function(e){return t.findIndex((function(t){return r(e,t)}))>-1})):e.filter((function(e){return t.indexOf(e)>-1})):[]}function hn(e){return e&&"number"==typeof e.length}ln._m=2147483647,ln._a=48271,ln._c=0;const pn=!!Array.prototype.fill;function dn(e,t){if(pn)return new Array(e).fill(t);const r=new Array(e);for(let n=0;n<e;n++)r[n]=t;return r}function fn(e,t){void 0===t&&(t=e,e=0);const r=new Array(t-e);for(let n=e;n<t;n++)r[n-e]=n;return r}function yn(e){return e.reduce(((e,t)=>e.concat(t||[])),[])}class mn{constructor(){this.last=0}}const gn=new mn;function vn(e,t,r,n){n=n||gn;const i=Math.max(0,n.last-10);for(let s=i;s<r;++s)if(e[s]===t)return n.last=s,s;const s=Math.min(i,r);for(let r=0;r<s;++r)if(e[r]===t)return n.last=r,r;return-1}function bn(e,t,r,n){const i=null==r?e.length:r,s=vn(e,t,i,n);if(-1!==s)return e[s]=e[i-1],null==r&&e.pop(),t}const _n=new Set;function wn(e,t){const r=e.indexOf(t);return-1!==r?(e.splice(r,1),t):null}var xn;!function(e){const t=(e,t,r,n)=>{let i=t,s=t;const o=r>>>1,a=e[i-1];for(;s<=o;){s=i<<1,s<r&&n(e[s-1],e[s])<0&&++s;const t=e[s-1];if(n(t,a)<=0)break;e[i-1]=t,i=s}e[i-1]=a},r=(e,t)=>e<t?-1:e>t?1:0;e.sort=function(e,n,i,s){void 0===n&&(n=0),void 0===i&&(i=e.length),void 0===s&&(s=r);for(let r=i>>>1;r>n;r--)t(e,r,i,s);const o=n+1;for(let r=i-1;r>n;r--){const i=e[n];e[n]=e[r],e[r]=i,t(e,o,r,s)}},e.iterableSort=function*(e,n,i,s){void 0===n&&(n=0),void 0===i&&(i=e.length),void 0===s&&(s=r);for(let r=i>>>1;r>n;r--)t(e,r,i,s),yield;const o=n+1;for(let r=i-1;r>n;r--){const i=e[n];e[n]=e[r],e[r]=i,t(e,o,r,s),yield}}}(xn||(xn={}));var Sn=xn;class On{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new mn,e&&(e.initialSize&&(this.data=new Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),void 0!==e.deallocator&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>Mn(this)))}toArray(){return this.data.slice(0,this.length)}getItemAt(e){if(!(e<0||e>=this._length))return this.data[e]}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let t=e;t<this._length;++t)this.data[t]=this._deallocator(this.data[t]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,t=e.length){for(let r=0;r<t;r++)this.data[this._length++]=e[r]}fill(e,t){for(let r=0;r<t;r++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,Mn(this)}pop(){if(0===this.length)return;const e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}remove(e){const t=vn(this.data,e,this.length,this._hint);if(-1!==t)return this.data.splice(t,1),this.length=this.length-1,e}removeUnordered(e){const t=bn(this.data,e,this.length,this._hint);return void 0!==t&&(this.length=this.length-1),this._shrink(),t}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,t=e.length,r){this.length=function(e,t,r=e.length,n=t.length,i,s){if(0===n||0===r)return r;_n.clear();for(let e=0;e<n;++e)_n.add(t[e]);i=i||gn;const o=Math.max(0,i.last-10);for(let t=o;t<r;++t)if(_n.has(e[t])&&(s&&s.push(e[t]),_n.delete(e[t]),e[t]=e[r-1],--r,--t,0===_n.size||0===r))return _n.clear(),r;for(let t=0;t<o;++t)if(_n.has(e[t])&&(s&&s.push(e[t]),_n.delete(e[t]),e[t]=e[r-1],--r,--t,0===_n.size||0===r))return _n.clear(),r;return _n.clear(),r}(this.data,e,this.length,t,this._hint,r),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(e,t){e>=this.length||t>=this.length||e===t||([this.data[e],this.data[t]]=[this.data[t],this.data[e]])}sort(e){Sn.sort(this.data,0,this.length,e)}iterableSort(e){return Sn.iterableSort(this.data,0,this.length,e)}some(e,t){for(let r=0;r<this.length;++r)if(e.call(t,this.data[r],r,this.data))return!0;return!1}filterInPlace(e,t){let r=0;for(let n=0;n<this._length;++n){const i=this.data[n];e.call(t,i,n,this.data)&&(this.data[n]=this.data[r],this.data[r]=i,r++)}if(this._deallocator)for(let e=r;e<this._length;e++)this.data[e]=this._deallocator(this.data[e]);return this._length=r,this._shrink(),this}forAll(e,t){const r=this.length,n=this.data;for(let i=0;i<r;++i)e.call(t,n[i],i,n)}map(e,t){const r=new Array(this.length);for(let n=0;n<this.length;++n)r[n]=e.call(t,this.data[n],n,this.data);return r}reduce(e,t){let r=t;for(let t=0;t<this.length;++t)r=e(r,this.data[t],t,this.data);return r}has(e){const t=this.length,r=this.data;for(let n=0;n<t;++n)if(r[n]===e)return!0;return!1}}function Mn(e){e.data.length>1.5*e.length&&(e.data.length=Math.floor(1.1*e.length))}var An=function(e){return{setTimeout:(t,r)=>{const n=e.setTimeout(t,r);return{remove:()=>e.clearTimeout(n)}}}}(n.e);function Tn(e){return e&&("function"==typeof e.on||"function"==typeof e.addEventListener)}function Ln(e,t,r){if(!Tn(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,r);if(Array.isArray(t)){const n=t.slice();for(const t of n)e.addEventListener(t,r);return{remove(){for(const t of n)e.removeEventListener(t,r)}}}return e.addEventListener(t,r),{remove(){e.removeEventListener(t,r)}}}function kn(e,t,r){if(!Tn(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const n=Ln(e,t,(t=>{n.remove(),r.call(e,t)}));return{remove(){n.remove()}}}const Pn={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function Cn({key:e}){return Pn[e]||e}function In(e){return Promise.all(e)}function Rn(e){return new Promise(((t,r)=>{try{e(t,r)}catch(e){Promise.resolve().then((()=>r(e)))}}))}function jn(e="Aborted"){return new ot("AbortError",e)}function En(){return new AbortController}function Nn(e){if(Un(e))throw jn()}function Gn(e){return s(e)?"aborted"in e?e:e.signal:e}function Un(e){const t=Gn(e);return s(t)&&t.aborted}function qn(e){if(Fn(e))throw e}function zn(e){if(!Fn(e))throw e}function Dn(e,t){const r=Gn(e);if(!o(r)){if(!r.aborted)return kn(r,"abort",(()=>t()));t()}}function Wn(e,t){const r=Gn(e);if(!o(r))return Nn(r),kn(r,"abort",(()=>t(jn())))}function $n(e,t){return o(Gn(t))?e:new Promise(((r,n)=>{let i=Dn(t,(()=>n(jn())));const s=()=>i=f(i);e.then(s,s),e.then(r,n)}))}function Fn(e){return e&&"AbortError"===e.name}function Jn(e){return e.catch((e=>{if(!Fn(e))throw e}))}function Bn(){let e=null;const t=new Promise(((t,r)=>{e={promise:void 0,resolve:t,reject:r}}));return e.promise=t,e}function Vn(e){if(!e)return;if("function"!=typeof e.forEach){const t=Object.keys(e);return Vn(t.map((t=>e[t]))).then((e=>{const r={};return t.forEach(((t,n)=>r[t]=e[n])),r}))}const t=e;return Promise.allSettled(t).then((e=>Array.from(t,((t,r)=>{const n=e[r];return"fulfilled"===n.status?{promise:t,value:n.value}:{promise:t,error:n.reason}}))))}function Hn(e){return Vn(e).then((e=>e.filter((e=>!!e.value)).map((e=>e.value))))}function Zn(e){return Promise.reject(e)}function Qn(e){return Promise.resolve(e)}function Kn(e,t,r){const n=En();return Dn(r,(()=>n.abort())),new Promise(((r,i)=>{let s=setTimeout((()=>{s=0,r(t)}),e);Dn(n,(()=>{s&&(clearTimeout(s),i(jn()))}))}))}function Yn(e){return e&&"function"==typeof e.then}function Xn(e){return e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then?e:Promise.resolve(e)}function ei(e,t=-1){let r,n,i,s,o=null;const a=(...l)=>{if(r){n=l,s&&s.reject(jn()),s=Bn();const e=s.promise;if(o){const e=o;o=null,e.abort()}return e}if(i=s||Bn(),s=null,t>0){const n=En();r=Xn(e(...l,n.signal));const i=r;Kn(t).then((()=>{r===i&&(s?n.abort():o=n)}))}else r=1,r=Xn(e(...l));const c=()=>{const e=n;n=i=r=o=null,null!=e&&a(...e)},u=r,h=i;return u.then(c,c),u.then(h.resolve,h.reject),h.promise};return a}function ti(){let e,t;const r=new Promise(((r,n)=>{e=r,t=n})),n=t=>{e(t)};return n.resolve=t=>e(t),n.reject=e=>t(e),n.timeout=(e,t)=>An.setTimeout((()=>n.reject(t)),e),n.promise=r,n}function ri(e){let t=En();const r=e(t.signal);let n={promise:r,finished:!1,abort:()=>{t&&(t.abort(),t=null)}};const i=()=>{n&&(n.finished=!0,n=null),t=null};return r.then(i,i),n}class ni{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}}class ii{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}}let si=0;const oi={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},ai=["prepare","preRender","render","postRender","update"],li=[],ci=new On;class ui{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const hi={frameTasks:ci,willDispatch:!1,clearFrameTasks:function(e=!1){ci.forAll((e=>{e.removed=!0})),e&&gi()},dispatch:vi,executeFrameTasks:function(e){const t=e-si;si=e;const r=1e3/60,n=Math.max(0,t-r);for(let i=0;i<ai.length;i++){const s=performance.now(),o=ai[i];ci.forAll((s=>{var a;s.paused||s.removed||(0===i&&s.ticks++,s.phases[o]&&(oi.time=e,oi.deltaTime=0===s.ticks?0:t,oi.elapsedFrameTime=performance.now()-e,oi.frameDuration=r-n,null==(a=s.phases[o])||a.call(s,oi)))})),_i[i].record(performance.now()-s)}gi(),wi.record(performance.now()-e)}};function pi(e){const t=new ii(e);return li.push(t),hi.willDispatch||(hi.willDispatch=!0,on(vi)),t}function di(e){const t=new ni(e);return ci.push(t),null==fi&&(si=performance.now(),fi=requestAnimationFrame(yi)),new ui(t)}let fi=null;function yi(){const e=performance.now();fi=null,fi=ci.length>0?requestAnimationFrame(yi):null,hi.executeFrameTasks(e)}const mi=new On;function gi(){ci.forAll((e=>{e.removed&&mi.push(e)})),ci.removeUnorderedMany(mi.data,mi.length),mi.clear()}function vi(){for(;li.length;){const e=li.shift();e.isActive&&e.callback()}hi.willDispatch=!1}function bi(e=1,t){const r=ti(),n=()=>{Un(t)?r.reject(jn()):0===e?r():(--e,on((()=>n())))};return n(),r.promise}const _i=ai.map((e=>new an(e))),wi=new an("total");class xi{constructor(e){this.notify=e,this._accessed=new Set,this._handles=[]}destroy(){this._accessed.clear(),this.clear()}onObservableAccessed(e){this._accessed.add(e)}onTrackingEnd(){for(const e of this._accessed)this._handles.push(e.observe(this));this._accessed.clear()}clear(){for(const e of this._handles)e.remove();this._handles.length=0}}const Si={runImmediately:!1};function Oi(e,t,r=Si){let n=new xi((function(){if(!n||s)return;const r=i;n.clear(),s=!0,i=Ur(n,e),s=!1,t(i,r)})),i=null,s=!1;return s=!0,i=Ur(n,e),s=!1,r.runImmediately&&t(i,i),{remove:function(){n&&(n.destroy(),n=null,i=null)}}}class Mi{constructor(){this.uid=0,this.target=null,this.path=null,this.oldValue=null,this.callback=null,this.getValue=null,this.removed=!1,this.propertyPath=null}acquire(e,t,r,n,i){this.target=e,this.path=t,this.oldValue=r,this.callback=n,this.getValue=i,this.propertyPath=function(e){return e?"string"==typeof e&&-1===e.indexOf(".")?e:ae(e):e}(t),this.uid=++Mi.uid,this.removed=!1}release(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null,this.uid=++Mi.uid,this.removed=!0}}Mi.pool=new class extends Ar{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=(this._set,null)}acquire(...e){const t=super.acquire(...e);return this._set.delete(t),t}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}}(Mi),Mi.uid=0;const Ai=new Xr,Ti=new Set;let Li,ki=Ai.acquire();function Pi(e){Ti.has(e)?ki.splice(ki.indexOf(e),1):Ti.add(e),ki.push(e),Li||(Li=pi(Ri))}function Ci(e){if(e.removed)return;const{callback:t,path:r,oldValue:n,target:i}=e,s=e.getValue();Ii(n,s)&&(e.oldValue=s,t.call(i,s,n,r,i))}function Ii(e,t){return!Object(n.g)(e,t)}function Ri(){let e=10;for(;Li&&e--;){Li=null;const e=ki;ki=Ai.acquire(),Ti.clear();const t=Ai.acquire();for(const r of e){const e=r.uid;Ci(r),e===r.uid&&r.removed&&t.push(r)}for(let e=0;e<ki.length;e++){const r=ki[e];r.removed&&(t.push(r),Ti.delete(r),ki.splice(e,1),e-=1)}for(let e=0;e<t.length;e++)Mi.pool.release(t[e]);Ai.release(e),Ai.release(t),ji.forEach((e=>e()))}}const ji=new Set;function Ei(e,t,r){let n=ce(e,t,r,((e,t,r)=>{let i,s,o=function(e,t){let r=new xi((function(){t(n,i)})),n=null;function i(){return r?(r.clear(),n=Ur(r,e),n):null}return i(),{remove:function(){r&&(r.destroy(),r=null),n=null}}}((()=>de(e,t)),((o,a)=>{e.__accessor__.destroyed||i&&i.uid!==s?n.remove():(i||(i=Mi.pool.acquire(e,t,o,r,a),s=i.uid),Pi(i))}));return{remove:ue((function(){o.remove(),i&&(i.uid!==s||i.removed||(i.removed=!0,Pi(i)),i=null),n=o=null}))}}));return n}function Ni(e,t,r,n=!1){return!e.__accessor__||e.__accessor__.destroyed?{remove(){}}:n?function(e,t,r){const n=ce(e,t,r,((e,t,r)=>{let i=!1;return Oi((()=>de(e,t)),((s,o)=>{e.__accessor__.destroyed?n.remove():i||(i=!0,Ii(o,s)&&r.call(e,s,o,t,e),i=!1)}))}));return n}(e,t,r):Ei(e,t,r)}function Gi(e){if(null==e)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor&&e.constructor.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}class Ui{constructor(...e){if(this.constructor===Ui)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new Zr(this)}),e.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,e))}static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:t,declaredClass:r,constructor:n}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const i=this;class s extends i{constructor(...e){super(...e),this.inherited=null,n&&n.apply(this,e)}}ge(s.prototype);for(const t in e){const r=e[t];s.prototype[t]="function"==typeof r?function(...e){const n=this.inherited;let s;this.inherited=function(...e){if(i.prototype[t])return i.prototype[t].apply(this,e)};try{s=r.apply(this,e)}catch(e){throw this.inherited=n,e}return this.inherited=n,s}:e[t]}for(const e in t){Se(Gi(t[e]))(s.prototype,e)}return it(r)(s)}postscript(e){const t=this.__accessor__,r=t.ctorArgs||e;t.initialize(),r&&(this.set(r),t.ctorArgs=null),t.constructed(),this.initialize()}initialize(){}destroy(){this.destroyed||(function(e){for(let t=0;t<ki.length;t++){const r=ki[t];r.target===e&&(r.removed=!0)}}(this),this.__accessor__.destroy())}get initialized(){return this.__accessor__&&this.__accessor__.initialized||!1}get constructed(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(e){this.get(e)}get(e){return fe(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}isInstanceOf(e){return function(e,t,r={}){if(Object(n.a)("esri-deprecation-warnings")){const{moduleName:n}=r;wr(e,"Function: "+(n?n+"::":"")+t+"()",r)}}(k.getLogger(this.declaredClass),"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"}),this instanceof e}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,t){return we(this,e,t),this}watch(e,t,r){return Ni(this,e,t,r)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_override(e,t){return this.__accessor__.override(e,t)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.propertyInvalidated(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,t){return this.__accessor__.internalSet(e,t),this}}class qi{constructor(){this._emitter=new qi.EventEmitter(this)}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}}!function(e){class t{constructor(e=null){this.target=e,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear()}emit(e,t){const r=this._listenersMap&&this._listenersMap.get(e);if(!r)return!1;const n=this.target||this;return[...r].forEach((e=>{e.call(n,t)})),r.length>0}on(e,t){if(Array.isArray(e)){return re(e.map((e=>this.on(e,t))))}if(e.indexOf(",")>-1)throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const r=this._listenersMap.get(e)||[];return r.push(t),this._listenersMap.set(e,r),{remove:()=>{const r=this._listenersMap&&this._listenersMap.get(e)||[],n=r.indexOf(t);n>=0&&r.splice(n,1)}}}once(e,t){const r=this.on(e,(e=>{r.remove(),t.call(null,e)}));return r}hasEventListener(e){const t=this._listenersMap&&this._listenersMap.get(e);return null!=t&&t.length>0}}e.EventEmitter=t,e.EventedMixin=e=>{let r=class extends e{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};return r=i([it("esri.core.Evented")],r),r};let r=class extends Ui{constructor(){super(...arguments),this._emitter=new qi.EventEmitter(this)}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};r=i([it("esri.core.Evented")],r),e.EventedAccessor=r}(qi||(qi={}));var zi=qi;function Di(e,t,r){let i,s;return void 0===t?(s=e,i=[void 0]):"string"!=typeof t?(s=e,i=[void 0],r=t):(s=t,i=Array.isArray(e)?e:[e]),(e,t)=>{const o=e.constructor.prototype;i.forEach((i=>{const a=Oe(e,i,s);a.write&&"object"!=typeof a.write&&(a.write={}),r&&Object(n.i)("write.target",r,a),Object(n.i)("write.writer",o[t],a)}))}}function Wi(e,t,r){if(!e||!e.read||!1===e.read.enabled||!e.read.source)return!1;const n=e.read.source;if("string"==typeof n){if(n===t)return!0;if(n.indexOf(".")>-1&&0===n.indexOf(t)&&ye(n,r))return!0}else for(const e of n){if(e===t)return!0;if(e.indexOf(".")>-1&&0===e.indexOf(t)&&ye(e,r))return!0}return!1}function $i(e,t,r,n,i){let s=Ke(t[r],i);(function(e){return e&&(!e.read||!1!==e.read.enabled&&!e.read.source)})(s)&&(e[r]=!0);for(const o of Object.getOwnPropertyNames(t))s=Ke(t[o],i),Wi(s,r,n)&&(e[o]=!0)}function Fi(e,t,r,n){const i=Xe(r.metadatas[t],"any",n),s=i&&i.default;if(void 0===s)return;const o="function"==typeof s?s.call(e,t,n):s;void 0!==o&&r.set(t,o)}const Ji={origin:"service"};function Bi(e,t,r=Ji){if(!t||"object"!=typeof t)return;const n=ie(e),i=n.metadatas,s={};for(const e of Object.getOwnPropertyNames(t))$i(s,i,e,t,r);n.setDefaultOrigin(r.origin);for(const o of Object.getOwnPropertyNames(s)){const s=Ke(i[o],r).read,a=s&&s.source;let l;l=a&&"string"==typeof a?de(t,a):t[o],s&&s.reader&&(l=s.reader.call(e,l,t,r)),void 0!==l&&n.set(o,l)}if(!r||!r.ignoreDefaults)for(const t of Object.getOwnPropertyNames(i))s[t]||Fi(e,t,n,r);n.setDefaultOrigin("user")}function Vi(e,t,r,n=Ji){var i;const s={...n,messages:[]};r(s),null==(i=s.messages)||i.forEach((t=>{"warning"!==t.type||e.loaded?n&&n.messages&&n.messages.push(t):e.loadWarnings.push(t)}))}const Hi=k.getLogger("esri.core.accessorSupport.write");function Zi(e,t,r,n,i){var s,o;const a={};return null==(s=t.write)||null==(o=s.writer)||o.call(e,n,a,r,i),a}function Qi(e,t,r,n,i,s){if(!n||!n.write)return!1;const o=e.get(r);if(!i&&n.write.overridePolicy){const t=n.write.overridePolicy.call(e,o,r,s);void 0!==t&&(i=t)}if(i||(i=n.write),!i||!1===i.enabled)return!1;if((null===o&&!i.allowNull||void 0===o)&&i.isRequired){const t=new ot("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return t&&s&&s.messages?s.messages.push(t):t&&!s&&Hi.error(t.name,t.message),!1}return void 0!==o&&(!(null===o&&!i.allowNull)&&(!function(e,t,r,n,i){const s=n.default;if(void 0===s)return!1;if(null!=n.defaultEquals)return n.defaultEquals(i);if("function"==typeof s){if(Array.isArray(i)){return cn(s.call(e,t,r),i)}return!1}return s===i}(e,r,s,n,o)&&(void 0!==n.default||!(!i.ignoreOrigin&&s&&s.origin&&t.store.originOf(r)<Sr(s.origin)))))}function Ki(e,t,r,n){const i=ie(e),s=Ye(i.metadatas[t],n);return!!s&&Qi(e,i,t,s,r,n)}function Yi(e,t,r){if(e&&"function"==typeof e.toJSON&&(!e.toJSON.isDefaultToJSON||!e.write))return se(t,e.toJSON());const n=ie(e),i=n.metadatas;for(const a in i){const l=Ye(i[a],r);if(!Qi(e,n,a,l,void 0,r))continue;const c=e.get(a),u=Zi(e,l,l.write&&"string"==typeof l.write.target?l.write.target:a,c,r);var s,o;Object.keys(u).length>0&&(t=se(t,u),null!=r&&null!=(s=r.resources)&&null!=(o=s.pendingOperations)&&o.length&&Promise.all(r.resources.pendingOperations).then((()=>se(t,u))),r&&r.writtenProperties&&r.writtenProperties.push({target:e,propName:a,oldOrigin:Mr(n.store.originOf(a)),newOrigin:r.origin}))}return t}const Xi=e=>{let t=class extends e{constructor(...e){super(...e)}read(e,t){Bi(this,e,t)}write(e={},t){return Yi(this,e,t)}toJSON(e){return this.write({},e)}static fromJSON(e,t){return es.call(this,e,t)}};return t=i([it("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function es(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}let ts,rs=class extends(Xi(Ui)){};rs=i([it("esri.core.JSONSupport")],rs);const ns={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9367:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(ts=2e3;ts<=2045;ts++)ns[ts]=0;for(ts=2056;ts<=2065;ts++)ns[ts]=0;for(ts=2067;ts<=2135;ts++)ns[ts]=0;for(ts=2137;ts<=2154;ts++)ns[ts]=0;for(ts=2161;ts<=2170;ts++)ns[ts]=0;for(ts=2172;ts<=2193;ts++)ns[ts]=0;for(ts=2195;ts<=2198;ts++)ns[ts]=0;for(ts=2200;ts<=2203;ts++)ns[ts]=0;for(ts=2205;ts<=2217;ts++)ns[ts]=0;for(ts=2222;ts<=2224;ts++)ns[ts]=1;for(ts=2225;ts<=2250;ts++)ns[ts]=2;for(ts=2251;ts<=2253;ts++)ns[ts]=1;for(ts=2257;ts<=2264;ts++)ns[ts]=2;for(ts=2274;ts<=2279;ts++)ns[ts]=2;for(ts=2280;ts<=2282;ts++)ns[ts]=1;for(ts=2283;ts<=2289;ts++)ns[ts]=2;for(ts=2290;ts<=2292;ts++)ns[ts]=0;for(ts=2308;ts<=2313;ts++)ns[ts]=0;for(ts=2315;ts<=2491;ts++)ns[ts]=0;for(ts=2494;ts<=2866;ts++)ns[ts]=0;for(ts=2867;ts<=2869;ts++)ns[ts]=1;for(ts=2870;ts<=2888;ts++)ns[ts]=2;for(ts=2891;ts<=2895;ts++)ns[ts]=2;for(ts=2896;ts<=2898;ts++)ns[ts]=1;for(ts=2902;ts<=2908;ts++)ns[ts]=2;for(ts=2915;ts<=2920;ts++)ns[ts]=2;for(ts=2921;ts<=2923;ts++)ns[ts]=1;for(ts=2924;ts<=2930;ts++)ns[ts]=2;for(ts=2931;ts<=2962;ts++)ns[ts]=0;for(ts=2964;ts<=2968;ts++)ns[ts]=2;for(ts=2969;ts<=2973;ts++)ns[ts]=0;for(ts=2975;ts<=2991;ts++)ns[ts]=0;for(ts=2995;ts<=3051;ts++)ns[ts]=0;for(ts=3054;ts<=3079;ts++)ns[ts]=0;for(ts=3081;ts<=3088;ts++)ns[ts]=0;for(ts=3092;ts<=3101;ts++)ns[ts]=0;for(ts=3106;ts<=3138;ts++)ns[ts]=0;for(ts=3146;ts<=3151;ts++)ns[ts]=0;for(ts=3153;ts<=3166;ts++)ns[ts]=0;for(ts=3168;ts<=3172;ts++)ns[ts]=0;for(ts=3174;ts<=3203;ts++)ns[ts]=0;for(ts=3294;ts<=3358;ts++)ns[ts]=0;for(ts=3367;ts<=3403;ts++)ns[ts]=0;for(ts=3408;ts<=3416;ts++)ns[ts]=0;for(ts=3417;ts<=3438;ts++)ns[ts]=2;for(ts=3441;ts<=3446;ts++)ns[ts]=2;for(ts=3447;ts<=3450;ts++)ns[ts]=0;for(ts=3451;ts<=3459;ts++)ns[ts]=2;for(ts=3460;ts<=3478;ts++)ns[ts]=0;for(ts=3554;ts<=3559;ts++)ns[ts]=0;for(ts=3560;ts<=3570;ts++)ns[ts]=2;for(ts=3571;ts<=3581;ts++)ns[ts]=0;for(ts=3594;ts<=3597;ts++)ns[ts]=0;for(ts=3601;ts<=3604;ts++)ns[ts]=0;for(ts=3637;ts<=3639;ts++)ns[ts]=0;for(ts=3665;ts<=3667;ts++)ns[ts]=0;for(ts=3693;ts<=3695;ts++)ns[ts]=0;for(ts=3701;ts<=3727;ts++)ns[ts]=0;for(ts=3728;ts<=3739;ts++)ns[ts]=2;for(ts=3740;ts<=3751;ts++)ns[ts]=0;for(ts=3753;ts<=3760;ts++)ns[ts]=2;for(ts=3761;ts<=3773;ts++)ns[ts]=0;for(ts=3775;ts<=3777;ts++)ns[ts]=0;for(ts=3779;ts<=3781;ts++)ns[ts]=0;for(ts=3783;ts<=3785;ts++)ns[ts]=0;for(ts=3788;ts<=3791;ts++)ns[ts]=0;for(ts=3797;ts<=3802;ts++)ns[ts]=0;for(ts=3814;ts<=3816;ts++)ns[ts]=0;for(ts=3825;ts<=3829;ts++)ns[ts]=0;for(ts=3832;ts<=3841;ts++)ns[ts]=0;for(ts=3844;ts<=3852;ts++)ns[ts]=0;for(ts=3873;ts<=3885;ts++)ns[ts]=0;for(ts=3890;ts<=3893;ts++)ns[ts]=0;for(ts=3907;ts<=3912;ts++)ns[ts]=0;for(ts=3942;ts<=3950;ts++)ns[ts]=0;for(ts=3968;ts<=3970;ts++)ns[ts]=0;for(ts=3973;ts<=3976;ts++)ns[ts]=0;for(ts=3986;ts<=3989;ts++)ns[ts]=0;for(ts=3994;ts<=3997;ts++)ns[ts]=0;for(ts=4048;ts<=4051;ts++)ns[ts]=0;for(ts=4056;ts<=4063;ts++)ns[ts]=0;for(ts=4093;ts<=4096;ts++)ns[ts]=0;for(ts=4390;ts<=4398;ts++)ns[ts]=0;for(ts=4399;ts<=4413;ts++)ns[ts]=2;for(ts=4418;ts<=4433;ts++)ns[ts]=2;for(ts=4455;ts<=4457;ts++)ns[ts]=2;for(ts=4484;ts<=4489;ts++)ns[ts]=0;for(ts=4491;ts<=4554;ts++)ns[ts]=0;for(ts=4568;ts<=4589;ts++)ns[ts]=0;for(ts=4652;ts<=4656;ts++)ns[ts]=0;for(ts=4766;ts<=4800;ts++)ns[ts]=0;for(ts=5014;ts<=5016;ts++)ns[ts]=0;for(ts=5069;ts<=5072;ts++)ns[ts]=0;for(ts=5105;ts<=5130;ts++)ns[ts]=0;for(ts=5173;ts<=5188;ts++)ns[ts]=0;for(ts=5253;ts<=5259;ts++)ns[ts]=0;for(ts=5269;ts<=5275;ts++)ns[ts]=0;for(ts=5292;ts<=5311;ts++)ns[ts]=0;for(ts=5329;ts<=5331;ts++)ns[ts]=0;for(ts=5343;ts<=5349;ts++)ns[ts]=0;for(ts=5355;ts<=5357;ts++)ns[ts]=0;for(ts=5387;ts<=5389;ts++)ns[ts]=0;for(ts=5459;ts<=5463;ts++)ns[ts]=0;for(ts=5479;ts<=5482;ts++)ns[ts]=0;for(ts=5518;ts<=5520;ts++)ns[ts]=0;for(ts=5530;ts<=5539;ts++)ns[ts]=0;for(ts=5550;ts<=5552;ts++)ns[ts]=0;for(ts=5562;ts<=5583;ts++)ns[ts]=0;for(ts=5623;ts<=5625;ts++)ns[ts]=2;for(ts=5631;ts<=5639;ts++)ns[ts]=0;for(ts=5649;ts<=5653;ts++)ns[ts]=0;for(ts=5663;ts<=5680;ts++)ns[ts]=0;for(ts=5682;ts<=5685;ts++)ns[ts]=0;for(ts=5875;ts<=5877;ts++)ns[ts]=0;for(ts=5896;ts<=5899;ts++)ns[ts]=0;for(ts=5921;ts<=5940;ts++)ns[ts]=0;for(ts=6050;ts<=6125;ts++)ns[ts]=0;for(ts=6244;ts<=6275;ts++)ns[ts]=0;for(ts=6328;ts<=6348;ts++)ns[ts]=0;for(ts=6350;ts<=6356;ts++)ns[ts]=0;for(ts=6366;ts<=6372;ts++)ns[ts]=0;for(ts=6381;ts<=6387;ts++)ns[ts]=0;for(ts=6393;ts<=6404;ts++)ns[ts]=0;for(ts=6480;ts<=6483;ts++)ns[ts]=0;for(ts=6511;ts<=6514;ts++)ns[ts]=0;for(ts=6579;ts<=6581;ts++)ns[ts]=0;for(ts=6619;ts<=6624;ts++)ns[ts]=0;for(ts=6625;ts<=6627;ts++)ns[ts]=2;for(ts=6628;ts<=6632;ts++)ns[ts]=0;for(ts=6634;ts<=6637;ts++)ns[ts]=0;for(ts=6669;ts<=6692;ts++)ns[ts]=0;for(ts=6707;ts<=6709;ts++)ns[ts]=0;for(ts=6720;ts<=6723;ts++)ns[ts]=0;for(ts=6732;ts<=6738;ts++)ns[ts]=0;for(ts=6931;ts<=6933;ts++)ns[ts]=0;for(ts=6956;ts<=6959;ts++)ns[ts]=0;for(ts=7005;ts<=7007;ts++)ns[ts]=0;for(ts=7057;ts<=7070;ts++)ns[ts]=2;for(ts=7074;ts<=7082;ts++)ns[ts]=0;for(ts=7109;ts<=7118;ts++)ns[ts]=0;for(ts=7119;ts<=7127;ts++)ns[ts]=1;for(ts=7374;ts<=7376;ts++)ns[ts]=0;for(ts=7528;ts<=7586;ts++)ns[ts]=0;for(ts=7587;ts<=7645;ts++)ns[ts]=2;for(ts=7692;ts<=7696;ts++)ns[ts]=0;for(ts=7755;ts<=7787;ts++)ns[ts]=0;for(ts=7791;ts<=7795;ts++)ns[ts]=0;for(ts=7799;ts<=7801;ts++)ns[ts]=0;for(ts=7803;ts<=7805;ts++)ns[ts]=0;for(ts=7825;ts<=7831;ts++)ns[ts]=0;for(ts=7845;ts<=7859;ts++)ns[ts]=0;for(ts=8013;ts<=8032;ts++)ns[ts]=0;for(ts=8065;ts<=8068;ts++)ns[ts]=1;for(ts=8518;ts<=8529;ts++)ns[ts]=2;for(ts=8533;ts<=8536;ts++)ns[ts]=2;for(ts=8538;ts<=8540;ts++)ns[ts]=2;for(ts=8677;ts<=8679;ts++)ns[ts]=0;for(ts=8836;ts<=8840;ts++)ns[ts]=0;for(ts=8857;ts<=8859;ts++)ns[ts]=0;for(ts=8908;ts<=8910;ts++)ns[ts]=0;for(ts=9154;ts<=9159;ts++)ns[ts]=0;for(ts=9205;ts<=9218;ts++)ns[ts]=0;for(ts=9271;ts<=9273;ts++)ns[ts]=0;for(ts=9295;ts<=9297;ts++)ns[ts]=0;for(ts=20002;ts<=20032;ts++)ns[ts]=0;for(ts=20062;ts<=20092;ts++)ns[ts]=0;for(ts=20135;ts<=20138;ts++)ns[ts]=0;for(ts=20248;ts<=20258;ts++)ns[ts]=0;for(ts=20348;ts<=20358;ts++)ns[ts]=0;for(ts=20436;ts<=20440;ts++)ns[ts]=0;for(ts=20822;ts<=20824;ts++)ns[ts]=0;for(ts=20934;ts<=20936;ts++)ns[ts]=0;for(ts=21035;ts<=21037;ts++)ns[ts]=0;for(ts=21095;ts<=21097;ts++)ns[ts]=0;for(ts=21148;ts<=21150;ts++)ns[ts]=0;for(ts=21413;ts<=21423;ts++)ns[ts]=0;for(ts=21453;ts<=21463;ts++)ns[ts]=0;for(ts=21473;ts<=21483;ts++)ns[ts]=0;for(ts=21780;ts<=21782;ts++)ns[ts]=0;for(ts=21891;ts<=21894;ts++)ns[ts]=0;for(ts=21896;ts<=21899;ts++)ns[ts]=0;for(ts=22171;ts<=22177;ts++)ns[ts]=0;for(ts=22181;ts<=22187;ts++)ns[ts]=0;for(ts=22191;ts<=22197;ts++)ns[ts]=0;for(ts=22234;ts<=22236;ts++)ns[ts]=0;for(ts=22521;ts<=22525;ts++)ns[ts]=0;for(ts=22991;ts<=22994;ts++)ns[ts]=0;for(ts=23028;ts<=23038;ts++)ns[ts]=0;for(ts=23830;ts<=23853;ts++)ns[ts]=0;for(ts=23866;ts<=23872;ts++)ns[ts]=0;for(ts=23877;ts<=23884;ts++)ns[ts]=0;for(ts=23886;ts<=23894;ts++)ns[ts]=0;for(ts=23946;ts<=23948;ts++)ns[ts]=0;for(ts=24311;ts<=24313;ts++)ns[ts]=0;for(ts=24342;ts<=24347;ts++)ns[ts]=0;for(ts=24370;ts<=24374;ts++)ns[ts]=10;for(ts=24375;ts<=24381;ts++)ns[ts]=0;for(ts=24718;ts<=24721;ts++)ns[ts]=0;for(ts=24817;ts<=24821;ts++)ns[ts]=0;for(ts=24877;ts<=24882;ts++)ns[ts]=0;for(ts=24891;ts<=24893;ts++)ns[ts]=0;for(ts=25391;ts<=25395;ts++)ns[ts]=0;for(ts=25828;ts<=25838;ts++)ns[ts]=0;for(ts=26191;ts<=26195;ts++)ns[ts]=0;for(ts=26391;ts<=26393;ts++)ns[ts]=0;for(ts=26701;ts<=26722;ts++)ns[ts]=0;for(ts=26729;ts<=26799;ts++)ns[ts]=2;for(ts=26801;ts<=26803;ts++)ns[ts]=2;for(ts=26811;ts<=26813;ts++)ns[ts]=2;for(ts=26847;ts<=26870;ts++)ns[ts]=2;for(ts=26891;ts<=26899;ts++)ns[ts]=0;for(ts=26901;ts<=26923;ts++)ns[ts]=0;for(ts=26929;ts<=26946;ts++)ns[ts]=0;for(ts=26948;ts<=26998;ts++)ns[ts]=0;for(ts=27037;ts<=27040;ts++)ns[ts]=0;for(ts=27205;ts<=27232;ts++)ns[ts]=0;for(ts=27258;ts<=27260;ts++)ns[ts]=0;for(ts=27391;ts<=27398;ts++)ns[ts]=0;for(ts=27561;ts<=27564;ts++)ns[ts]=0;for(ts=27571;ts<=27574;ts++)ns[ts]=0;for(ts=27581;ts<=27584;ts++)ns[ts]=0;for(ts=27591;ts<=27594;ts++)ns[ts]=0;for(ts=28191;ts<=28193;ts++)ns[ts]=0;for(ts=28348;ts<=28358;ts++)ns[ts]=0;for(ts=28402;ts<=28432;ts++)ns[ts]=0;for(ts=28462;ts<=28492;ts++)ns[ts]=0;for(ts=29118;ts<=29122;ts++)ns[ts]=0;for(ts=29168;ts<=29172;ts++)ns[ts]=0;for(ts=29177;ts<=29185;ts++)ns[ts]=0;for(ts=29187;ts<=29195;ts++)ns[ts]=0;for(ts=29900;ts<=29903;ts++)ns[ts]=0;for(ts=30161;ts<=30179;ts++)ns[ts]=0;for(ts=30491;ts<=30494;ts++)ns[ts]=0;for(ts=30729;ts<=30732;ts++)ns[ts]=0;for(ts=31251;ts<=31259;ts++)ns[ts]=0;for(ts=31265;ts<=31268;ts++)ns[ts]=0;for(ts=31275;ts<=31279;ts++)ns[ts]=0;for(ts=31281;ts<=31297;ts++)ns[ts]=0;for(ts=31461;ts<=31469;ts++)ns[ts]=0;for(ts=31491;ts<=31495;ts++)ns[ts]=0;for(ts=31917;ts<=31922;ts++)ns[ts]=0;for(ts=31965;ts<=32e3;ts++)ns[ts]=0;for(ts=32001;ts<=32003;ts++)ns[ts]=2;for(ts=32005;ts<=32031;ts++)ns[ts]=2;for(ts=32033;ts<=32060;ts++)ns[ts]=2;for(ts=32064;ts<=32067;ts++)ns[ts]=2;for(ts=32074;ts<=32077;ts++)ns[ts]=2;for(ts=32081;ts<=32086;ts++)ns[ts]=0;for(ts=32107;ts<=32130;ts++)ns[ts]=0;for(ts=32133;ts<=32158;ts++)ns[ts]=0;for(ts=32164;ts<=32167;ts++)ns[ts]=2;for(ts=32180;ts<=32199;ts++)ns[ts]=0;for(ts=32201;ts<=32260;ts++)ns[ts]=0;for(ts=32301;ts<=32360;ts++)ns[ts]=0;for(ts=32601;ts<=32662;ts++)ns[ts]=0;for(ts=32664;ts<=32667;ts++)ns[ts]=2;for(ts=32701;ts<=32761;ts++)ns[ts]=0;for(ts=53001;ts<=53004;ts++)ns[ts]=0;for(ts=53008;ts<=53019;ts++)ns[ts]=0;for(ts=53021;ts<=53032;ts++)ns[ts]=0;for(ts=53034;ts<=53037;ts++)ns[ts]=0;for(ts=53042;ts<=53046;ts++)ns[ts]=0;for(ts=53074;ts<=53080;ts++)ns[ts]=0;for(ts=54001;ts<=54004;ts++)ns[ts]=0;for(ts=54008;ts<=54019;ts++)ns[ts]=0;for(ts=54021;ts<=54032;ts++)ns[ts]=0;for(ts=54034;ts<=54037;ts++)ns[ts]=0;for(ts=54042;ts<=54046;ts++)ns[ts]=0;for(ts=54048;ts<=54053;ts++)ns[ts]=0;for(ts=54074;ts<=54080;ts++)ns[ts]=0;for(ts=54098;ts<=54101;ts++)ns[ts]=0;for(ts=102001;ts<=102040;ts++)ns[ts]=0;for(ts=102042;ts<=102063;ts++)ns[ts]=0;for(ts=102065;ts<=102067;ts++)ns[ts]=0;for(ts=102070;ts<=102117;ts++)ns[ts]=0;for(ts=102122;ts<=102216;ts++)ns[ts]=0;for(ts=102221;ts<=102377;ts++)ns[ts]=0;for(ts=102382;ts<=102388;ts++)ns[ts]=0;for(ts=102389;ts<=102398;ts++)ns[ts]=2;for(ts=102399;ts<=102444;ts++)ns[ts]=0;for(ts=102445;ts<=102447;ts++)ns[ts]=2;for(ts=102448;ts<=102458;ts++)ns[ts]=0;for(ts=102459;ts<=102468;ts++)ns[ts]=2;for(ts=102469;ts<=102499;ts++)ns[ts]=0;for(ts=102500;ts<=102519;ts++)ns[ts]=1;for(ts=102520;ts<=102524;ts++)ns[ts]=0;for(ts=102525;ts<=102529;ts++)ns[ts]=2;for(ts=102530;ts<=102588;ts++)ns[ts]=0;for(ts=102590;ts<=102598;ts++)ns[ts]=0;for(ts=102601;ts<=102603;ts++)ns[ts]=0;for(ts=102605;ts<=102628;ts++)ns[ts]=0;for(ts=102629;ts<=102646;ts++)ns[ts]=2;for(ts=102648;ts<=102700;ts++)ns[ts]=2;for(ts=102701;ts<=102703;ts++)ns[ts]=0;for(ts=102707;ts<=102730;ts++)ns[ts]=2;for(ts=102733;ts<=102758;ts++)ns[ts]=2;for(ts=102767;ts<=102900;ts++)ns[ts]=0;for(ts=102965;ts<=102969;ts++)ns[ts]=0;for(ts=102971;ts<=102973;ts++)ns[ts]=0;for(ts=102975;ts<=102989;ts++)ns[ts]=0;for(ts=102990;ts<=102992;ts++)ns[ts]=1;for(ts=102997;ts<=103002;ts++)ns[ts]=0;for(ts=103003;ts<=103008;ts++)ns[ts]=2;for(ts=103009;ts<=103011;ts++)ns[ts]=0;for(ts=103012;ts<=103014;ts++)ns[ts]=2;for(ts=103019;ts<=103021;ts++)ns[ts]=0;for(ts=103022;ts<=103024;ts++)ns[ts]=2;for(ts=103029;ts<=103031;ts++)ns[ts]=0;for(ts=103032;ts<=103034;ts++)ns[ts]=2;for(ts=103065;ts<=103068;ts++)ns[ts]=0;for(ts=103074;ts<=103076;ts++)ns[ts]=0;for(ts=103077;ts<=103079;ts++)ns[ts]=1;for(ts=103080;ts<=103082;ts++)ns[ts]=0;for(ts=103083;ts<=103085;ts++)ns[ts]=2;for(ts=103090;ts<=103093;ts++)ns[ts]=0;for(ts=103097;ts<=103099;ts++)ns[ts]=0;for(ts=103100;ts<=103102;ts++)ns[ts]=2;for(ts=103107;ts<=103109;ts++)ns[ts]=0;for(ts=103110;ts<=103112;ts++)ns[ts]=2;for(ts=103113;ts<=103116;ts++)ns[ts]=0;for(ts=103117;ts<=103120;ts++)ns[ts]=2;for(ts=103153;ts<=103157;ts++)ns[ts]=0;for(ts=103158;ts<=103162;ts++)ns[ts]=2;for(ts=103163;ts<=103165;ts++)ns[ts]=0;for(ts=103166;ts<=103168;ts++)ns[ts]=1;for(ts=103169;ts<=103171;ts++)ns[ts]=2;for(ts=103186;ts<=103188;ts++)ns[ts]=0;for(ts=103189;ts<=103191;ts++)ns[ts]=2;for(ts=103192;ts<=103195;ts++)ns[ts]=0;for(ts=103196;ts<=103199;ts++)ns[ts]=2;for(ts=103200;ts<=103224;ts++)ns[ts]=0;for(ts=103225;ts<=103227;ts++)ns[ts]=1;for(ts=103232;ts<=103237;ts++)ns[ts]=0;for(ts=103238;ts<=103243;ts++)ns[ts]=2;for(ts=103244;ts<=103246;ts++)ns[ts]=0;for(ts=103247;ts<=103249;ts++)ns[ts]=2;for(ts=103254;ts<=103256;ts++)ns[ts]=0;for(ts=103257;ts<=103259;ts++)ns[ts]=2;for(ts=103264;ts<=103266;ts++)ns[ts]=0;for(ts=103267;ts<=103269;ts++)ns[ts]=2;for(ts=103300;ts<=103375;ts++)ns[ts]=0;for(ts=103381;ts<=103383;ts++)ns[ts]=0;for(ts=103384;ts<=103386;ts++)ns[ts]=1;for(ts=103387;ts<=103389;ts++)ns[ts]=0;for(ts=103390;ts<=103392;ts++)ns[ts]=2;for(ts=103397;ts<=103399;ts++)ns[ts]=0;for(ts=103400;ts<=103471;ts++)ns[ts]=2;for(ts=103476;ts<=103478;ts++)ns[ts]=0;for(ts=103479;ts<=103481;ts++)ns[ts]=2;for(ts=103486;ts<=103488;ts++)ns[ts]=0;for(ts=103489;ts<=103491;ts++)ns[ts]=2;for(ts=103492;ts<=103495;ts++)ns[ts]=0;for(ts=103496;ts<=103499;ts++)ns[ts]=2;for(ts=103528;ts<=103543;ts++)ns[ts]=0;for(ts=103544;ts<=103548;ts++)ns[ts]=2;for(ts=103549;ts<=103551;ts++)ns[ts]=0;for(ts=103552;ts<=103554;ts++)ns[ts]=1;for(ts=103555;ts<=103557;ts++)ns[ts]=2;for(ts=103558;ts<=103560;ts++)ns[ts]=0;for(ts=103571;ts<=103573;ts++)ns[ts]=0;for(ts=103574;ts<=103576;ts++)ns[ts]=2;for(ts=103577;ts<=103580;ts++)ns[ts]=0;for(ts=103581;ts<=103583;ts++)ns[ts]=2;for(ts=103595;ts<=103694;ts++)ns[ts]=0;for(ts=103696;ts<=103699;ts++)ns[ts]=0;for(ts=103700;ts<=103793;ts++)ns[ts]=2;for(ts=103794;ts<=103872;ts++)ns[ts]=0;for(ts=103900;ts<=103971;ts++)ns[ts]=2;const is={102113:!0,102100:!0,3857:!0,3785:!0},ss={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},os='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',as=[-20037508.342788905,20037508.342788905],ls=[-20037508.342787,20037508.342787],cs={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:as,origin:ls,dx:1e-5},102100:{wkTemplate:os,valid:as,origin:ls,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:as,origin:ls,dx:1e-5},3857:{wkTemplate:os,valid:as,origin:ls,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function us(e,t){return!o(e)&&!o(t)&&(e===t||(null!=e.wkid||null!=t.wkid?e.wkid===t.wkid||ys(e)&&ys(t)||null!=t.latestWkid&&e.wkid===t.latestWkid||null!=e.latestWkid&&t.wkid===e.latestWkid:!(!e.wkt||!t.wkt)&&e.wkt.toUpperCase()===t.wkt.toUpperCase()))}function hs(e){return _s(e)&&e.wkid?cs[e.wkid]:null}function ps(e){return!!_s(e)&&(e.wkid?null==ns[e.wkid]:!!e.wkt&&!!/^\s*GEOGCS/i.test(e.wkt))}function ds(e){return!(gs(e)||bs(e))}function fs(e){return _s(e)&&4326===e.wkid}function ys(e){return _s(e)&&null!=e.wkid&&!0===is[e.wkid]}function ms(e){return 104971===e||104905===e}function gs(e){return _s(e)&&null!=e.wkid&&ms(e.wkid)}function vs(e){return 104903===e}function bs(e){return _s(e)&&null!=e.wkid&&vs(e.wkid)}function _s(e){return s(e)&&(null!=e.wkid&&e.wkid>=2e3||null!=e.wkt)}const ws={wkid:4326,wkt:O(cs[4326].wkTemplate,{Central_Meridian:"0.0"})};var xs;let Ss=xs=class extends rs{constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}static fromJSON(e){if(!e)return null;if(e.wkid){if(102100===e.wkid)return xs.WebMercator;if(4326===e.wkid)return xs.WGS84}const t=new xs;return t.read(e),t}normalizeCtorArgs(e){return e&&"object"==typeof e?e:{["string"==typeof e?"wkt":"wkid"]:e}}get isWGS84(){return fs(this)}get isWebMercator(){return ys(this)}get isGeographic(){return ps(this)}get isWrappable(){return function(e){return _s(e)&&null!=e.wkid&&!0===ss[e.wkid]}(this)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===xs.WGS84)return xs.WGS84;if(this===xs.WebMercator)return xs.WebMercator;const e=new xs;return null!=this.wkid?(e.wkid=this.wkid,null!=this.latestWkid&&(e.latestWkid=this.latestWkid),null!=this.vcsWkid&&(e.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(e.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(e.wkt=this.wkt),this.imageCoordinateSystem&&(e.imageCoordinateSystem=Object(n.o)(this.imageCoordinateSystem)),e}equals(e){if(null==e)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==e.imageCoordinateSystem)return!1;const{id:t,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:n}=e.imageCoordinateSystem,i=this.imageCoordinateSystem;return null==t||n?JSON.stringify(i)===JSON.stringify(e.imageCoordinateSystem):r?i.id===t&&i.referenceServiceName===r:i.id===t}return us(this,e)}toJSON(e){return this.write(void 0,e)}};Ss.GCS_NAD_1927=null,Ss.WGS84=null,Ss.WebMercator=null,i([Se({readOnly:!0})],Ss.prototype,"isWGS84",null),i([Se({readOnly:!0})],Ss.prototype,"isWebMercator",null),i([Se({readOnly:!0})],Ss.prototype,"isGeographic",null),i([Se({readOnly:!0})],Ss.prototype,"isWrappable",null),i([Se({type:K,json:{write:!0}})],Ss.prototype,"latestWkid",void 0),i([Se({type:K,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkt}}}}}}})],Ss.prototype,"wkid",void 0),i([Se({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkid}}}}}}})],Ss.prototype,"wkt",void 0),i([Di("wkt"),Di("web-scene","wkt")],Ss.prototype,"writeWkt",null),i([Se({type:K,json:{write:!0}})],Ss.prototype,"vcsWkid",void 0),i([Se({type:K,json:{write:!0}})],Ss.prototype,"latestVcsWkid",void 0),i([Se()],Ss.prototype,"imageCoordinateSystem",void 0),Ss=xs=i([it("esri.geometry.SpatialReference")],Ss),Ss.prototype.toJSON.isDefaultToJSON=!0,Ss.GCS_NAD_1927=new Ss({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),Ss.WGS84=new Ss(ws),Ss.WebMercator=new Ss({wkid:102100,latestWkid:3857}),Object.freeze&&(Object.freeze(Ss.GCS_NAD_1927),Object.freeze(Ss.WGS84),Object.freeze(Ss.WebMercator));var Os,Ms=Ss;class As{constructor(){this._observers=new Set}observe(e){return new Tr(this._observers.add(e),e)}notify(){const e=this._observers,t=this._observers.size,r=new Array(t);let n=0;for(const t of e)r[n++]=t;for(let e=0;e<t;e++)r[e].notify()}}const Ts=new Ar(class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},void 0,(e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1})),Ls=()=>{};function ks(e){return e?e instanceof Us?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function Ps(e){if(e&&e.length)return e[0]}function Cs(e,t,r,n){const i=Math.min(e.length-r,t.length-n);let s=0;for(;s<i&&e[r+s]===t[n+s];)s++;return s}function Is(e,t,r,n){t&&t.forEach(((t,i,s)=>{e.push(t),Is(e,r.call(n,t,i,s),r,n)}))}const Rs=new Set,js=new Set,Es=new Set,Ns=new Map;let Gs=0,Us=Os=class extends zi.EventedAccessor{constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new As,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:Gs++})}static isCollection(e){return null!=e&&e instanceof Os}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof Os?{items:e}:e:{}}*[Symbol.iterator](){yield*this.items}get items(){return Er(this._observable),this._items}set items(e){this._emitBeforeChanges(1)||(this._splice(0,this.length,...ks(e)),this._emitAfterChanges(1))}hasEventListener(e){return"change"===e?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if("change"===e){const e=this._chgListeners,r={removed:!1,callback:t};return e.push(r),this._notifications&&this._notifications.push({listeners:e.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=Ls,r.removed=!0,e.splice(e.indexOf(r),1)}}}return this._emitter.on(e,t)}once(e,t){const r=this.on(e,t);return{remove(){r.remove()}}}add(e,t){if(Er(this._observable),this._emitBeforeChanges(1))return this;const r=this.getNextIndex(null!=t?t:null);return this._splice(r,0,e),this._emitAfterChanges(1),this}addMany(e,t=this._items.length){if(Er(this._observable),!e||!e.length)return this;if(this._emitBeforeChanges(1))return this;const r=this.getNextIndex(t);return this._splice(r,0,...ks(e)),this._emitAfterChanges(1),this}removeAll(){if(Er(this._observable),!this.length||this._emitBeforeChanges(2))return[];const e=this._splice(0,this.length)||[];return this._emitAfterChanges(2),e}clone(){return Er(this._observable),this._createNewInstance({items:this._items.map(n.o)})}concat(...e){Er(this._observable);const t=e.map(ks);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(Er(this._observable),!this.length||this._emitBeforeChanges(2))return;const r=this._splice(0,this.length),n=r.length;for(let i=0;i<n;i++)e.call(t,r[i],i,r);this._emitAfterChanges(2)}every(e,t){return Er(this._observable),this._items.every(e,t)}filter(e,t){let r;return Er(this._observable),r=2===arguments.length?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:r})}find(e,t){return Er(this._observable),this._items.find(e,t)}findIndex(e,t){return Er(this._observable),this._items.findIndex(e,t)}flatten(e,t){Er(this._observable);const r=[];return Is(r,this,e,t),new Os(r)}forEach(e,t){return Er(this._observable),this._items.forEach(e,t)}getItemAt(e){return Er(this._observable),this._items[e]}getNextIndex(e){Er(this._observable);const t=this.length;return(e=null==e?t:e)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return Er(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return Er(this._observable),this._items.indexOf(e,t)}join(e=","){return Er(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return Er(this._observable),this._items.lastIndexOf(e,t)}map(e,t){Er(this._observable);const r=this._items.map(e,t);return new Os({items:r})}reorder(e,t=this.length-1){Er(this._observable);const r=this.indexOf(e);if(-1!==r){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(4))return e;this._splice(r,1),this._splice(t,0,e),this._emitAfterChanges(4)}return e}}pop(){if(Er(this._observable),!this.length||this._emitBeforeChanges(2))return;const e=Ps(this._splice(this.length-1,1));return this._emitAfterChanges(2),e}push(...e){return Er(this._observable),this._emitBeforeChanges(1)||(this._splice(this.length,0,...e),this._emitAfterChanges(1)),this.length}reduce(e,t){Er(this._observable);const r=this._items;return 2===arguments.length?r.reduce(e,t):r.reduce(e)}reduceRight(e,t){Er(this._observable);const r=this._items;return 2===arguments.length?r.reduceRight(e,t):r.reduceRight(e)}remove(e){return Er(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Er(this._observable),e<0||e>=this.length||this._emitBeforeChanges(2))return;const t=Ps(this._splice(e,1));return this._emitAfterChanges(2),t}removeMany(e){if(Er(this._observable),!e||!e.length||this._emitBeforeChanges(2))return[];const t=e instanceof Os?e.toArray():e,r=this._items,n=[],i=t.length;for(let e=0;e<i;e++){const i=t[e],s=r.indexOf(i);if(s>-1){const i=1+Cs(t,r,e+1,s+1),o=this._splice(s,i);o&&o.length>0&&n.push.apply(n,o),e+=i-1}}return this._emitAfterChanges(2),n}reverse(){if(Er(this._observable),this._emitBeforeChanges(4))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,...e)),this._emitAfterChanges(4),this}shift(){if(Er(this._observable),!this.length||this._emitBeforeChanges(2))return;const e=Ps(this._splice(0,1));return this._emitAfterChanges(2),e}slice(e=0,t=this.length){return Er(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return Er(this._observable),this._items.some(e,t)}sort(e){if(Er(this._observable),!this.length||this._emitBeforeChanges(4))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,...t),this._emitAfterChanges(4),this}splice(e,t,...r){Er(this._observable);const n=(t?2:0)|(r.length?1:0);if(this._emitBeforeChanges(n))return[];const i=this._splice(e,t,...r)||[];return this._emitAfterChanges(n),i}toArray(){return Er(this._observable),this._items.slice()}toJSON(){return Er(this._observable),this.toArray()}toLocaleString(){return Er(this._observable),this._items.toLocaleString()}toString(){return Er(this._observable),this._items.toString()}unshift(...e){return Er(this._observable),!e.length||this._emitBeforeChanges(1)||(this._splice(0,0,...e),this._emitAfterChanges(1)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,...r){const n=this._items,i=this.constructor.prototype.itemType;let s,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=pi((()=>this._dispatchChange()))),t){if(o=n.splice(e,t),this.hasEventListener("before-remove")){const t=Ts.acquire();t.target=this,t.cancellable=!0;for(let r=0,i=o.length;r<i;r++)s=o[r],t.reset(s),this.emit("before-remove",t),t.defaultPrevented&&(o.splice(r,1),n.splice(e,0,s),e+=1,r-=1,i-=1);Ts.release(t)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const e=Ts.acquire();e.target=this,e.cancellable=!1;const t=o.length;for(let r=0;r<t;r++)e.reset(o[r]),this.emit("after-remove",e);Ts.release(e)}}if(r&&r.length){if(i){const e=[];for(const t of r){const r=i.ensureType(t);null==r&&null!=t||e.push(r)}r=e}const t=this.hasEventListener("before-add"),s=this.hasEventListener("after-add"),o=e===this.length;if(t||s){const i=Ts.acquire();i.target=this,i.cancellable=!0;const a=Ts.acquire();a.target=this,a.cancellable=!1;for(const l of r)t?(i.reset(l),this.emit("before-add",i),i.defaultPrevented||(o?n.push(l):n.splice(e++,0,l),this._set("length",n.length),s&&(a.reset(l),this.emit("after-add",a)))):(o?n.push(l):n.splice(e++,0,l),this._set("length",n.length),a.reset(l),this.emit("after-add",a));Ts.release(a),Ts.release(i)}else{if(o)for(const e of r)n.push(e);else n.splice(e,0,...r);this._set("length",n.length)}}return(r&&r.length||o&&o.length)&&this._notifyChangeEvent(r,o),o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const r=Ts.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,Ts.release(r)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=Ts.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),Ts.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const e=t.changes;Rs.clear(),js.clear(),Es.clear();for(const{added:t,removed:r}of e){if(t)if(0===Es.size&&0===js.size)for(const e of t)Rs.add(e);else for(const e of t)js.has(e)?(Es.add(e),js.delete(e)):Es.has(e)||Rs.add(e);if(r)if(0===Es.size&&0===Rs.size)for(const e of r)js.add(e);else for(const e of r)Rs.has(e)?Rs.delete(e):(Es.delete(e),js.add(e))}const r=Xr.acquire();Rs.forEach((e=>{r.push(e)}));const n=Xr.acquire();js.forEach((e=>{n.push(e)}));const i=this._items,s=t.items,o=Xr.acquire();if(Es.forEach((e=>{s.indexOf(e)!==i.indexOf(e)&&o.push(e)})),t.listeners&&(r.length||n.length||o.length)){const e={target:this,added:r,removed:n,moved:o},i=t.listeners.length;for(let r=0;r<i;r++){const n=t.listeners[r];n.removed||n.callback.call(this,e)}}Xr.release(r),Xr.release(n),Xr.release(o)}Rs.clear(),js.clear(),Es.clear()}};Us.ofType=e=>{if(!e)return Os;if(Ns.has(e))return Ns.get(e);let t=null;if("function"==typeof e)t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const r in e.typeMap){const n=e.typeMap[r].prototype.declaredClass;t?t+=` | ${n}`:t=n}let r=class extends Os{};r=i([it(`esri.core.Collection<${t}>`)],r);const n={Type:e,ensureType:"function"==typeof e?F(e):Q(e)};return Object.defineProperty(r.prototype,"itemType",{value:n}),Ns.set(e,r),r},i([Se()],Us.prototype,"length",void 0),i([Se()],Us.prototype,"items",null),Us=Os=i([it("esri.core.Collection")],Us);var qs=Us;function zs(e,t,r=qs){return t||(t=new r),t===e||(t.removeAll(),function(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}(e)?t.addMany(e):e&&t.add(e)),t}function Ds(e){return e}class Ws{constructor(e){this.instance=e,this._resolver=Bn(),this._status=0,this._resolvingPromises=[],this._resolver.promise.then((()=>{this._status=1,this._cleanUp()}),(()=>{this._status=2,this._cleanUp()}))}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return 1===this._status}isRejected(){return 2===this._status}isFulfilled(){return 0!==this._status}abort(){this._resolver.reject(jn())}when(e,t){return this._resolver.promise.then(e,t)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const e=Bn(),t=[...this._resolvingPromises,e.promise],r=this._allPromise=Promise.all(t);r.then((()=>{this.isFulfilled()||this._allPromise!==r||this._resolver.resolve(this.instance)}),(e=>{this.isFulfilled()||this._allPromise!==r||Fn(e)||this._resolver.reject(e)})),e.resolve()}}const $s=e=>{let t=class extends e{constructor(...e){super(...e),this._promiseProps=new Ws(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(e,t){return new Promise(((e,t)=>{this._promiseProps.when(e,t)})).then(e,t)}catch(e){return this.when(null,e)}addResolvingPromise(e){e&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in e?e.when():e)}};return t=i([it("esri.core.Promise")],t),t};let Fs=class extends($s(Ui)){};Fs=i([it("esri.core.Promise")],Fs);const Js="loaded",Bs=e=>{let t=class extends e{constructor(...e){super(...e),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise((e=>{const t=this.load.bind(this);this.load=r=>{const n=new Promise(((e,t)=>{const n=Wn(r,t);this.destroyed&&t(new ot("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(e,t).finally((()=>{n&&n.remove()}))}));if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const e=this._loadController=En();t({signal:e.signal}),Dn(e.signal,(()=>{this._promiseProps.abort()}))}return e(),n}}))),this.when((()=>{this._set("loadStatus",Js),this._loadController=null}),(e=>{this._set("loadStatus","failed"),this._set("loadError",e),this._loadController=null}))}get loaded(){return this.loadStatus===Js}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var e;return this.isFulfilled()||(this._set("loadError",new ot("load:cancelled","Cancelled")),null==(e=this._loadController)||e.abort()),this}};return i([Se({readOnly:!0})],t.prototype,"loaded",null),i([Se({readOnly:!0})],t.prototype,"loadError",void 0),i([Se()],t.prototype,"loadStatus",void 0),i([Se({type:[Ce],readOnly:!0})],t.prototype,"loadWarnings",null),t=i([it("esri.core.Loadable")],t),t};let Vs=class extends(Bs(Fs)){};Vs=i([it("esri.core.Loadable")],Vs),function(e){e.LoadableMixin=Bs,e.isLoadable=function(e){return!(!e||!e.load)}}(Vs||(Vs={}));var Hs=Vs;function Zs(e,t,r){let i,s;return void 0===t||Array.isArray(t)?(s=e,r=t,i=[void 0]):(s=t,i=Array.isArray(e)?e:[e]),(e,t)=>{const o=e.constructor.prototype;i.forEach((i=>{const a=Oe(e,i,s);a.read&&"object"!=typeof a.read&&(a.read={}),Object(n.i)("read.reader",o[t],a),r&&(a.read.source=(a.read.source||[]).concat(r))}))}}let Qs=class extends rs{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Ms.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,t){if(e instanceof Ms)return e;if(null!=e){const r=new Ms;return r.read(e,t),r}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,t){this.cache[e]=t}};i([Se()],Qs.prototype,"type",void 0),i([Se({readOnly:!0})],Qs.prototype,"cache",null),i([Se({readOnly:!0})],Qs.prototype,"extent",null),i([Se({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Qs.prototype,"hasM",void 0),i([Se({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Qs.prototype,"hasZ",void 0),i([Se({type:Ms,json:{write:!0}})],Qs.prototype,"spatialReference",void 0),i([Zs("spatialReference")],Qs.prototype,"readSpatialReference",null),Qs=i([it("esri.geometry.Geometry")],Qs);var Ks=Qs;class Ys{constructor(e,t,r,n){this.semiMajorAxis=e,this.flattening=t,this.outerAtmosphereRimWidth=r;const i=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*i,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=n||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const Xs=new Ys(6378137,1/298.257223563,3e5,.006694379990137799),eo=new Ys(3396190,1/169.8944472236118,23e4),to=new Ys(1737400,0,0);function ro(e){return 57.29577951308232*e}function no(e){return.017453292519943*e}function io(e){return null!=e.wkid||null!=e.wkt}const so=[0,0];function oo(e,t,r,n,i){const s=e,o=i;if(o.spatialReference=r,"x"in s&&"x"in o)[o.x,o.y]=t(s.x,s.y,so,n);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=t(s.xmin,s.ymin,so,n),[o.xmax,o.ymax]=t(s.xmax,s.ymax,so,n);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const e="paths"in s?s.paths:s.rings,r=[];let i;for(let s=0;s<e.length;s++){const o=e[s];i=[],r.push(i);for(let e=0;e<o.length;e++)i.push(t(o[e][0],o[e][1],[0,0],n)),o[e].length>2&&i[e].push(o[e][2]),o[e].length>3&&i[e].push(o[e][3])}"paths"in o?o.paths=r:o.rings=r}else if("points"in s&&"points"in o){const e=s.points,r=[];for(let i=0;i<e.length;i++)r[i]=t(e[i][0],e[i][1],[0,0],n),e[i].length>2&&r[i].push(e[i][2]),e[i].length>3&&r[i].push(e[i][3]);o.points=r}return i}function ao(e,t){const r=e&&(io(e)?e:e.spatialReference),n=t&&(io(t)?t:t.spatialReference);return!(e&&"type"in e&&"mesh"===e.type||t&&"type"in t&&"mesh"===t.type||!r||!n)&&(!!us(n,r)||ys(n)&&fs(r)||ys(r)&&fs(n))}function lo(e,t){const r=e&&e.spatialReference,i=t&&(io(t)?t:t.spatialReference);return ao(r,i)?us(r,i)?Object(n.o)(e):ys(i)?oo(e,co,Ms.WebMercator,!1,Object(n.o)(e)):fs(i)?oo(e,uo,Ms.WGS84,!1,Object(n.o)(e)):null:null}function co(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const n=no(t);return r[0]=no(e)*Xs.radius,r[1]=Xs.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),r}function uo(e,t,r=[0,0],n=!1){const i=ro(e/Xs.radius);return r[0]=n?i:i-360*Math.floor((i+180)/360),r[1]=ro(Math.PI/2-2*Math.atan(Math.exp(-1*t/Xs.radius))),r}function ho(e,t=!1,r=Object(n.o)(e)){return oo(e,co,Ms.WebMercator,t,r)}function po(e,t=!1,r=Object(n.o)(e)){return oo(e,uo,Ms.WGS84,t,r)}var fo;const yo=[0,0];function mo(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}const go=k.getLogger("esri.geometry.Point");let vo=fo=class extends Ks{constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(r)?r:r.clone())}normalizeCtorArgs(e,t,r,n,i){let s;if(Array.isArray(e))s=e,i=t,e=s[0],t=s[1],r=s[2],n=s[3];else if(e&&"object"==typeof e){if(s=e,e=null!=s.x?s.x:s.longitude,t=null!=s.y?s.y:s.latitude,r=s.z,n=s.m,(i=s.spatialReference)&&"esri.geometry.SpatialReference"!==i.declaredClass&&(i=new Ms(i)),null!=s.longitude||null!=s.latitude)if(null==s.longitude)go.warn(".longitude=","Latitude was defined without longitude");else if(null==s.latitude)go.warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&i&&i.isWebMercator){const r=co(s.longitude,s.latitude,yo);e=r[0],t=r[1]}}else mo(r)?(i=r,r=null):mo(n)&&(i=n,n=null);const o={x:e,y:t};return null==o.x&&null!=o.y?go.warn(".y=","Y coordinate was defined without an X coordinate"):null==o.y&&null!=o.x&&go.warn(".x=","X coordinate was defined without a Y coordinate"),null!=i&&(o.spatialReference=i),null!=r&&(o.z=r),null!=n&&(o.m=n),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(e){e!==(void 0!==this._get("m"))&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return void 0!==this.z}set hasZ(e){e!==(void 0!==this._get("z"))&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){const{spatialReference:e,x:t,y:r}=this;if(e){if(e.isWebMercator)return uo(t,r,yo)[1];if(e.isGeographic)return r}return null}set latitude(e){const{spatialReference:t,x:r}=this;t&&(t.isWebMercator?this._set("y",co(r,e,yo)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){const{x:e,y:t,spatialReference:r}=this;if(r){if(r.isWebMercator)return uo(e,t,yo)[0];if(r.isGeographic)return e}return NaN}set longitude(e){const{y:t,spatialReference:r}=this;r&&(r.isWebMercator?this._set("x",co(e,t,yo)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return"string"==typeof e?NaN:e}clone(){const e=new fo;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return fo.copy(e,this),this}equals(e){if(!e)return!1;const{x:t,y:r,z:n,m:i,spatialReference:s}=this,{z:o,m:a}=e;let{x:l,y:c,spatialReference:u}=e;if(!s.equals(u))if(s.isWebMercator&&u.isWGS84)[l,c]=co(l,c),u=s;else{if(!s.isWGS84||!u.isWebMercator)return!1;[l,c]=uo(l,c),u=s}return t===l&&r===c&&n===o&&i===a&&s.wkid===u.wkid}offset(e,t,r){return function(e,t,r,n){return e.x=e.x+t,e.y=e.y+r,null!=n&&null!=e.z&&(e.z=e.z+n),e}(this,e,t,r)}normalize(){if(!this.spatialReference)return this;const e=hs(this.spatialReference);if(!e)return this;let t=this.x;const[r,n]=e.valid,i=2*n;let s;return t>n?(s=Math.ceil(Math.abs(t-n)/i),t-=s*i):t<r&&(s=Math.ceil(Math.abs(t-r)/i),t+=s*i),this._set("x",t),this}distance(e){return function(e,t){const r=e.x-t.x,n=e.y-t.y,i=e.hasZ&&t.hasZ?e.z-t.z:0;return Math.sqrt(r*r+n*n+i*i)}(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write(null,e)}};i([Se({readOnly:!0})],vo.prototype,"cache",null),i([Se({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],vo.prototype,"hasM",null),i([Se({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],vo.prototype,"hasZ",null),i([Se({type:Number})],vo.prototype,"latitude",null),i([Se({type:Number})],vo.prototype,"longitude",null),i([Se({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),ke((e=>isNaN(e)?e:j(e)))],vo.prototype,"x",void 0),i([Di("x")],vo.prototype,"writeX",null),i([Zs("x")],vo.prototype,"readX",null),i([Se({type:Number,json:{write:!0}})],vo.prototype,"y",void 0),i([Se({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],vo.prototype,"z",void 0),i([Se({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],vo.prototype,"m",void 0),vo=fo=i([it("esri.geometry.Point")],vo),vo.prototype.toJSON.isDefaultToJSON=!0;var bo=vo;const _o=[0,0];function wo(e,t){return Mo(e,t.x,t.y,t.z)}function xo(e,t){if(!t.points||t.points.length)return!1;for(const r of t.points)if(!So(e,r))return!1;return!0}function So(e,t){return Mo(e,t[0],t[1])}function Oo(e,t){return Mo(e,t[0],t[1],t[2])}function Mo(e,t,r,n){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(null==n||!e.hasZ||n>=e.zmin&&n<=e.zmax)}function Ao(e,t){return _o[1]=t.y,_o[0]=t.x,To(e,_o)}function To(e,t){return function(e,t){if(!e)return!1;if(function(e){return!Array.isArray(e[0][0])}(e))return Lo(!1,e,t);let r=!1;for(let n=0,i=e.length;n<i;n++)r=Lo(r,e[n],t);return r}(e.rings,t)}function Lo(e,t,r){const[n,i]=r;let s=e,o=0;for(let e=0,r=t.length;e<r;e++){o++,o===r&&(o=0);const[a,l]=t[e],[c,u]=t[o];(l<i&&u>=i||u<i&&l>=i)&&a+(i-l)/(u-l)*(c-a)<n&&(s=!s)}return s}function ko(e,t){return wo(e,t)}function Po(e,t){const r=e.hasZ&&t.hasZ;let n,i,s;if(e.xmin<=t.xmin){if(n=t.xmin,e.xmax<n)return!1}else if(n=e.xmin,t.xmax<n)return!1;if(e.ymin<=t.ymin){if(i=t.ymin,e.ymax<i)return!1}else if(i=e.ymin,t.ymax<i)return!1;if(r&&t.hasZ)if(e.zmin<=t.zmin){if(s=t.zmin,e.zmax<s)return!1}else if(s=e.zmin,t.zmax<s)return!1;return!0}function Co(e,t){const{points:r,hasZ:n}=t,i=n?Oo:So;for(const t of r)if(i(e,t))return!0;return!1}const Io=[0,0],Ro=[0,0],jo=[0,0],Eo=[0,0],No=[Io,Ro,jo,Eo],Go=[[jo,Io],[Io,Ro],[Ro,Eo],[Eo,jo]];function Uo(e,t){Io[0]=e.xmin,Io[1]=e.ymax,Ro[0]=e.xmax,Ro[1]=e.ymax,jo[0]=e.xmin,jo[1]=e.ymin,Eo[0]=e.xmax,Eo[1]=e.ymin;for(const e of No)if(To(t,e))return!0;for(const r of t.rings){if(!r.length)continue;let t=r[0];if(So(e,t))return!0;for(let n=1;n<r.length;n++){const i=r[n];if(So(e,i)||Do(t,i,Go))return!0;t=i}}return!1}function qo(e,t){Io[0]=e.xmin,Io[1]=e.ymax,Ro[0]=e.xmax,Ro[1]=e.ymax,jo[0]=e.xmin,jo[1]=e.ymin,Eo[0]=e.xmax,Eo[1]=e.ymin;const r=t.paths;for(const t of r){if(!r.length)continue;let n=t[0];if(So(e,n))return!0;for(let r=1;r<t.length;r++){const i=t[r];if(So(e,i)||Do(n,i,Go))return!0;n=i}}return!1}const zo=[0,0];function Do(e,t,r){for(let n=0;n<r.length;n++)if(Wo(e,t,r[n][0],r[n][1]))return!0;return!1}function Wo(e,t,r,n,i){const[s,o]=e,[a,l]=t,[c,u]=r,[h,p]=n,d=h-c,f=s-c,y=a-s,m=p-u,g=o-u,v=l-o,b=m*y-d*v;if(0===b)return!1;const _=(d*g-m*f)/b,w=(y*g-v*f)/b;return _>=0&&_<=1&&w>=0&&w<=1&&(i&&(i[0]=s+_*(a-s),i[1]=o+_*(l-o)),!0)}function $o(e){switch(e){case"esriGeometryEnvelope":case"extent":return Po;case"esriGeometryMultipoint":case"multipoint":return Co;case"esriGeometryPoint":case"point":return ko;case"esriGeometryPolygon":case"polygon":return Uo;case"esriGeometryPolyline":case"polyline":return qo;case"mesh":return Po}}var Fo;function Jo(e,t,r){return null==t?r:null==r?t:e(t,r)}let Bo=Fo=class extends Ks{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,n,i){return function(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof e?(e.spatialReference=null==e.spatialReference?Ms.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:n,spatialReference:null==i?Ms.WGS84:i}}static fromBounds(e,t){return new Fo({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new bo({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return null!=e.z&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new Fo;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,null!=this.zmin&&(e.zmin=this.zmin,e.zmax=this.zmax),null!=this.mmin&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&ao(t,r)&&(e=t.isWebMercator?ho(e):po(e,!0)),"point"===e.type?wo(this,e):"extent"===e.type&&function(e,t){const{xmin:r,ymin:n,zmin:i,xmax:s,ymax:o,zmax:a}=t;return e.hasZ&&t.hasZ?Mo(e,r,n,i)&&Mo(e,r,o,i)&&Mo(e,s,o,i)&&Mo(e,s,n,i)&&Mo(e,r,n,a)&&Mo(e,r,o,a)&&Mo(e,s,o,a)&&Mo(e,s,n,a):Mo(e,r,n)&&Mo(e,r,o)&&Mo(e,s,o)&&Mo(e,s,n)}(this,e)}equals(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&ao(t,r)&&(e=t.isWebMercator?ho(e):po(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,n=this.height*t;if(this.xmin+=r,this.ymin+=n,this.xmax-=r,this.ymax-=n,this.hasZ){const e=(this.zmax-this.zmin)*t;this.zmin+=e,this.zmax-=e}if(this.hasM){const e=(this.mmax-this.mmin)*t;this.mmin+=e,this.mmax-=e}return this}intersects(e){if(o(e))return!1;"mesh"===e.type&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&ao(t,r)&&(e=t.isWebMercator?ho(e):po(e,!0)),$o(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,null!=r&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Jo(Math.min,this.zmin,e.zmin),this.zmax=Jo(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Jo(Math.min,this.mmin,e.mmin),this.mmax=Jo(Math.max,this.mmax,e.mmax)),this}intersection(e){return this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Jo(Math.max,this.zmin,e.zmin),this.zmax=Jo(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Jo(Math.max,this.mmin,e.mmin),this.mmax=Jo(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write(null,e)}_shiftCM(e=hs(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,r=this._getCM(e);if(r){const n=t.isWebMercator?po(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(n.x=this._normalizeX(n.x,e).x),this.spatialReference=new Ms(O(t.isWGS84?e.altTemplate:e.wkTemplate,{Central_Meridian:n.x}))}return this}_getCM(e){let t=null;const[r,n]=e.valid,i=this.xmin,s=this.xmax;return i>=r&&i<=n&&s>=r&&s<=n||(t=this.center),t}_normalize(e,t,r){const n=this.spatialReference;if(!n)return this;if(!(r=r||hs(n)))return this;const i=this._getParts(r).map((e=>e.extent));if(i.length<2)return i[0]||this;if(i.length>2)return e?this._shiftCM(r):this.set({xmin:r.valid[0],xmax:r.valid[1]});if(e)return this._shiftCM(r);if(t)return i;let s=!0,o=!0;return i.forEach((e=>{e.hasZ||(s=!1),e.hasM||(o=!1)})),{rings:i.map((e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(s){const r=(e.zmax-e.zmin)/2;for(let e=0;e<t.length;e++)t[e].push(r)}if(o){const r=(e.mmax-e.mmin)/2;for(let e=0;e<t.length;e++)t[e].push(r)}return t})),hasZ:s,hasM:o,spatialReference:n}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:r,ymax:n,spatialReference:i}=this,s=this.width,o=this.xmin,a=this.xmax;let l;e=e||hs(i);const[c,u]=e.valid;l=this._normalizeX(this.xmin,e);const h=l.x,p=l.frameId;l=this._normalizeX(this.xmax,e);const d=l.x,f=l.frameId,y=h===d&&s>0;if(s>2*u){const e=new Fo(o<a?h:d,r,u,n,i),s=new Fo(c,r,o<a?d:h,n,i),l=new Fo(0,r,u,n,i),y=new Fo(c,r,0,n,i),m=[],g=[];e.contains(l)&&m.push(p),e.contains(y)&&g.push(p),s.contains(l)&&m.push(f),s.contains(y)&&g.push(f);for(let e=p+1;e<f;e++)m.push(e),g.push(e);t.push({extent:e,frameIds:[p]},{extent:s,frameIds:[f]},{extent:l,frameIds:m},{extent:y,frameIds:g})}else h>d||y?t.push({extent:new Fo(h,r,u,n,i),frameIds:[p]},{extent:new Fo(c,r,d,n,i),frameIds:[f]}):t.push({extent:new Fo(h,r,d,n,i),frameIds:[p]});this.cache._parts=t}const r=this.hasZ,n=this.hasM;if(r||n){const e={};r&&(e.zmin=this.zmin,e.zmax=this.zmax),n&&(e.mmin=this.mmin,e.mmax=this.mmax);for(let r=0;r<t.length;r++)t[r].extent.set(e)}return t}_normalizeX(e,t){const[r,n]=t.valid,i=2*n;let s,o=0;return e>n?(s=Math.ceil(Math.abs(e-n)/i),e-=s*i,o=s):e<r&&(s=Math.ceil(Math.abs(e-r)/i),e+=s*i,o=-s),{x:e,frameId:o}}};i([Se({readOnly:!0})],Bo.prototype,"cache",null),i([Se({readOnly:!0})],Bo.prototype,"center",null),i([Se({readOnly:!0})],Bo.prototype,"extent",null),i([Se({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Bo.prototype,"hasM",null),i([Se({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Bo.prototype,"hasZ",null),i([Se({readOnly:!0})],Bo.prototype,"height",null),i([Se({readOnly:!0})],Bo.prototype,"width",null),i([Se({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Bo.prototype,"xmin",void 0),i([Se({type:Number,json:{write:!0}})],Bo.prototype,"ymin",void 0),i([Se({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Bo.prototype,"mmin",void 0),i([Se({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Bo.prototype,"zmin",void 0),i([Se({type:Number,json:{write:!0}})],Bo.prototype,"xmax",void 0),i([Se({type:Number,json:{write:!0}})],Bo.prototype,"ymax",void 0),i([Se({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Bo.prototype,"mmax",void 0),i([Se({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Bo.prototype,"zmax",void 0),Bo=Fo=i([it("esri.geometry.Extent")],Bo),Bo.prototype.toJSON.isDefaultToJSON=!0;var Vo,Ho,Zo,Qo=Bo;let Ko;const Yo=null!=(Vo=null==(Ho=n.e.esriConfig)?void 0:Ho.locale)?Vo:null==(Zo=n.e.dojoConfig)?void 0:Zo.locale;function Xo(){var e,t;return null!=(e=null!=Yo?Yo:null==(t=n.e.navigator)?void 0:t.language)?e:"en"}function ea(){return void 0===Ko&&(Ko=Xo()),Ko}const ta=[];function ra(e){return ta.push(e),{remove(){ta.splice(ta.indexOf(e),1)}}}const na=[];function ia(e){return na.push(e),{remove(){ta.splice(na.indexOf(e),1)}}}null==n.e.addEventListener||n.e.addEventListener("languagechange",(function(){const e=null!=undefined?undefined:Xo();Ko!==e&&(Ko=e,[...na].forEach((t=>{t.call(null,e)})),[...ta].forEach((t=>{t.call(null,e)})))}));const sa="4.19",oa={request:(e,t)=>Promise.resolve().then((function(){return La})).then((({default:r})=>{const n=e.options||{};return n.responseType="array-buffer",n.signal=null==t?void 0:t.signal,r(e.url,n)})).then((e=>({result:{data:e.data,ssl:e.ssl},transferList:[e.data]})))};let aa;function la(e){aa=e}function ca(e){const t=aa&&aa.findCredential(e);return t&&t.token?ar(e,"token",t.token):e}Object(n.a)("host-webworker")||(Object(n.a)("edge")||Object(n.a)("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser");const ua=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function ha(e,t,r=!1,i){return new Promise(((o,a)=>{if(Un(i))return void a(pa());let l=()=>{h(),a(new Error(`Unable to load ${t}`))},c=()=>{const t=e;h(),o(t)},u=()=>{if(!e)return;const t=e;h(),t.src="",a(pa())};const h=()=>{Object(n.a)("esri-image-decode")||(e.removeEventListener("error",l),e.removeEventListener("load",c)),l=null,c=null,e=null,s(i)&&i.removeEventListener("abort",u),u=null,r&&URL.revokeObjectURL(t)};s(i)&&i.addEventListener("abort",u),Object(n.a)("esri-image-decode")?e.decode().then(c,l):(e.addEventListener("error",l),e.addEventListener("load",c))}))}function pa(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}async function da(e,t){const i=Ft(e),s=$t(e);s||i||(e=qt(e));const o={url:e,requestOptions:{...t}};let a=function(e){const t=t=>null==t||t instanceof RegExp&&t.test(e)||"string"==typeof t&&e.startsWith(t),r=lt.interceptors;if(r)for(const e of r)if(Array.isArray(e.urls)){if(e.urls.some(t))return e}else if(t(e.urls))return e;return null}(e);if(a){const e=await async function(e,t){if(null!=e.responseData)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,n;try{n=await e.before(t)}catch(e){r=wa("request:interceptor",e,t)}if((n instanceof Error||n instanceof ot)&&(r=wa("request:interceptor",n,t)),r)throw e.error&&e.error(r),r;return n}}(a,o);if(null!=e)return{data:e,getHeader:_a,requestOptions:o.requestOptions,url:o.url};a.after||a.error||(a=null)}if(e=o.url,"image"===(t=o.requestOptions).responseType){if(Object(n.a)("host-webworker")||Object(n.a)("host-node"))throw wa("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),o)}else if(i)throw wa("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),o);if("head"===t.method){if(t.body)throw wa("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),o);if(i||s)throw wa("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),o)}if(await async function(){Object(n.a)("host-webworker")?fa||(fa=await r.e(187).then(r.bind(null,229))):da._abortableFetch||(da._abortableFetch=n.e.fetch.bind(n.e))}(),fa)return fa.execute(e,t);const l=En();Dn(t,(()=>l.abort()));const c={controller:l,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:a,params:o,redoRequest:!1,useIdentity:ya.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},u=await async function(e){let t,r;await async function(e){const t=e.params.url,r=e.params.requestOptions,i=e.controller.signal,s=r.body;let o=null,a=null,l=null;if(ma&&"HTMLFormElement"in n.e&&(s instanceof FormData?o=s:s instanceof HTMLFormElement&&(a=s,o=new FormData(a))),"string"==typeof s&&(l=s),e.fetchOptions={cache:r.cacheBust&&!da._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:"head"===r.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:i},(o||l)&&(e.fetchOptions.body=o||l),"anonymous"===r.authMode&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||r.query&&r.query.token||o&&o.get&&o.get("token")||a&&a.elements.token),!e.hasToken&&n.l.apiKey&&function(e){const t=Dt(e,!0);return t&&t.endsWith(".arcgis.com")&&!ua.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}(t)&&(r.query||(r.query={}),r.query.token=n.l.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!Sa(t)&&!Un(i)){let n;"immediate"===r.authMode?(await xa(),n=await aa.getCredential(t,{signal:i}),e.credential=n):"no-prompt"===r.authMode?(await xa(),n=await aa.getCredential(t,{prompt:!1,signal:i}).catch((()=>{})),e.credential=n):aa&&(n=aa.findCredential(t)),n&&(e.credentialToken=n.token,e.useSSL=!!n.ssl)}}(e);try{do{[t,r]=await Oa(e)}while(!await Aa(e,t,r))}catch(r){const n=wa("request:server",r,e.params,t);throw n.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(n),n}const i=e.params.url;if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(i)&&!e.hasToken&&!e.credentialToken&&r&&r.user&&r.user.username&&!Et(i)){const e=Dt(i,!0);e&&ya.trustedServers.push(e)}const s=e.credential;if(s&&aa){const e=aa.findServerInfo(s.server);let t=e&&e.owningSystemUrl;if(t){t=t.replace(/\/?$/,"/sharing");const e=aa.findCredential(t,s.userId);e&&-1===aa._getIdenticalSvcIdx(t,e)&&e.resources.unshift(t)}}return{data:r,getHeader:t?e=>t.headers.get(e):_a,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}(c);return a&&a.after&&a.after(u),u}let fa;const ya=n.l.request,ma="FormData"in n.e,ga=[499,498,403,401],va=["COM_0056","COM_0057","SB_0008"],ba=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],_a=()=>null;function wa(e,t,r,i){let s="Error";const o={url:r.url,requestOptions:r.requestOptions,getHeader:_a,ssl:!1};if(t instanceof ot)return t.details?(t.details=Object(n.o)(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=o,t;if(t){const e=i&&(e=>i.headers.get(e)),r=i&&i.status,n=t.message;n&&(s=n),e&&(o.getHeader=e),o.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||r||0,o.subCode=t.subcode,o.messageCode=t.messageCode,"string"==typeof t.details?o.messages=[t.details]:o.messages=t.details}return Fn(t)?jn():new ot(e,s,o)}async function xa(){aa||await r.e(52).then(r.bind(null,230))}function Sa(e){return ba.some((t=>t.test(e)))}async function Oa(e){let t=e.params.url;const r=e.params.requestOptions,i=e.fetchOptions,s=$t(t)||Ft(t),o=r.responseType||"json",a=s?0:null!=r.timeout?r.timeout:ya.timeout;let l=!1;if(!s){e.useSSL&&(t=Kt(t)),r.cacheBust&&"default"===i.cache&&(t=ar(t,"request.preventCache",Date.now()));let s={...r.query};e.credentialToken&&(s.token=e.credentialToken);let o=Mt(s);Object(n.a)("esri-url-encodes-apostrophe")&&(o=o.replace(/'/g,"%27"));const a=t.length+1+o.length;let c;l="delete"===r.method||"post"===r.method||"put"===r.method||!!r.body||a>ya.maxUrlLength;const u=r.useProxy||!!Ct(t);if(u){const e=At(t);c=e.path,!l&&c.length+1+a>ya.maxUrlLength&&(l=!0),e.query&&(s={...e.query,...s})}if("HEAD"===i.method&&(l||u)){if(l){if(a>ya.maxUrlLength)throw wa("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params);throw wa("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params)}if(u)throw wa("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(l?(i.method="delete"===r.method?"DELETE":"put"===r.method?"PUT":"POST",r.body?t=lr(t,s):(i.body=Mt(s),i.headers["Content-Type"]="application/x-www-form-urlencoded")):t=lr(t,s),u&&(e.useProxy=!0,t=`${c}?${t}`),s.token&&ma&&i.body instanceof FormData){const e=i.body;e.set?e.set("token",s.token):e.append("token",s.token)}if(r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!jt(t,bt))if(Et(t))e.withCredentials=!0;else if(aa){const r=aa.findServerInfo(t);r&&r.webTierAuth&&(e.withCredentials=!0)}e.withCredentials&&(i.credentials="include")}let c,u,h=0,p=!1;a>0&&(h=setTimeout((()=>{p=!0,e.controller.abort()}),a));try{if("image"!==r.responseType||"default"!==i.cache||"GET"!==i.method||l||function(e){if(e)for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0;return!1}(r.headers)||!s&&!e.useProxy&&ya.proxyUrl&&!function(e){const t=Dt(e);return!t||t.endsWith(".arcgis.com")||-1!==da._corsServers.indexOf(t)||Et(t)}(t)){if(c=await da._abortableFetch(t,i),e.useProxy||function(e){if($t(e)||Ft(e))return;const t=Dt(e);t&&-1===da._corsServers.indexOf(t)&&da._corsServers.push(t)}(t),c.ok&&"HEAD"!==i.method){switch(o){case"array-buffer":u=await c.arrayBuffer();break;case"blob":case"image":u=await c.blob();break;default:u=await c.text()}if(h&&(clearTimeout(h),h=0),"json"===o||"xml"===o||"document"===o)if(u)switch(o){case"json":u=JSON.parse(u);break;case"xml":u=Ma(u,"application/xml");break;case"document":u=Ma(u,"text/html")}else u=null;if(u){if("array-buffer"===o||"blob"===o){const e=c.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(e)&&u["blob"===o?"size":"byteLength"]<=750)try{const e=await new Response(u).json();e.error&&(u=e)}catch{}}"image"===o&&u instanceof Blob&&(u=await Ta(URL.createObjectURL(u),e,!0))}}}else u=await Ta(t,e)}catch(n){if("AbortError"===n.name){if(p)throw new Error("Timeout exceeded");throw jn("Request canceled")}if(!(!c&&n instanceof TypeError&&ya.proxyUrl)||r.body||"delete"===r.method||"head"===r.method||"post"===r.method||"put"===r.method||e.useProxy)throw n;e.redoRequest=!0,function(e){const t={proxyUrl:e.proxyUrl,urlPrefix:Pt(e.urlPrefix)},r=lt.proxyRules,n=t.urlPrefix;let i=r.length;for(let e=0;e<r.length;e++){const t=r[e].urlPrefix;if(0===n.indexOf(t)){if(n.length===t.length)return-1;i=e;break}0===t.indexOf(n)&&(i=e+1)}r.splice(i,0,t)}({proxyUrl:ya.proxyUrl,urlPrefix:er(xt(t).path)})}finally{h&&clearTimeout(h)}return[c,u]}function Ma(e,t){let r;try{r=(new DOMParser).parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function Aa(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;if(!t)return!0;if(!t.ok)throw new Error(`Unable to load ${t.url} status: ${t.status}`);let n,i,s,o;r&&r.error&&(n=Object.assign(new Error,r.error)),n&&(i=Number(n.code),s=n.hasOwnProperty("subcode")?Number(n.subcode):null,o=n.messageCode,o=o&&o.toUpperCase());const a=e.params.requestOptions.authMode;if(403===i&&(4===s||n.message&&n.message.toLowerCase().indexOf("ssl")>-1&&-1===n.message.toLowerCase().indexOf("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&("no-prompt"!==a||498===i)&&-1!==ga.indexOf(i)&&!Sa(e.params.url)&&(403!==i||-1===va.indexOf(o)&&(null==s||2===s&&e.credentialToken))){await xa();try{const t=await aa.getCredential(e.params.url,{error:wa("request:server",n,e.params),prompt:"no-prompt"!==a,signal:e.controller.signal,token:e.credentialToken});return e.credential=t,e.credentialToken=t.token,e.useSSL=e.useSSL||t.ssl,!1}catch(t){if("no-prompt"===a)return e.credential=null,e.credentialToken=null,!1;n=t}}if(n)throw n;return!0}function Ta(e,t,r=!1){const n=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.src=e,ha(i,e,r,n)}da._abortableFetch=null,da._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];var La=Object.freeze({__proto__:null,default:da});class ka{constructor(e,t={ignoreUnknown:!1}){this.jsonToAPI=e,this.options=t,this.apiValues=[],this.jsonValues=[],this.apiToJSON=this.invertMap(e),this.apiValues=this.getKeysSorted(this.apiToJSON),this.jsonValues=this.getKeysSorted(this.jsonToAPI),this.read=e=>this.fromJSON(e),this.write=(e,t,r)=>{const n=this.toJSON(e);void 0!==n&&(t[r]=n)},this.write.isJSONMapWriter=!0}toJSON(e){return this.apiToJSON.hasOwnProperty(e)?this.apiToJSON[e]:this.options.ignoreUnknown?void 0:e}fromJSON(e){return this.jsonToAPI.hasOwnProperty(e)?this.jsonToAPI[e]:this.options.ignoreUnknown?void 0:e}invertMap(e){const t={};for(const r in e)t[e[r]]=r;return t}getKeysSorted(e){const t=[];for(const r in e)t.push(r);return t.sort(),t}}function Pa(){return function(e){return new ka(e,{ignoreUnknown:!0})}}const Ca={year:"numeric",month:"numeric",day:"numeric"},Ia={year:"numeric",month:"long",day:"numeric"},Ra={year:"numeric",month:"short",day:"numeric"},ja={year:"numeric",month:"long",weekday:"long",day:"numeric"},Ea={hour:"numeric",minute:"numeric"},Na={...Ea,second:"numeric"},Ga={"short-date":Ca,"short-date-short-time":{...Ca,...Ea},"short-date-short-time-24":{...Ca,...Ea,hour12:!1},"short-date-long-time":{...Ca,...Na},"short-date-long-time-24":{...Ca,...Na,hour12:!1},"short-date-le":Ca,"short-date-le-short-time":{...Ca,...Ea},"short-date-le-short-time-24":{...Ca,...Ea,hour12:!1},"short-date-le-long-time":{...Ca,...Na},"short-date-le-long-time-24":{...Ca,...Na,hour12:!1},"long-month-day-year":Ia,"long-month-day-year-short-time":{...Ia,...Ea},"long-month-day-year-short-time-24":{...Ia,...Ea,hour12:!1},"long-month-day-year-long-time":{...Ia,...Na},"long-month-day-year-long-time-24":{...Ia,...Na,hour12:!1},"day-short-month-year":Ra,"day-short-month-year-short-time":{...Ra,...Ea},"day-short-month-year-short-time-24":{...Ra,...Ea,hour12:!1},"day-short-month-year-long-time":{...Ra,...Na},"day-short-month-year-long-time-24":{...Ra,...Na,hour12:!1},"long-date":ja,"long-date-short-time":{...ja,...Ea},"long-date-short-time-24":{...ja,...Ea,hour12:!1},"long-date-long-time":{...ja,...Na},"long-date-long-time-24":{...ja,...Na,hour12:!1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Ea,"long-time":Na},Ua=Pa()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});Ua.toJSON.bind(Ua),Ua.fromJSON.bind(Ua);const qa={ar:"ar-u-nu-latn-ca-gregory"};let za=new WeakMap,Da=Ga["short-date-short-time"];function Wa(e){return Ga[e]||null}function $a(e,t){return function(e){const t=e||Da;if(!za.has(t)){const e=ea(),r=qa[ea()]||e;za.set(t,new Intl.DateTimeFormat(r,t))}return za.get(t)}(t).format(e)}ia((()=>{za=new WeakMap,Da=Ga["short-date-short-time"]}));const Fa={ar:"ar-u-nu-latn"};let Ja=new WeakMap,Ba={};function Va(e={}){const t={};return null!=e.digitSeparator&&(t.useGrouping=e.digitSeparator),null!=e.places&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function Ha(e,t){return function(e){const t=e||Ba;if(!Ja.has(t)){const r=ea(),n=Fa[ea()]||r;Ja.set(t,new Intl.NumberFormat(n,e))}return Ja.get(t)}(t).format(e)}ia((()=>{Ja=new WeakMap,Ba={}}));const Za=k.getLogger("esri.intl");function Qa(e,t,r={}){const{format:i={}}=r;return O(e,(e=>function(e,t,r){let i,s;const o=e.indexOf(":");if(-1===o?i=e.trim():(i=e.slice(0,o).trim(),s=e.slice(o+1).trim()),!i)return"";const a=Object(n.m)(i,t);if(null==a)return"";const l=r[s]||r[i];return l?function(e,t){switch(t.type){case"date":return $a(e,t.intlOptions);case"number":return Ha(e,t.intlOptions);default:return Za.warn("missing format descriptor for key {key}"),Ka(e)}}(a,l):s?function(e,t){switch(t.toLowerCase()){case"dateformat":return $a(e);case"numberformat":return Ha(e);default:return Za.warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?$a(e):/^numberformat/i.test(t)?Ha(e):Ka(e)}}(a,s):Ka(a)}(e,t,i)))}function Ka(e){switch(typeof e){case"string":return e;case"number":return Ha(e);case"boolean":return""+e;default:return e instanceof Date?$a(e):""}}const Ya=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,Xa=new Set(["ar","bs","ca","cs","da","de","el","en","es","et","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"]),el=[],tl=new Map;async function rl(e){const t=ea();tl.has(e)||tl.set(e,async function(e,t){const r=[];for(const n of el)if(nl(n.pattern,e))try{return await n.fetchMessageBundle(e,t)}catch(e){r.push(e)}if(r.length)throw new ot("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:r});throw new ot("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}(e,t));const r=tl.get(e);return await il.add(r),r}function nl(e,t){return"string"==typeof e?t.startsWith(e):e.test(t)}ia((()=>{tl.clear()}));const il=new class{constructor(){this._numLoading=0}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then((()=>this._decrease()),(()=>this._decrease())),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=Bn())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}};async function sl(e,t,r,n){const i=t.exec(r);if(!i)throw new ot("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);const s=i[1]?`${i[1]}/`:"",o=i[2],a=function(e){if(!Ya.test(e))return null;const[,t,r]=Ya.exec(e),n=t+(r?"-"+r.toUpperCase():"");return Xa.has(n)?n:Xa.has(t)?t:null}(n),l=`${s}${o}.json`,c=a?`${s}${o}_${a}.json`:l;let u;try{u=await ol(e(c))}catch(t){if(c===l)throw new ot("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:t});try{u=await ol(e(l))}catch(e){throw new ot("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:e})}}return u}async function ol(e){if(s(ll.fetchBundleAsset))return ll.fetchBundleAsset(e);const t=await da(e,{responseType:"text"});return JSON.parse(t.data)}class al{constructor({base:e="",pattern:t,location:r=new URL(window.location.href)}){let i;i="string"==typeof r?e=>new URL(e,new URL(r,n.e.location)).href:r instanceof URL?e=>new URL(e,r).href:r,this.pattern="string"==typeof t?new RegExp(`^${t}`):t,this.getAssetUrl=i,e=e?e.endsWith("/")?e:e+"/":"",this.matcher=new RegExp(`^${e}(?:(.*)/)?(.*)$`)}fetchMessageBundle(e,t){return sl(this.getAssetUrl,this.matcher,e,t)}}const ll={},cl=k.getLogger("esri.assets");function ul(e){if(!n.l.assetsPath)throw cl.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new ot("assets:path-not-set","config.assetsPath is not set");return zt(n.l.assetsPath,e)}var hl;!function(e){if(!el.includes(e)){for(const t of tl.keys())nl(e.pattern,t)&&tl.delete(t);el.unshift(e)}}(function(e){return new al(e)}({pattern:"esri/",location:ul}));const pl=new ka({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let dl=hl=class extends Ui{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){"asc"!==e&&"desc"!==e||this._set("sortOrder",e)}clone(){return new hl({categories:this.categories?Object(n.o)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r,n;if(this.categories&&(r=this.categories.map((e=>Array.isArray(e)?JSON.stringify(e):e))),this.extent){const e=lo(this.extent,Ms.WGS84);e&&(n=`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`)}let i=this.query;!this.disableExtraQuery&&e.extraQuery&&(i="("+i+")"+e.extraQuery);const s={categories:r,bbox:n,q:i,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map((e=>pl.toJSON(e.trim()))).join(","),s.sortOrder=this.sortOrder),{query:{...t,...s}}}};i([Se()],dl.prototype,"categories",void 0),i([Se()],dl.prototype,"disableExtraQuery",void 0),i([Se({type:Qo})],dl.prototype,"extent",void 0),i([Se()],dl.prototype,"num",void 0),i([Se()],dl.prototype,"query",void 0),i([Se()],dl.prototype,"sortField",void 0),i([Se()],dl.prototype,"sortOrder",null),i([Se()],dl.prototype,"start",void 0),dl=hl=i([it("esri.portal.PortalQueryParams")],dl);var fl=dl;let yl=class extends Ui{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};i([Se()],yl.prototype,"nextQueryParams",void 0),i([Se()],yl.prototype,"queryParams",void 0),i([Se()],yl.prototype,"results",void 0),i([Se()],yl.prototype,"total",void 0),yl=i([it("esri.portal.PortalQueryResult")],yl);var ml=yl;let gl=class extends rs{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new ot("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};i([Se({type:Date})],gl.prototype,"created",void 0),i([Se()],gl.prototype,"id",void 0),i([Se()],gl.prototype,"portal",void 0),i([Se()],gl.prototype,"title",void 0),i([Se({readOnly:!0})],gl.prototype,"url",null),i([Se()],gl.prototype,"username",void 0),gl=i([it("esri.portal.PortalFolder")],gl);var vl=gl;let bl=class extends rs{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.get("portal.restUrl");return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal._request(this.url+"/categorySchema",e).then((t=>{const r=t.categorySchema||[];return r.some((e=>"contentCategorySetsGroupQuery.LivingAtlas"===e.source))?this._fetchCategorySchemaSet("LivingAtlas",e):r}))}fetchMembers(e){return this.portal._request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new ot("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(e,t){let r=F(fl,e);return parseFloat(this.portal.currentVersion)>5?(r=r||new fl,this.portal._queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new fl,r.query="group:"+this.id+(r.query?" "+r.query:""),this.portal.queryItems(r,t))}_fetchCategorySchemaSet(e,t){return this.portal._fetchSelf(this.portal.authMode,!0,t).then((e=>{const r=e.contentCategorySetsGroupQuery;if(r){const e=new fl;return e.disableExtraQuery=!0,e.num=1,e.query=r,this.portal.queryGroups(e,t)}throw new ot("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")})).then((r=>{if(r.total){const n=r.results[0],i=new fl;return i.num=1,i.query=`typekeywords:"${e}"`,n.queryItems(i,t)}throw new ot("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")})).then((e=>e.total?e.results[0].fetchData("json",t).then((e=>{const t=e&&e.categorySchema;return t&&t.length?t:[]})):[]))}};i([Se()],bl.prototype,"access",void 0),i([Se({type:Date})],bl.prototype,"created",void 0),i([Se()],bl.prototype,"description",void 0),i([Se()],bl.prototype,"id",void 0),i([Se()],bl.prototype,"isInvitationOnly",void 0),i([Se({type:Date})],bl.prototype,"modified",void 0),i([Se()],bl.prototype,"owner",void 0),i([Se()],bl.prototype,"portal",void 0),i([Se()],bl.prototype,"snippet",void 0),i([Se()],bl.prototype,"sortField",void 0),i([Se()],bl.prototype,"sortOrder",void 0),i([Se()],bl.prototype,"tags",void 0),i([Se()],bl.prototype,"thumbnail",void 0),i([Se({readOnly:!0})],bl.prototype,"thumbnailUrl",null),i([Se()],bl.prototype,"title",void 0),i([Se({readOnly:!0})],bl.prototype,"url",null),bl=i([it("esri.portal.PortalGroup")],bl);var _l,wl=bl,xl=Object.freeze({__proto__:null,default:wl});let Sl=_l=class extends rs{constructor(...e){super(...e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.get("portal.restUrl");return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e&&e.data,n=e&&e.folder,i={method:"post"};t&&(i.query=t.createPostQuery(),null!=r&&("string"==typeof r?i.query.text=r:"object"==typeof r&&(i.query.text=JSON.stringify(r))));let s=this.userContentUrl;return n&&(s+="/"+("string"==typeof n?n:n.id)),this.portal._request(s+"/addItem",i).then((e=>(t.id=e.id,t.portal=this.portal,t.loaded?t.reload():t.load())))}deleteItem(e){let t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal._request(t+`/items/${e.id}/delete`,{method:"post"}).then((()=>{e.id=null,e.portal=null}))}deleteItems(e){const t=this.userContentUrl+"/deleteItems",r=e.map((e=>e.id));if(r.length){const n={method:"post",query:{items:r.join(",")}};return this.portal._request(t,n).then((()=>{e.forEach((e=>{e.id=null,e.portal=null}))}))}return Promise.resolve(void 0)}fetchFolders(){return this.portal._request(this.userContentUrl,{query:{num:1}}).then((e=>{let t;return t=e&&e.folders?e.folders.map((e=>{const t=vl.fromJSON(e);return t.portal=this.portal,t})):[],t}))}fetchGroups(){return this.portal._request(this.url).then((e=>{let t;return t=e&&e.groups?e.groups.map((e=>{const t=wl.fromJSON(e);return t.portal=this.portal,t})):[],t}))}fetchItems(e){e||(e={});let t,r=this.userContentUrl;return e.folder&&(r+="/"+e.folder.id),Promise.resolve().then((function(){return Fl})).then((({default:n})=>{t=n;const i={folders:!1,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"};return this.portal._request(r,{query:i})})).then((e=>{let r;return e&&e.items?(r=e.items.map((e=>{const r=t.fromJSON(e);return r.portal=this.portal,r})),Promise.all(r.map((e=>e.load()))).catch((e=>e)).then((()=>({items:r,nextStart:e.nextStart,total:e.total})))):{items:[],nextStart:-1,total:0}}))}fetchTags(){return this.portal._request(this.url+"/tags").then((e=>e.tags))}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new wl({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new ot("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new ot("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new _l;return t.sourceJSON=e,t.read(e),t}};i([Se()],Sl.prototype,"access",void 0),i([Se({type:Date})],Sl.prototype,"created",void 0),i([Se()],Sl.prototype,"culture",void 0),i([Se()],Sl.prototype,"description",void 0),i([Se()],Sl.prototype,"email",void 0),i([Se()],Sl.prototype,"favGroupId",void 0),i([Se()],Sl.prototype,"fullName",void 0),i([Se({type:Date})],Sl.prototype,"modified",void 0),i([Se()],Sl.prototype,"orgId",void 0),i([Se()],Sl.prototype,"portal",void 0),i([Se()],Sl.prototype,"preferredView",void 0),i([Se()],Sl.prototype,"privileges",void 0),i([Se()],Sl.prototype,"region",void 0),i([Se()],Sl.prototype,"role",void 0),i([Se()],Sl.prototype,"roleId",void 0),i([Se()],Sl.prototype,"sourceJSON",void 0),i([Se()],Sl.prototype,"thumbnail",void 0),i([Se({readOnly:!0})],Sl.prototype,"thumbnailUrl",null),i([Se()],Sl.prototype,"units",void 0),i([Se({readOnly:!0})],Sl.prototype,"userContentUrl",null),i([Se({readOnly:!0})],Sl.prototype,"url",null),i([Se()],Sl.prototype,"username",void 0),i([Se()],Sl.prototype,"userType",void 0),Sl=_l=i([it("esri.portal.PortalUser")],Sl);var Ol,Ml=Sl,Al=Object.freeze({__proto__:null,default:Ml});let Tl;const Ll={PortalGroup:()=>Promise.resolve().then((function(){return xl})),PortalItem:()=>Promise.resolve().then((function(){return Fl})),PortalUser:()=>Promise.resolve().then((function(){return Al}))};let kl=Ol=class extends(Xi(Hs)){constructor(e){super(e),this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=n.l.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return"string"==typeof e?{url:e}:e}destroy(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)-1===n.l.request.trustedServers.indexOf(t)&&n.l.request.trustedServers.push(t);return e}readDefaultBasemap(e){if(e){const t=Tl.fromJSON(e);return t.portalItem={portal:this},t}return null}readDefaultVectorBasemap(e){if(e){const t=Tl.fromJSON(e);return t.portalItem={portal:this},t}return null}get extraQuery(){const e=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e?e.toLowerCase():e}readUser(e){let t=null;return e&&(t=Ml.fromJSON(e),t.portal=this),t}load(e){const t=Promise.resolve().then((function(){return ic})).then((({default:t})=>{Nn(e),Tl=t})).then((()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,e))).then((e=>{if(aa){const e=aa;this.credential=e.findCredential(this.restUrl),this.credential||this.authMode!==Ol.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=e.on("credential-create",(()=>{e.findCredential(this.restUrl)&&this._signIn()})))}this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}async createClosestFacilityTask(){await this.load();const e=this._getHelperServiceUrl("closestFacility");return new((await Promise.all([r.e(0),r.e(36)]).then(r.bind(null,231))).default)(e)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await Promise.all([r.e(0),r.e(13)]).then(r.bind(null,226))).default;return e?e.map((e=>new t({id:e.id,url:e.url}))):[]}async createGeometryService(){await this.load();const e=this._getHelperServiceUrl("geometry");return new((await r.e(8).then(r.bind(null,223))).default)({url:e})}async createPrintTask(){await this.load();const e=this._getHelperServiceUrl("printTask");return new((await Promise.all([r.e(0),r.e(71)]).then(r.bind(null,232))).default)(e)}async createRouteTask(){await this.load();const e=this._getHelperServiceUrl("route");return new((await Promise.all([r.e(0),r.e(76)]).then(r.bind(null,233))).default)(e)}async createServiceAreaTask(){await this.load();const e=this._getHelperServiceUrl("serviceArea");return new((await Promise.all([r.e(0),r.e(79)]).then(r.bind(null,234))).default)(e)}fetchBasemaps(e,t){const r=new fl;return r.query=e||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0,this.queryGroups(r,t).then((e=>{if(r.num=100,r.query='type:"Web Map" -type:"Web Application"',e.total){const n=e.results[0];return r.sortField=n.sortField||"name",r.sortOrder=n.sortOrder||"desc",n.queryItems(r,t)}return null})).then((e=>{let t;return t=e&&e.total?e.results.filter((e=>"Web Map"===e.type)).map((e=>new Tl({portalItem:e}))):[],t}))}fetchCategorySchema(e){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",e).then((e=>e.categorySchema)):Un(e)?Promise.reject(jn()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new fl;if(r.num=100,r.sortField="title",t&&t.length){const n=[];for(const e of t)n.push(`(title:"${e.title}" AND owner:${e.owner})`);return r.query=n.join(" OR "),this.queryGroups(r,e).then((e=>e.results))}return Un(e)?Promise.reject(jn()):Promise.resolve([])}fetchRegions(e){const t=this.user&&this.user.culture||this.culture||ea();return this._request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}static getDefault(){return Ol._default&&!Ol._default.destroyed||(Ol._default=new Ol),Ol._default}queryGroups(e,t){return this._queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this._queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this._queryPortal("/community/users",e,"PortalUser",t)}toJSON(){throw new ot("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Ol({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new ot("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}_getHelperServiceUrl(e){const t=this._getHelperService(e);if(!t.url)throw new ot("portal:service-url-not-found",`The \`helperServices\` entry "${e}" does not include a \`url\` value`);return t.url}_fetchSelf(e=this.authMode,t=!1,r){const n=this.restUrl+"/portals/self",i={authMode:e,query:{culture:ea().toLowerCase()},...r};return"auto"===i.authMode&&(i.authMode="no-prompt"),t&&(i.query.default=!0),this._request(n,i)}_queryPortal(e,t,r,n){const i=F(fl,t),s=t=>this._request(this.restUrl+e,{...i.toRequestOptions(this),...n}).then((e=>{const r=i.clone();return r.start=e.nextStart,new ml({nextQueryParams:r,queryParams:i,total:e.total,results:Ol._resultsToTypedArray(t,{portal:this},e,n)})})).then((e=>Promise.all(e.results.map((t=>"function"==typeof t.when?t.when():e))).then((()=>e),(t=>(qn(t),e)))));return r&&Ll[r]?Ll[r]().then((({default:e})=>(Nn(n),s(e)))):s()}_signIn(){if(this.authMode===Ol.AUTH_MODE_ANONYMOUS)return Promise.reject(new ot("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const e=e=>Promise.resolve().then((()=>"not-loaded"===this.loadStatus?(e||(this.authMode="immediate"),this.load().then((()=>null))):"loading"===this.loadStatus?this.load().then((()=>this.credential?null:(this.credential=e,this._fetchSelf("immediate")))):this.user&&this.credential===e?null:(this.credential=e,this._fetchSelf("immediate")))).then((e=>{e&&(this.sourceJSON=e,this.read(e))}));return aa?aa.getCredential(this.restUrl).then((t=>e(t))):e(this.credential)}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_normalizeUrl(e){const t=this.credential&&this.credential.token;return this._normalizeSSL(t?e+(e.indexOf("?")>-1?"&":"?")+"token="+t:e)}_requestToTypedArray(e,t,r){return this._request(e,t).then((e=>{const t=Ol._resultsToTypedArray(r,{portal:this},e);return Promise.all(t.map((t=>"function"==typeof t.when?t.when():e))).then((()=>t),(()=>t))}))}_request(e,t={}){const r={f:"json",...t.query},{authMode:n=(this.authMode===Ol.AUTH_MODE_ANONYMOUS?"anonymous":"auto"),body:i=null,cacheBust:s=!1,method:o="auto",responseType:a="json",signal:l}=t,c={authMode:n,body:i,cacheBust:s,method:o,query:r,responseType:a,timeout:0,signal:l};return da(this._normalizeSSL(e),c).then((e=>e.data))}static _resultsToTypedArray(e,t,r,n){let i;if(r){const o=s(n)?n.signal:null;i=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(i=i.map((r=>{const n=Object.assign(e?e.fromJSON(r):r,t);return"function"==typeof n.load&&n.load(o),n})))}else i=[];return i}};kl.AUTH_MODE_ANONYMOUS="anonymous",kl.AUTH_MODE_AUTO="auto",kl.AUTH_MODE_IMMEDIATE="immediate",i([Se()],kl.prototype,"access",void 0),i([Se()],kl.prototype,"allSSL",void 0),i([Se()],kl.prototype,"authMode",void 0),i([Se()],kl.prototype,"authorizedCrossOriginDomains",void 0),i([Zs("authorizedCrossOriginDomains")],kl.prototype,"readAuthorizedCrossOriginDomains",null),i([Se()],kl.prototype,"basemapGalleryGroupQuery",void 0),i([Se()],kl.prototype,"bingKey",void 0),i([Se()],kl.prototype,"canListApps",void 0),i([Se()],kl.prototype,"canListData",void 0),i([Se()],kl.prototype,"canListPreProvisionedItems",void 0),i([Se()],kl.prototype,"canProvisionDirectPurchase",void 0),i([Se()],kl.prototype,"canSearchPublic",void 0),i([Se()],kl.prototype,"canShareBingPublic",void 0),i([Se()],kl.prototype,"canSharePublic",void 0),i([Se()],kl.prototype,"canSignInArcGIS",void 0),i([Se()],kl.prototype,"canSignInIDP",void 0),i([Se()],kl.prototype,"colorSetsGroupQuery",void 0),i([Se()],kl.prototype,"commentsEnabled",void 0),i([Se({type:Date})],kl.prototype,"created",void 0),i([Se()],kl.prototype,"credential",void 0),i([Se()],kl.prototype,"culture",void 0),i([Se()],kl.prototype,"currentVersion",void 0),i([Se()],kl.prototype,"customBaseUrl",void 0),i([Se()],kl.prototype,"defaultBasemap",void 0),i([Zs("defaultBasemap")],kl.prototype,"readDefaultBasemap",null),i([Se({type:Qo})],kl.prototype,"defaultExtent",void 0),i([Se()],kl.prototype,"defaultVectorBasemap",void 0),i([Zs("defaultVectorBasemap")],kl.prototype,"readDefaultVectorBasemap",null),i([Se()],kl.prototype,"description",void 0),i([Se()],kl.prototype,"eueiEnabled",void 0),i([Se({readOnly:!0})],kl.prototype,"extraQuery",null),i([Se()],kl.prototype,"featuredGroups",void 0),i([Se()],kl.prototype,"featuredItemsGroupQuery",void 0),i([Se()],kl.prototype,"galleryTemplatesGroupQuery",void 0),i([Se()],kl.prototype,"livingAtlasGroupQuery",void 0),i([Se()],kl.prototype,"hasCategorySchema",void 0),i([Se()],kl.prototype,"helpBase",void 0),i([Se()],kl.prototype,"helperServices",void 0),i([Se()],kl.prototype,"helpMap",void 0),i([Se()],kl.prototype,"homePageFeaturedContent",void 0),i([Se()],kl.prototype,"homePageFeaturedContentCount",void 0),i([Se()],kl.prototype,"httpPort",void 0),i([Se()],kl.prototype,"httpsPort",void 0),i([Se()],kl.prototype,"id",void 0),i([Se()],kl.prototype,"ipCntryCode",void 0),i([Se({readOnly:!0})],kl.prototype,"isOrganization",null),i([Se()],kl.prototype,"isPortal",void 0),i([Se()],kl.prototype,"isReadOnly",void 0),i([Se()],kl.prototype,"layerTemplatesGroupQuery",void 0),i([Se()],kl.prototype,"maxTokenExpirationMinutes",void 0),i([Se({type:Date})],kl.prototype,"modified",void 0),i([Se()],kl.prototype,"name",void 0),i([Se()],kl.prototype,"portalHostname",void 0),i([Se()],kl.prototype,"portalMode",void 0),i([Se()],kl.prototype,"portalProperties",void 0),i([Se()],kl.prototype,"region",void 0),i([Se({readOnly:!0})],kl.prototype,"restUrl",null),i([Se()],kl.prototype,"rotatorPanels",void 0),i([Se()],kl.prototype,"showHomePageDescription",void 0),i([Se()],kl.prototype,"sourceJSON",void 0),i([Se()],kl.prototype,"staticImagesUrl",void 0),i([Se()],kl.prototype,"stylesGroupQuery",void 0),i([Se()],kl.prototype,"supportsHostedServices",void 0),i([Se()],kl.prototype,"symbolSetsGroupQuery",void 0),i([Se()],kl.prototype,"templatesGroupQuery",void 0),i([Se()],kl.prototype,"thumbnail",void 0),i([Se({readOnly:!0})],kl.prototype,"thumbnailUrl",null),i([Se()],kl.prototype,"units",void 0),i([Se()],kl.prototype,"url",void 0),i([Se()],kl.prototype,"urlKey",void 0),i([Zs("urlKey")],kl.prototype,"readUrlKey",null),i([Se()],kl.prototype,"user",void 0),i([Zs("user")],kl.prototype,"readUser",null),i([Se()],kl.prototype,"useStandardizedQuery",void 0),i([Se()],kl.prototype,"useVectorBasemaps",void 0),i([Se()],kl.prototype,"vectorBasemapGalleryGroupQuery",void 0),kl=Ol=i([it("esri.portal.Portal")],kl);var Pl=kl;function Cl(e,t,r){return Vn(e.map(((e,n)=>t.apply(r,[e,n]))))}function Il(e){return e.then((e=>({ok:!0,value:e}))).catch((e=>({ok:!1,error:e})))}function Rl(e){return e.then((e=>({ok:!0,value:e}))).catch((e=>(qn(e),{ok:!1,error:e})))}async function jl(e,t){return await e.load(),El(e,t)}async function El(e,t){const r=[],n=(...e)=>{for(const t of e)o(t)||(Array.isArray(t)?n(...t):qs.isCollection(t)?t.forEach((e=>n(e))):Hs.isLoadable(t)&&r.push(t))};t(n);let i=null;if(await function(e,t,r){return Vn(e.map(((e,n)=>t.apply(r,[e,n])))).then((e=>e.map((e=>e.value))))}(r,(async e=>{!1!==(await Il(function(e){return"loadAll"in e&&"function"==typeof e.loadAll}(e)?e.loadAll():e.load())).ok||i||(i=e)})),i)throw i.loadError;return e}const Nl=k.getLogger("esri.portal.PortalItemResource");let Gl=class extends Ui{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e&&e.portalItem&&e.path?{...e,path:this.normalizePath(e.path,e.portalItem)}:e}set path(e){s(e)&&Wt(e)?Nl.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return this.normalizePath(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const r=this.url;if(o(r))throw new ot("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(r,{responseType:e,signal:_(t,"signal")})}async update(e,t){return(await r.e(0).then(r.bind(null,91))).addOrUpdateResource(this,"update",e,t)}hasPath(){return s(this.path)}normalizePath(e,t){return o(e)?e:(e=e.replace(/^\/+/,""),s(t)&&Wt(e)&&(e=Ut(e,t.itemUrl)),e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};i([Se()],Gl.prototype,"portalItem",void 0),i([Se({type:String,value:null})],Gl.prototype,"path",null),i([ke("path")],Gl.prototype,"_castPath",null),i([Se({type:String,readOnly:!0})],Gl.prototype,"url",null),i([Se({type:String,readOnly:!0})],Gl.prototype,"itemRelativeUrl",null),Gl=i([it("esri.portal.PortalItemResource")],Gl);var Ul=Gl;let ql=class extends Ui{constructor(e){super(e),this.created=null,this.rating=null}};i([Se()],ql.prototype,"created",void 0),i([Se()],ql.prototype,"rating",void 0),ql=i([it("esri.portal.PortalRating")],ql);var zl,Dl=ql;let Wl=zl=class extends(Xi(Hs)){constructor(e){super(e),this.access=null,this.accessInformation=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(e){return D(zl,e)}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let r=e;return"Feature Service"===e||"Feature Collection"===e?r=t.indexOf("Table")>-1?"Table":t.indexOf("Route Layer")>-1?"Route Layer":t.indexOf("Markup")>-1?"Markup":"Feature Layer":"Image Service"===e?r=t.indexOf("Elevation 3D Layer")>-1?"Elevation Layer":t.indexOf("Tiled Imagery")>-1?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===e?r="Scene Layer":"Scene Package"===e?r="Scene Layer Package":"Stream Service"===e?r="Feature Layer":"Geoprocessing Service"===e&&this.portal&&this.portal.isPortal?r=t.indexOf("Web Tool")>-1?"Tool":"Geoprocessing Service":"Geocoding Service"===e?r="Locator":"Geoenrichment Service"===e?r="GeoEnrichment Service":"Microsoft Powerpoint"===e?r="Microsoft PowerPoint":"GeoJson"===e?r="GeoJSON":"Globe Service"===e?r="Globe Layer":"Vector Tile Service"===e?r="Tile Layer":"netCDF"===e?r="NetCDF":"Map Service"===e?r=-1===t.indexOf("Spatiotemporal")&&(t.indexOf("Hosted Service")>-1||t.indexOf("Tiled")>-1)&&-1===t.indexOf("Relational")?"Tile Layer":"Map Image Layer":e&&e.toLowerCase().indexOf("add in")>-1?r=e.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===e?r="Big Data File Share":"Compact Tile Package"===e&&(r="Tile Package (tpkx)"),r}readExtent(e){return e&&e.length?new Qo(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type&&this.type.toLowerCase()||"",t=this.typeKeywords||[];let r,n=!1,i=!1,s=!1,o=!1,a=!1,l=!1;return e.indexOf("service")>0||"feature collection"===e||"kml"===e||"wms"===e||"wmts"===e||"wfs"===e?(n=t.indexOf("Hosted Service")>-1,"feature service"===e||"feature collection"===e||"kml"===e||"wfs"===e?(i=t.indexOf("Table")>-1,s=t.indexOf("Route Layer")>-1,o=t.indexOf("Markup")>-1,a=-1!==t.indexOf("Spatiotemporal"),l=-1!==t.indexOf("UtilityNetwork"),r=a&&i?"spatiotemporaltable":i?"table":s?"routelayer":o?"markup":a?"spatiotemporal":n?"featureshosted":l?"utilitynetwork":"features"):r="map service"===e||"wms"===e||"wmts"===e?n||t.indexOf("Tiled")>-1||"wmts"===e?"maptiles":"mapimages":"scene service"===e?t.indexOf("Line")>-1?"sceneweblayerline":t.indexOf("3DObject")>-1?"sceneweblayermultipatch":t.indexOf("Point")>-1?"sceneweblayerpoint":t.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":t.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":t.indexOf("Polygon")>-1?"sceneweblayerpolygon":t.indexOf("Building")>-1?"sceneweblayerbuilding":"sceneweblayer":"image service"===e?t.indexOf("Elevation 3D Layer")>-1?"elevationlayer":t.indexOf("Tiled Imagery")>-1?"tiledimagerylayer":"imagery":"stream service"===e?"streamlayer":"vector tile service"===e?"vectortile":"datastore catalog service"===e?"datastorecollection":"geocoding service"===e?"geocodeservice":"geoprocessing service"===e&&t.indexOf("Web Tool")>-1&&this.portal&&this.portal.isPortal?"tool":"layers"):r="web map"===e||"cityengine web scene"===e?"maps":"web scene"===e?t.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":"web mapping application"===e||"mobile application"===e||"application"===e||"operation view"===e||"desktop application"===e?"apps":"map document"===e||"map package"===e||"published map"===e||"scene document"===e||"globe document"===e||"basemap package"===e||"mobile basemap package"===e||"mobile map package"===e||"project package"===e||"project template"===e||"pro map"===e||"layout"===e||"layer"===e&&t.indexOf("ArcGIS Pro")>-1||"explorer map"===e&&t.indexOf("Explorer Document")?"mapsgray":"service definition"===e||"csv"===e||"shapefile"===e||"cad drawing"===e||"geojson"===e||"360 vr experience"===e||"netcdf"===e||"administrative report"===e?"datafiles":"explorer add in"===e||"desktop add in"===e||"windows viewer add in"===e||"windows viewer configuration"===e?"appsgray":"arcgis pro add in"===e||"arcgis pro configuration"===e?"addindesktop":"rule package"===e||"file geodatabase"===e||"sqlite geodatabase"===e||"csv collection"===e||"kml collection"===e||"windows mobile package"===e||"map template"===e||"desktop application template"===e||"gml"===e||"arcpad package"===e||"code sample"===e||"form"===e||"document link"===e||"earth configuration"===e||"operations dashboard add in"===e||"rules package"===e||"image"===e||"workflow manager package"===e||"explorer map"===e&&t.indexOf("Explorer Mapping Application")>-1||t.indexOf("Document")>-1?"datafilesgray":"network analysis service"===e||"geoprocessing service"===e||"geodata service"===e||"geometry service"===e||"geoprocessing package"===e||"locator package"===e||"geoprocessing sample"===e||"workflow manager service"===e?"toolsgray":"layer"===e||"layer package"===e||"explorer layer"===e?"layersgray":"scene package"===e?"scenepackage":"mobile scene package"===e?"mobilescenepackage":"tile package"===e||"compact tile package"===e?"tilepackage":"task file"===e?"taskfile":"report template"===e?"report-template":"statistical data collection"===e?"statisticaldatacollection":"insights workbook"===e?"workbook":"insights model"===e?"insightsmodel":"insights page"===e?"insightspage":"insights theme"===e?"insightstheme":"hub initiative"===e?"hubinitiative":"hubpage"===e?"hubpage":"hub event"===e?"hubevent":"hub site application"===e?"hubsite":"relational database connection"===e?"relationaldatabaseconnection":"big data file share"===e?"datastorecollection":"image collection"===e?"imagecollection":"style"===e?"style":"desktop style"===e?"desktopstyle":"dashboard"===e?"dashboard":"raster function template"===e?"rasterprocessingtemplate":"vector tile package"===e?"vectortilepackage":"ortho mapping project"===e?"orthomappingproject":"ortho mapping template"===e?"orthomappingtemplate":"solution"===e?"solutions":"geopackage"===e?"geopackage":"deep learning package"===e?"deeplearningpackage":"real time analytic"===e?"realtimeanalytics":"big data analytic"===e?"bigdataanalytics":"feed"===e?"feed":"excalibur imagery project"===e?"excaliburimageryproject":"notebook"===e?"notebook":"storymap"===e?"storymap":"survey123 add in"===e?"survey123addin":"mission"===e?"mission":"mission report"===e?"missionreport":"quickcapture project"===e?"quickcaptureproject":"pro report"===e?"proreport":"urban model"===e?"urbanmodel":"web experience"===e?"experiencebuilder":"web experience template"===e?"webexperiencetemplate":"workflow"===e?"workflow":"insights script"===e?"insightsscript":"kernel gateway connection"===e?"kernelgatewayconnection":"hub initiative template"===e?"hubinitiativetemplate":"storymap theme"===e?"storymaptheme":"knowledge graph"===e?"knowledgegraph":"maps",r?ul("esri/images/portal/"+r+"16.png"):null}get isLayer(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].indexOf(this.type)>-1}get itemUrl(){const e=this.get("portal.restUrl");return e?e+"/content/items/"+this.id:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userItemUrl(){const e=this.get("portal.restUrl");if(!e)return null;const t=this.owner||this.get("portal.user.username");return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){this.portal||(this.portal=Pl.getDefault());const t=this.portal.load(e).then((()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:s(e)?e.signal:null}):{})).then((e=>{this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}addRating(e){const t={method:"post",query:{}};return e instanceof Dl&&(e=e.rating),isNaN(e)||"number"!=typeof e||(t.query.rating=e),this.portal._request(this.itemUrl+"/addRating",t).then((()=>new Dl({rating:e,created:new Date})))}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:Object(n.o)(this.applicationProxies),avgRating:this.avgRating,categories:Object(n.o)(this.categories),created:Object(n.o)(this.created),culture:this.culture,description:this.description,extent:Object(n.o)(this.extent),groupCategories:Object(n.o)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:Object(n.o)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:Object(n.o)(this.screenshots),size:this.size,snippet:this.snippet,tags:Object(n.o)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:Object(n.o)(this.typeKeywords),url:this.url};return this.loaded&&(e.loadStatus="loaded"),new zl({sourceJSON:this.sourceJSON}).set(e)}createPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}deleteRating(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then((()=>{}))}fetchData(e="json",t){return this.portal._request(this.itemUrl+"/data",{responseType:e,...t})}fetchRating(e){return this.portal._request(this.itemUrl+"/rating",e).then((e=>null!=e.rating?(e.created=new Date(e.created),new Dl(e)):null))}fetchRelatedItems(e,t){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",{query:e,...t},zl)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0}).then((e=>(this.sourceJSON=e,this.read(e),this)))}update(e){return this.id?this.load().then((()=>this.portal._signIn())).then((()=>{const t=e&&e.data,r={method:"post"};r.query=this.createPostQuery();for(const e in r.query)null===r.query[e]&&(r.query[e]="");return r.query.clearEmptyFields=!0,null!=t&&("string"==typeof t?r.query.text=t:"object"==typeof t&&(r.query.text=JSON.stringify(t))),this.portal._request(`${this.userItemUrl}/update`,r).then((()=>this.reload()))})):Promise.reject(new ot("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}updateThumbnail(e){return this.id?this.load().then((()=>this.portal._signIn())).then((()=>{const t=e.thumbnail,r=e.filename,n={method:"post"};if("string"==typeof t)Ft(t)?n.query={data:t}:n.query={url:Gt(t)},s(r)&&(n.query.filename=r);else{const e=new FormData;s(r)?e.append("file",t,r):e.append("file",t),n.body=e}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,n).then((()=>this.reload()))})):Promise.reject(new ot("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){return(await r.e(0).then(r.bind(null,91))).fetchResources(this,e,t)}async addResource(e,t,n){const i=await r.e(0).then(r.bind(null,91));return e.portalItem=this,i.addOrUpdateResource(e,"add",t,n)}async removeResource(e,t){const n=await r.e(0).then(r.bind(null,91));if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new ot("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return n.removeResource(this,e,t)}async removeAllResources(e){return(await r.e(0).then(r.bind(null,91))).removeAllResources(this,e)}resourceFromPath(e){return new Ul({portalItem:this,path:e})}toJSON(){const e=this.extent,t={created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return Object(n.j)(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new zl({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};i([Se({type:["private","shared","org","public"]})],Wl.prototype,"access",void 0),i([Se()],Wl.prototype,"accessInformation",void 0),i([Se({json:{read:{source:"appProxies"}}})],Wl.prototype,"applicationProxies",void 0),i([Se()],Wl.prototype,"avgRating",void 0),i([Se()],Wl.prototype,"categories",void 0),i([Se({type:Date})],Wl.prototype,"created",void 0),i([Se()],Wl.prototype,"culture",void 0),i([Se()],Wl.prototype,"description",void 0),i([Se({readOnly:!0})],Wl.prototype,"displayName",null),i([Se({type:Qo})],Wl.prototype,"extent",void 0),i([Zs("extent")],Wl.prototype,"readExtent",null),i([Se()],Wl.prototype,"groupCategories",void 0),i([Se({readOnly:!0})],Wl.prototype,"iconUrl",null),i([Se()],Wl.prototype,"id",void 0),i([Se({readOnly:!0})],Wl.prototype,"isLayer",null),i([Se()],Wl.prototype,"itemControl",void 0),i([Se({readOnly:!0})],Wl.prototype,"itemUrl",null),i([Se()],Wl.prototype,"licenseInfo",void 0),i([Se({type:Date})],Wl.prototype,"modified",void 0),i([Se()],Wl.prototype,"name",void 0),i([Se()],Wl.prototype,"numComments",void 0),i([Se()],Wl.prototype,"numRatings",void 0),i([Se()],Wl.prototype,"numViews",void 0),i([Se()],Wl.prototype,"owner",void 0),i([Se()],Wl.prototype,"ownerFolder",void 0),i([Se({type:Pl})],Wl.prototype,"portal",void 0),i([Se()],Wl.prototype,"screenshots",void 0),i([Se()],Wl.prototype,"size",void 0),i([Se()],Wl.prototype,"snippet",void 0),i([Se()],Wl.prototype,"sourceJSON",void 0),i([Se()],Wl.prototype,"tags",void 0),i([Se()],Wl.prototype,"thumbnail",void 0),i([Se({readOnly:!0})],Wl.prototype,"thumbnailUrl",null),i([Se()],Wl.prototype,"title",void 0),i([Se()],Wl.prototype,"type",void 0),i([Se()],Wl.prototype,"typeKeywords",void 0),i([Se()],Wl.prototype,"url",void 0),i([Se({readOnly:!0})],Wl.prototype,"userItemUrl",null),Wl=zl=i([it("esri.portal.PortalItem")],Wl);var $l=Wl,Fl=Object.freeze({__proto__:null,default:$l});const Jl={streets:{id:"streets",get thumbnailUrl(){return ul("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",get thumbnailUrl(){return ul("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",get thumbnailUrl(){return ul("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Boundaries and Places",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",get thumbnailUrl(){return ul("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",get thumbnailUrl(){return ul("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",get thumbnailUrl(){return ul("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",get thumbnailUrl(){return ul("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",get thumbnailUrl(){return ul("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",get thumbnailUrl(){return ul("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",get thumbnailUrl(){return ul("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",get thumbnailUrl(){return ul("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",get thumbnailUrl(){return ul("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",get thumbnailUrl(){return ul("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",get thumbnailUrl(){return ul("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",get thumbnailUrl(){return ul("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",get thumbnailUrl(){return ul("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",get thumbnailUrl(){return ul("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return ul("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return ul("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return ul("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return ul("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return ul("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return ul("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return ul("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return ul("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return ul("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return ul("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}},Bl=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile"]),Vl=new Set(["csv","feature","geo-rss","group","imagery","imagery-tile","kml","map-image","map-notes","tile","unknown","unsupported","vector-tile","web-tile"]);function Hl(e){return!("feature"!==e.type||e.url||!e.source||"memory"!==e.source.type)}function Zl(e,t){if(t.restrictedWebMapWriting){const r=function(e){return"basemap"===e.layerContainerType?Bl:"operational-layers"===e.layerContainerType?Vl:null}(t);return!s(r)||r.has(e.type)&&!Hl(e)}return!0}function Ql(e,t){"maxScale"in e&&(t.maxScale=He(e.maxScale)),"minScale"in e&&(t.minScale=He(e.minScale))}function Kl(e,t){if(function(e,t){if(Hl(e)){const r=Object(n.m)("featureCollection.layers",t),i=r&&r[0]&&r[0].layerDefinition;i&&Ql(e,i)}else"stream"===e.type?Ql(e,t.layerDefinition=t.layerDefinition||{}):"group"!==e.type&&Ql(e,t)}(e,t),"blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=He(e.opacity),t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type)if(Hl(e)){const r=t.featureCollection;r&&(r.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function Yl(e,t,r){if(!("write"in e)||!e.write)return r&&r.messages&&r.messages.push(new ot("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(Zl(e,r)){const t={};return e.write(t,r)?t:null}return s(t)&&Kl(e,t=Object(n.o)(t)),t}var Xl;let ec=0;const tc=k.getLogger("esri.Basemap");let rc=Xl=class extends(Xi(Hs)){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+ec++,this.baseLayers=new qs,this.referenceLayers=new qs;const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"===e.type&&tc.error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=e=>{e.parent=null};this.baseLayers.on("after-add",(e=>t(e.item))),this.referenceLayers.on("after-add",(e=>t(e.item))),this.baseLayers.on("after-remove",(e=>r(e.item))),this.referenceLayers.on("after-remove",(e=>r(e.item)))}initialize(){this.when().catch((e=>{tc.error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var e;const t=this.baseLayers.removeAll();for(const e of t)e.destroy();const r=this.referenceLayers.removeAll();for(const e of r)e.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),null==(e=this.portalItem)||e.destroy(),this.portalItem=null}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",zs(e,this._get("baseLayers")))}_writeBaseLayers(e,t,r){const n=[];e?(r={...r,layerContainerType:"basemap"},this.baseLayers.forEach((e=>{const t=Yl(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);s(t)&&n.push(t)})),this.referenceLayers.forEach((e=>{const t=Yl(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);s(t)&&(t.isReference=!0,n.push(t))})),t.baseMapLayers=n):t.baseMapLayers=n}set referenceLayers(e){this._set("referenceLayers",zs(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return jl(this,(e=>{e(this.baseLayers,this.referenceLayers)}))}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(e.loadStatus="loaded"),new Xl({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t&&t.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map((e=>{const t=Object(n.o)(e);return t.url&&Zt(t.url)&&(t.url=`https:${t.url}`),t.templateUrl&&Zt(t.templateUrl)&&(t.templateUrl=`https:${t.templateUrl}`),t}))),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:r}=this;Nn(e);const n=[];if(t){const r=t.context?t.context.url:null;if(n.push(this._loadLayersFromJSON(t.data,r,e)),t.data.id&&!t.data.title){const e=t.data.id;n.push(async function(e){if(!e)return;const t=e.indexOf("-vector")>-1?e.slice(0,e.indexOf("-vector")):e,r=await rl("esri/t9n/basemaps");return r[e]||r[t]}(e).then((e=>{e&&this.read({title:e},t.context)})))}}else r&&n.push(this._loadFromItem(r,e));await Promise.all(n)}async _loadLayersFromJSON(e,t,n){const i=this.resourceInfo&&this.resourceInfo.context,s=this.portalItem&&this.portalItem.portal||i&&i.portal||null,o=i&&"web-scene"===i.origin?"web-scene":"web-map",{populateOperationalLayers:a}=await Promise.all([r.e(0),r.e(18)]).then(r.bind(null,171)),l=[];if(Nn(n),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const r={context:{origin:o,url:t,portal:s,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},n=a(this.baseLayers,e.baseMapLayers.filter((e=>!e.isReference)),r);l.push(n);const i=a(this.referenceLayers,e.baseMapLayers.filter((e=>e.isReference)),r);l.push(i)}await Vn(l)}async _loadFromItem(e,t){const r=await e.load(t),n=await r.fetchData("json",t),i=xt(e.itemUrl);return this._set("resourceInfo",{data:n.baseMap,context:{origin:"web-map",portal:e.portal||Pl.getDefault(),url:i}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||Pl.getDefault(),url:i}),this._loadLayersFromJSON(this.resourceInfo.data,i,t)}static fromId(e){const t=Jl[e];return t?Xl.fromJSON(t):null}};i([Se({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,r,n){this._writeBaseLayers(e,t,n)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:qs}},writer(e,t,r,n){this._writeBaseLayers(e,t,n)}}}}}})],rc.prototype,"baseLayers",null),i([Se({type:String,json:{origins:{"web-scene":{write:!0}}}})],rc.prototype,"id",void 0),i([Se({type:$l})],rc.prototype,"portalItem",void 0),i([Se()],rc.prototype,"referenceLayers",null),i([Se({readOnly:!0})],rc.prototype,"resourceInfo",void 0),i([Se({type:Ms})],rc.prototype,"spatialReference",void 0),i([Se()],rc.prototype,"thumbnailUrl",void 0),i([Se({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],rc.prototype,"title",void 0),i([Di("title")],rc.prototype,"writeTitle",null),rc=Xl=i([it("esri.Basemap")],rc);var nc=rc,ic=Object.freeze({__proto__:null,default:nc});const sc={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,5,10]};function oc(e){var t;return null!=(t=sc[e.toLowerCase()])?t:null}function ac(e){const t=oc(e);return t?[...t]:t}function lc(e,t,r){r<0&&++r,r>1&&--r;const n=6*r;return n<1?e+(t-e)*n:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function cc(e,t,r,n=1){const i=(e%360+360)%360/360,s=r<=.5?r*(t+1):r+t-r*t,o=2*r-s;return[Math.round(256*lc(o,s,i+1/3)),Math.round(256*lc(o,s,i)),Math.round(256*lc(o,s,i-1/3)),n]}function uc(e){const t=e.length>5,r=t?8:4,n=(1<<r)-1,i=t?1:17,s=t?9===e.length:5===e.length;let o=Number("0x"+e.substr(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return s&&(l=o&n,o>>=r,a[3]=i*l/255),l=o&n,o>>=r,a[2]=i*l,l=o&n,o>>=r,a[1]=i*l,l=o&n,o>>=r,a[0]=i*l,a}const hc=new Float32Array(1);function pc(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function dc(e,t,r){return e<t?t:e>r?r:e}function fc(e,t,r){return Math.min(Math.max(e,t),r)}function yc(e){return 0==(e&e-1)}function mc(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}const gc=Math.sign||function(e){return+(e>0)-+(e<0)||+e},vc=Math.log2||function(e){return Math.log(e)/Math.LN2};function bc(e,t,r){return e+(t-e)*r}function _c(e){return e*Math.PI/180}function wc(e){return 180*e/Math.PI}function xc(e){return Math.acos(dc(e,-1,1))}function Sc(e){return Math.asin(dc(e,-1,1))}function Oc(e){return dc(E(e),0,255)}function Mc(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}!function(e){hc[0]=e,hc[0]}(34028234663852886e22);class Ac{constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}static blendColors(e,t,r,n=new Ac){return n.r=Math.round(e.r+(t.r-e.r)*r),n.g=Math.round(e.g+(t.g-e.g)*r),n.b=Math.round(e.b+(t.b-e.b)*r),n.a=e.a+(t.a-e.a)*r,n._sanitize()}static fromRgb(e,t){const r=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(r){const e=r[2].split(/\s*,\s*/),n=r[1];if("rgb"===n&&3===e.length||"rgba"===n&&4===e.length){const r=e[0];if("%"===r.charAt(r.length-1)){const r=e.map((e=>2.56*parseFloat(e)));return 4===e.length&&(r[3]=parseFloat(e[3])),Ac.fromArray(r,t)}return Ac.fromArray(e.map((e=>parseFloat(e))),t)}if("hsl"===n&&3===e.length||"hsla"===n&&4===e.length)return Ac.fromArray(cc(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])),t)}return null}static fromHex(e,t=new Ac){if(4!==e.length&&7!==e.length||"#"!==e[0])return null;const r=4===e.length?4:8,n=(1<<r)-1;let i=Number("0x"+e.substr(1));return isNaN(i)?null:(["b","g","r"].forEach((e=>{const s=i&n;i>>=r,t[e]=4===r?17*s:s})),t.a=1,t)}static fromArray(e,t=new Ac){return t._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(t.a)&&(t.a=1),t._sanitize()}static fromString(e,t){const r=oc(e);return r&&Ac.fromArray(r,t)||Ac.fromRgb(e,t)||Ac.fromHex(e,t)}static fromJSON(e){return e&&new Ac([e[0],e[1],e[2],e[3]/255])}static toUnitRGB(e){return s(e)?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return s(e)?[e.r/255,e.g/255,e.b/255,null!=e.a?e.a:1]:null}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(e){if("string"==typeof e)Ac.fromString(e,this);else if(Array.isArray(e))Ac.fromArray(e,this);else{var t,r,n,i;this._set(null!=(t=e.r)?t:0,null!=(r=e.g)?r:0,null!=(n=e.b)?n:0,null!=(i=e.a)?i:1),e instanceof Ac||this._sanitize()}return this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const e=this.r.toString(16),t=this.g.toString(16),r=this.b.toString(16);return`#${e.length<2?"0"+e:e}${t.length<2?"0"+t:t}${r.length<2?"0"+r:r}`}toCss(e=!1){const t=this.r+", "+this.g+", "+this.b;return e?`rgba(${t}, ${this.a})`:`rgb(${t})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=0){const t=Oc(this.r),r=Oc(this.g),n=Oc(this.b);return 0===e||1!==this.a?[t,r,n,Oc(255*this.a)]:[t,r,n]}clone(){return new Ac(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}_sanitize(){return this.r=Math.round(Mc(this.r,0,255)),this.g=Math.round(Mc(this.g,0,255)),this.b=Math.round(Mc(this.b,0,255)),this.a=Mc(this.a,0,1),this}_set(e,t,r,n){this.r=e,this.g=t,this.b=r,this.a=n}}function Tc(e){const t=E(100*(1-e));return Math.max(0,Math.min(t,100))}function Lc(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}function kc(e,t={ignoreUnknown:!0}){const r=e instanceof ka?e:new ka(e,t),n={type:null!=t&&t.ignoreUnknown?r.apiValues:String,readOnly:null==t?void 0:t.readOnly,json:{type:r.jsonValues,read:(null==t||!t.readOnly)&&{reader:r.read},write:{writer:r.write}}};return void 0!==(null==t?void 0:t.default)&&(n.json.default=t.default),Se(n)}Ac.prototype.declaredClass="esri.Color";let Pc=class extends Ui{constructor(e){super(e),this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach((t=>{e+=t.length})),e}add(e,t){if(!this._isHandle(e)&&!Array.isArray(e)&&!qs.isCollection(e))return this;const r=this._getOrCreateGroup(t);return Array.isArray(e)||qs.isCollection(e)?e.forEach((e=>this._isHandle(e)&&r.push(e))):r.push(e),this.notifyChange("size"),this}forEach(e,t){if("function"==typeof e)this._groups.forEach((t=>t.forEach(e)));else{const r=this._getGroup(e);r&&t&&r.forEach(t)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if(Array.isArray(e)||qs.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;const t=this._getGroup(e);for(let e=0;e<t.length;e++)t[e].remove();return this._deleteGroup(e),this.notifyChange("size"),this}removeAll(){return this._groups.forEach((e=>{for(let t=0;t<e.length;t++)e[t].remove()})),this._groups.clear(),this.notifyChange("size"),this}_isHandle(e){return e&&!!e.remove}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(this._ensureGroupKey(e),t),t}_getGroup(e){return this._groups.get(this._ensureGroupKey(e))}_deleteGroup(e){return this._groups.delete(this._ensureGroupKey(e))}_ensureGroupKey(e){return e||"_default_"}};i([Se({readOnly:!0})],Pc.prototype,"size",null),Pc=i([it("esri.core.Handles")],Pc);var Cc=Pc;const Ic=k.getLogger("esri.support.basemapUtils");function Rc(){return{}}function jc(e){for(const t in e){const r=e[t];!1===(null==r?void 0:r.destroyed)&&r.destroy(),delete e[t]}}function Ec(e,t){var r;let n;if("string"==typeof e){if(!(e in Jl)){const t=Object.keys(Jl).map((e=>`"${e}"`)).join(", ");return Ic.warn(`Unable to find basemap definition for: ${e}. Try one of these: ${t}`),null}t&&(n=t[e]),n||(n=nc.fromId(e),t&&(t[e]=n))}else n=F(nc,e);return null!=(r=n)&&r.destroyed&&(Ic.warn("The provided basemap is already destroyed",{basemap:n}),n=null),n}function Nc(e){let t=null;const r=function(e){return e?!e.loaded&&e.resourceInfo?qc(e.resourceInfo.data):{baseLayers:Gc(e.baseLayers),referenceLayers:Gc(e.referenceLayers)}:null}(e),n=!r.baseLayers.length;for(const e in Jl){const i=Dc(r,qc(Jl[e]),{mustMatchReferences:n});if("equal"===i){t=e;break}"base-layers-equal"===i&&(t=e)}return t}function Gc(e){return(qs.isCollection(e)?e.toArray():e).map(Uc)}function Uc(e){return{type:e.type,url:Fc("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl),minScale:"minScale"in e&&null!=e.minScale?e.minScale:0,maxScale:"maxScale"in e&&null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visible||!!e.visible}}function qc(e){return e?{baseLayers:zc(e.baseMapLayers.filter((e=>!e.isReference))),referenceLayers:zc(e.baseMapLayers.filter((e=>e.isReference)))}:null}function zc(e){return e.map((e=>function(e){let t;switch(e.layerType){case"VectorTileLayer":t="vector-tile";break;case"ArcGISTiledMapServiceLayer":t="tile";break;default:t="unknown"}return{type:t,url:Fc(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:null!=e.minScale?e.minScale:0,maxScale:null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visibility||!!e.visibility}}(e)))}function Dc(e,t,r){return null!=e!=(null!=t)?"not-equal":e?Wc(e.baseLayers,t.baseLayers)?Wc(e.referenceLayers,t.referenceLayers)?"equal":r.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function Wc(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!$c(e[r],t[r]))return!1;return!0}function $c(e,t){return e.type===t.type&&e.url===t.url&&e.minScale===t.minScale&&e.maxScale===t.maxScale&&e.visible===t.visible&&e.opacity===t.opacity}function Fc(e){return e?qt(e).replace(/^\s*https?:/i,"").toLowerCase():""}function Jc(e,t,r=!1){let{hasM:n,hasZ:i}=e;Array.isArray(t)?4!==t.length||n||i?3===t.length&&r&&!n?(i=!0,n=!1):3===t.length&&n&&i&&(n=!1,i=!1):(n=!0,i=!0):(i=!i&&t.hasZ&&(!n||t.hasM),n=!n&&t.hasM&&(!i||t.hasZ)),e.hasZ=i,e.hasM=n}var Bc;function Vc(e){return(t,r)=>null==t?r:null==r?t:e(t,r)}let Hc=Bc=class extends Ks{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return null;const r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):function(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}(e)?r.spatialReference=e:(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM));const n=r.points&&r.points[0];return n&&(void 0===r.hasZ&&void 0===r.hasM?(r.hasZ=n.length>2,r.hasM=!1):void 0===r.hasZ?r.hasZ=n.length>3:void 0===r.hasM&&(r.hasM=n.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new Qo,r=this.hasZ,n=this.hasM,i=r?3:2,s=e[0],o=Vc(Math.min),a=Vc(Math.max);let l,c,u,h,[p,d]=s,[f,y]=s;for(let t=0,s=e.length;t<s;t++){const s=e[t],[m,g]=s;if(p=o(p,m),d=o(d,g),f=a(f,m),y=a(y,g),r&&s.length>2){const e=s[2];l=o(l,e),u=a(u,e)}if(n&&s.length>i){const e=s[i];c=o(c,e),h=a(h,e)}}return t.xmin=p,t.ymin=d,t.xmax=f,t.ymax=y,t.spatialReference=this.spatialReference,r?(t.zmin=l,t.zmax=u):(t.zmin=null,t.zmax=null),n?(t.mmin=c,t.mmax=h):(t.mmin=null,t.mmax=null),t}writePoints(e,t){t.points=Object(n.o)(this.points)}addPoint(e){return Jc(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:Object(n.o)(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new Bc(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let n=2;return this.hasZ&&(r.z=t[2],n=3),this.hasM&&(r.m=t[n]),new bo(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new bo(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(Jc(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write(null,e)}_validateInputs(e){return null!=e&&e>=0&&e<this.points.length}};i([Se({readOnly:!0})],Hc.prototype,"cache",null),i([Se()],Hc.prototype,"extent",null),i([Se({type:[[Number]],json:{write:{isRequired:!0}}})],Hc.prototype,"points",void 0),i([Di("points")],Hc.prototype,"writePoints",null),Hc=Bc=i([it("esri.geometry.Multipoint")],Hc),Hc.prototype.toJSON.isDefaultToJSON=!0;var Zc=Hc;function Qc(e,t){const r=t[0]-e[0],n=t[1]-e[1];if(e.length>2&&t.length>2){const i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)}return Math.sqrt(r*r+n*n)}function Kc(e,t,r,n){const[i,s]=t,[o,a]=r[n],[l,c]=r[n+1],u=l-o,h=c-a,p=u*u+h*h,d=(i-o)*u+(s-a)*h,f=Math.min(1,Math.max(0,d/p));return e[0]=o+u*f,e[1]=a+h*f,e}function Yc(e,t){return function(e,t,r){const n=e[0]+r*(t[0]-e[0]),i=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[n,i,e[2]+r*(t[2]-e[2])]:[n,i]}(e,t,.5)}function Xc(e,t,r){const n=e.length;let i=0,s=0,o=0;for(let a=0;a<n;a++){const l=e[a],c=e[(a+1)%n];let u=2;i+=l[0]*c[1]-c[0]*l[1],l.length>2&&c.length>2&&r&&(s+=l[0]*c[2]-c[0]*l[2],u=3),l.length>u&&c.length>u&&t&&(o+=l[0]*c[u]-c[0]*l[u])}return i<=0&&s<=0&&o<=0}function eu(e){if("rings"in e){for(const t of e.rings)t.length<3||t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]||t.push([t[0][0],t[0][1]]);if(e.rings.length>0&&!Xc(e.rings[0],e.hasM,e.hasZ))for(let t=0;t<e.rings.length;++t)e.rings[t]=e.rings[t].reverse()}}function tu(e){return e?function(e,t){if(!e||!e.length)return null;const r=[],n=[],i=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let r=0,s=e.length;r<s;r++){const s=ru(e[r],t,i);s&&n.push(s)}if(n.sort(((e,r)=>{let n=e[2]-r[2];return 0===n&&t&&(n=e[4]-r[4]),n})),n.length){let e=6*n[0][2];r[0]=n[0][0]/e,r[1]=n[0][1]/e,t&&(e=6*n[0][4],r[2]=0!==e?n[0][3]/e:0),(r[0]<i[0]||r[0]>i[1]||r[1]<i[2]||r[1]>i[3]||t&&(r[2]<i[4]||r[2]>i[5]))&&(r.length=0)}if(!r.length){const n=e[0]&&e[0].length?function(e,t){const r=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let i=0,s=0,o=0,a=0;for(let l=0,c=e.length;l<c-1;l++){const c=e[l],u=e[l+1];if(c&&u){r[0]=c[0],r[1]=c[1],n[0]=u[0],n[1]=u[1],t&&c.length>2&&u.length>2&&(r[2]=c[2],n[2]=u[2]);const e=Qc(r,n);if(e){i+=e;const r=Yc(c,u);s+=e*r[0],o+=e*r[1],t&&r.length>2&&(a+=e*r[2])}}}return i>0?t?[s/i,o/i,a/i]:[s/i,o/i]:e.length?e[0]:null}(e[0],t):null;if(!n)return null;r[0]=n[0],r[1]=n[1],t&&n.length>2&&(r[2]=n[2])}return r}(e.rings,e.hasZ):null}function ru(e,t,r){let n=0,i=0,s=0,o=0,a=0;for(let l=0;l<e.length;l++){const c=e[l],[u,h,p]=c,d=e[(l+1)%e.length],[f,y,m]=d;let g=u*y-f*h;o+=g,n+=(u+f)*g,i+=(h+y)*g,t&&c.length>2&&d.length>2&&(g=u*m-f*p,s+=(p+m)*g,a+=g),u<r[0]&&(r[0]=u),u>r[1]&&(r[1]=u),h<r[2]&&(r[2]=h),h>r[3]&&(r[3]=h),t&&(p<r[4]&&(r[4]=p),p>r[5]&&(r[5]=p))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;const l=[n,i,.5*o];return t&&(l[3]=s,l[4]=.5*a),l}function nu(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function iu(e){return void 0!==e.points}function su(e){return void 0!==e.x&&void 0!==e.y}function ou(e){return void 0!==e.paths}function au(e){return void 0!==e.rings}function lu(e){return(t,r)=>null==t?r:null==r?t:e(t,r)}const cu=lu(Math.min),uu=lu(Math.max);function hu(e,t){return ou(t)?du(e,t.paths,!1,!1):au(t)?du(e,t.rings,!1,!1):iu(t)?yu(e,t.points,!1,!1,!1,!1):nu(t)?fu(e,t):(su(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function pu(e,t){return ou(t)?du(e,t.paths,!0,!1):au(t)?du(e,t.rings,!0,!1):iu(t)?yu(e,t.points,!0,!1,!0,!1):nu(t)?fu(e,t,!0,!1,!0,!1):(su(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function du(e,t,r,n){const i=r?3:2;if(!t.length||!t[0].length)return null;let s,o,a,l,[c,u]=t[0][0],[h,p]=t[0][0];for(let e=0;e<t.length;e++){const d=t[e];for(let e=0;e<d.length;e++){const t=d[e],[f,y]=t;if(c=cu(c,f),u=cu(u,y),h=uu(h,f),p=uu(p,y),r&&t.length>2){const e=t[2];s=cu(s,e),o=uu(o,e)}if(n&&t.length>i){const e=t[i];a=cu(s,e),l=uu(o,e)}}}return r?n?(e[0]=c,e[1]=u,e[2]=s,e[3]=a,e[4]=h,e[5]=p,e[6]=o,e[7]=l,e.length=8,e):(e[0]=c,e[1]=u,e[2]=s,e[3]=h,e[4]=p,e[5]=o,e.length=6,e):n?(e[0]=c,e[1]=u,e[2]=a,e[3]=h,e[4]=p,e[5]=l,e.length=6,e):(e[0]=c,e[1]=u,e[2]=h,e[3]=p,e.length=4,e)}function fu(e,t,r,n,i,s){const o=t.xmin,a=t.xmax,l=t.ymin,c=t.ymax;let u=t.zmin,h=t.zmax,p=t.mmin,d=t.mmax;return i?(u=u||0,h=h||0,s?(p=p||0,d=d||0,e[0]=o,e[1]=l,e[2]=u,e[3]=p,e[4]=a,e[5]=c,e[6]=h,e[7]=d,e):(e[0]=o,e[1]=l,e[2]=u,e[3]=a,e[4]=c,e[5]=h,e)):s?(p=p||0,d=d||0,e[0]=o,e[1]=l,e[2]=p,e[3]=a,e[4]=c,e[5]=d,e):(e[0]=o,e[1]=l,e[2]=a,e[3]=c,e)}function yu(e,t,r,n,i,s){const o=r?3:2,a=n&&s,l=r&&i;if(!t.length||!t[0].length)return null;let c,u,h,p,[d,f]=t[0],[y,m]=t[0];for(let e=0;e<t.length;e++){const r=t[e],[n,i]=r;if(d=cu(d,n),f=cu(f,i),y=uu(y,n),m=uu(m,i),l&&r.length>2){const e=r[2];c=cu(c,e),u=uu(u,e)}if(a&&r.length>o){const e=r[o];h=cu(c,e),p=uu(u,e)}}return i?(c=c||0,u=u||0,s?(h=h||0,p=p||0,e[0]=d,e[1]=f,e[2]=c,e[3]=h,e[4]=y,e[5]=m,e[6]=u,e[7]=p,e):(e[0]=d,e[1]=f,e[2]=c,e[3]=y,e[4]=m,e[5]=u,e)):s?(h=h||0,p=p||0,e[0]=d,e[1]=f,e[2]=h,e[3]=y,e[4]=m,e[5]=p,e):(e[0]=d,e[1]=f,e[2]=y,e[3]=m,e)}const mu=[];function gu(e,t,r,n){return{xmin:e,ymin:t,xmax:r,ymax:n}}function vu(e,t,r,n,i,s){return{xmin:e,ymin:t,zmin:r,xmax:n,ymax:i,zmax:s}}function bu(e,t,r,n,i,s){return{xmin:e,ymin:t,mmin:r,xmax:n,ymax:i,mmax:s}}function _u(e,t,r,n,i,s,o,a){return{xmin:e,ymin:t,zmin:r,mmin:n,xmax:i,ymax:s,zmax:o,mmax:a}}function wu(e,t=!1,r=!1){return t?r?_u(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):vu(e[0],e[1],e[2],e[3],e[4],e[5]):r?bu(e[0],e[1],e[2],e[3],e[4],e[5]):gu(e[0],e[1],e[2],e[3])}function xu(e){return e?function(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}(e)?e:function(e){return void 0!==e.x&&void 0!==e.y}(e)?function(e){const{x:t,y:r,z:n,m:i}=e,s=null!=i;return null!=n?s?_u(t,r,n,i,t,r,n,i):vu(t,r,n,t,r,n):s?bu(t,r,i,t,r,i):gu(t,r,t,r)}(e):function(e){return void 0!==e.rings}(e)?Su(e):function(e){return void 0!==e.paths}(e)?Ou(e):function(e){return void 0!==e.points}(e)?function(e){const{hasZ:t,hasM:r,points:n}=e;return wu(yu(mu,n,t,r),t,r)}(e):null:null}function Su(e){const{hasZ:t,hasM:r,rings:n}=e,i=du(mu,n,t,r);return i?wu(i,t,r):null}function Ou(e){const{hasZ:t,hasM:r,paths:n}=e,i=du(mu,n,t,r);return i?wu(i,t,r):null}var Mu;function Au(e){return!Array.isArray(e[0])}let Tu=Mu=class extends Ks{constructor(...e){super(...e),this.rings=[],this.type="polygon"}static fromExtent(e){const t=e.clone().normalize(),r=e.spatialReference;let n=!1,i=!1;t.map((e=>{e.hasZ&&(n=!0),e.hasM&&(i=!0)}));const s={rings:t.map((function(e){const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(n&&e.hasZ){const r=e.zmin+.5*(e.zmax-e.zmin);for(let e=0;e<t.length;e++)t[e].push(r)}if(i&&e.hasM){const r=e.mmin+.5*(e.mmax-e.mmin);for(let e=0;e<t.length;e++)t[e].push(r)}return t})),spatialReference:r};return n&&(s.hasZ=!0),i&&(s.hasM=!0),new Mu(s)}normalizeCtorArgs(e,t){let r,n,i=null,s=null;return e&&!Array.isArray(e)?(i=e.rings?e.rings:null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),r=e.hasZ,n=e.hasM):i=e,i=i||[],t=t||Ms.WGS84,i.length&&i[0]&&null!=i[0][0]&&"number"==typeof i[0][0]&&(i=[i]),s=i[0]&&i[0][0],s&&(void 0===r&&void 0===n?(r=s.length>2,n=!1):void 0===r?r=!n&&s.length>3:void 0===n&&(n=!r&&s.length>3)),{rings:i,spatialReference:t,hasZ:r,hasM:n}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=tu(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new bo;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=Su(this);if(!t)return null;const r=new Qo(t);return r.spatialReference=e,r}get isSelfIntersecting(){return function(e){for(let t=0;t<e.length;t++){const r=e[t];for(let n=0;n<r.length-1;n++){const i=r[n],s=r[n+1];for(let r=t+1;r<e.length;r++)for(let t=0;t<e[r].length-1;t++){const n=e[r][t],o=e[r][t+1];if(Wo(i,s,n,o,zo)&&!(zo[0]===i[0]&&zo[1]===i[1]||zo[0]===n[0]&&zo[1]===n[1]||zo[0]===s[0]&&zo[1]===s[1]||zo[0]===o[0]&&zo[1]===o[1]))return!0}}const n=r.length;if(!(n<=4))for(let e=0;e<n-3;e++){let t=n-1;0===e&&(t=n-2);const i=r[e],s=r[e+1];for(let n=e+2;n<t;n++){const e=r[n],t=r[n+1];if(Wo(i,s,e,t,zo)&&!(zo[0]===i[0]&&zo[1]===i[1]||zo[0]===e[0]&&zo[1]===e[1]||zo[0]===s[0]&&zo[1]===s[1]||zo[0]===t[0]&&zo[1]===t[1]))return!0}}}return!1}(this.rings)}writeRings(e,t){t.rings=Object(n.o)(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(Au(e)){const n=[];for(let t=0,r=e.length;t<r;t++)n[t]=e[t].toArray();t[r]=n}else t[r]=e.concat();return this.notifyChange("rings"),this}clone(){const e=new Mu;return e.spatialReference=this.spatialReference,e.rings=Object(n.o)(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}contains(e){return!!e&&(ao(e,this.spatialReference)&&(e=lo(e,this.spatialReference)),Ao(this,e))}isClockwise(e){let t;return t=Au(e)?e.map((e=>this.hasZ?this.hasM?[e.x,e.y,e.z,e.m]:[e.x,e.y,e.z]:[e.x,e.y])):e,Xc(t,this.hasM,this.hasZ)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new bo(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new bo(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new bo(r[0],r[1],r[2],r[3],this.spatialReference):new bo(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(Jc(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new bo(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,n=t.map((e=>new bo(e,r)));return this.notifyChange("rings"),n}setPoint(e,t,r){return this._validateInputs(e,t)?(Jc(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(null==e||e<0||e>=this.rings.length)return!1;if(null!=t){const n=this.rings[e];if(r&&(t<0||t>n.length))return!1;if(!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write(null,e)}};i([Se({readOnly:!0})],Tu.prototype,"cache",null),i([Se({readOnly:!0})],Tu.prototype,"centroid",null),i([Se({readOnly:!0})],Tu.prototype,"extent",null),i([Se({readOnly:!0})],Tu.prototype,"isSelfIntersecting",null),i([Se({type:[[[Number]]],json:{write:{isRequired:!0}}})],Tu.prototype,"rings",void 0),i([Di("rings")],Tu.prototype,"writeRings",null),Tu=Mu=i([it("esri.geometry.Polygon")],Tu),Tu.prototype.toJSON.isDefaultToJSON=!0;var Lu,ku=Tu;let Pu=Lu=class extends Ks{constructor(...e){super(...e),this.paths=[],this.type="polyline"}normalizeCtorArgs(e,t){let r,n,i=null,s=null;return e&&!Array.isArray(e)?(i=e.paths?e.paths:null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),r=e.hasZ,n=e.hasM):i=e,i=i||[],t=t||Ms.WGS84,i.length&&i[0]&&null!=i[0][0]&&"number"==typeof i[0][0]&&(i=[i]),s=i[0]&&i[0][0],s&&(void 0===r&&void 0===n?(r=s.length>2,n=!1):void 0===r?r=!n&&s.length>3:void 0===n&&(n=!r&&s.length>3)),{paths:i,spatialReference:t,hasZ:r,hasM:n}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=Ou(this);if(!t)return null;const r=new Qo(t);return r.spatialReference=e,r}writePaths(e,t){t.paths=Object(n.o)(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(function(e){return!Array.isArray(e[0])}(e)){const n=[];for(let t=0,r=e.length;t<r;t++)n[t]=e[t].toArray();t[r]=n}else t[r]=e.concat();return this.notifyChange("paths"),this}clone(){const e=new Lu;return e.spatialReference=this.spatialReference,e.paths=Object(n.o)(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new bo(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new bo(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new bo(r[0],r[1],r[2],r[3],this.spatialReference):new bo(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(Jc(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,n=t.map((e=>new bo(e,r)));return this.notifyChange("paths"),n}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new bo(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(Jc(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(null==e||e<0||e>=this.paths.length)return!1;if(null!=t){const n=this.paths[e];if(r&&(t<0||t>n.length))return!1;if(!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write(null,e)}};i([Se({readOnly:!0})],Pu.prototype,"cache",null),i([Se({readOnly:!0})],Pu.prototype,"extent",null),i([Se({type:[[[Number]]],json:{write:{isRequired:!0}}})],Pu.prototype,"paths",void 0),i([Di("paths")],Pu.prototype,"writePaths",null),Pu=Lu=i([it("esri.geometry.Polyline")],Pu),Pu.prototype.toJSON.isDefaultToJSON=!0;var Cu=Pu;const Iu=Pa()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),Ru=Pa()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),ju={base:Ks,key:"type",typeMap:{extent:Qo,multipoint:Zc,point:bo,polyline:Cu,polygon:ku}};Q(ju);let Eu=0;const Nu=e=>{let t=class extends e{constructor(...e){super(...e),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+Eu++})}};return t=i([it("esri.core.Identifiable")],t),t};let Gu=class extends(Nu(class{})){};Gu=i([it("esri.core.Identifiable")],Gu)}]]);